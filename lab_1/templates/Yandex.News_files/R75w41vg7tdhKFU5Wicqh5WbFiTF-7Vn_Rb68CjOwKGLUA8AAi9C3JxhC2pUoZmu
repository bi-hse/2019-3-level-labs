var BEMHTML;!function(t){function e(t){var e={},i=new(function(t,e){var i;i="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t};var n={},o=/[&<>]/;n.xmlEscape=function(t){var e,i=""+t,n=o.exec(i);if(!n)return i;var s="",r=0,a=0;for(r=n.index;r<i.length;r++){switch(i.charCodeAt(r)){case 38:e="&amp;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}a!==r&&(s+=i.substring(a,r)),a=r+1,s+=e}return a!==r?s+i.substring(a,r):s};var s=/["&]/;n.attrEscape=function(t){var e,i=""+t,n=s.exec(i);if(!n)return i;var o="",r=0,a=0;for(r=n.index;r<i.length;r++){switch(i.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;default:continue}a!==r&&(o+=i.substring(a,r)),a=r+1,o+=e}return a!==r?o+i.substring(a,r):o};var r=/['&]/;n.jsAttrEscape=function(t){var e,i=""+t,n=r.exec(i);if(!n)return i;var o="",s=0,a=0;for(s=n.index;s<i.length;s++){switch(i.charCodeAt(s)){case 38:e="&amp;";break;case 39:e="&#39;";break;default:continue}a!==s&&(o+=i.substring(a,s)),a=s+1,o+=e}return a!==s?o+i.substring(a,s):o},n.extend=function(t,e){if(!t||!e)return t||e;var i,n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n};var a={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};n.isShortTag=function(t){return a.hasOwnProperty(t)},n.isSimple=function t(e){return!e||!0===e||(!(e.block||e.elem||e.tag||e.cls||e.attrs||!e.hasOwnProperty("html")||!t(e.html))||("string"==typeof e||"number"==typeof e))};var c=0,u=+new Date,h="__"+u,l="uniq"+u;function d(){return l+ ++c}n.getUniq=d,n.identify=function(t,e){if(!t)return d();if(e||t[h])return t[h];var i=d();return t[h]=i,i};var p=/^[:\w.-]+$/;function f(t){this.modDelim=t.mod||"_",this.elemDelim=t.elem||"__"}function m(t){this._bemxjst=t,this.ctx=null,this.block="",this._currBlock="",this.elem=null,this.mods={},this.elemMods={},this.position=0,this._listLength=0,this._notNewList=!1,this.escapeContent=!0===t.options.escapeContent}function _(t,e){this.template=t,this.keys=e.key,this.value=e.value}function g(t,e){this.template=t,this.body=e.body}function v(t){this.template=t,this.wrap=null}function b(t){this.template=t,this.wrap=null}function y(t,e){this.template=t,this.key=e.key,this.value=e.value}function M(t,e){this.predicates=t,this.body=e}function E(){}function k(t,e){this.conditions=[],this.children=[];for(var i=e.length-1;i>=0;i--){var n=e[i];n instanceof E?this.conditions.push(n):n===t.boundBody?this.children[i]=t.queue.pop():this.children[i]=n}}function x(t){E.call(this),this.refs=t}function w(t){E.call(this),this.refs=t}function B(t){E.call(this),this.refs=t}function C(t,e){E.call(this),this.mode=t,this.refs=e}function T(t){E.call(this),this.options=t}function S(t,e){E.call(this),this.key=t,this.value=e}function D(t){E.call(this),this.body=t}function I(t,e){this.entity=t,this.modeName=e,this.bemxjst=this.entity.bemxjst,this.templates=[],this.mask=[0],this.maskSize=0,this.maskOffset=0,this.count=0,this.depth=-1,this.thrownError=null}function P(t){this.options=t,this.refs=this.options.refs,this.boundBody=this.body.bind(this);for(var e=this.methods("body"),i=0;i<e.length;i++){var n=e[i];this.boundBody[P.methods[i]]=n}this.queue=[],this.templates=[],this.initializers=[]}function O(t,e,i){var n=t[i],o=t.boundBody;return"body"!==e?"replace"===i||"extend"===i||"wrap"===i?function(){return n.apply(t,arguments)}:function(){return n.apply(t,arguments),o}:function(){var e=n.apply(t,arguments),s=t.queue.pop(),r=t.queue[t.queue.length-1];return r.conditions=r.conditions.concat(s.conditions),r.children=r.children.concat(s.children),"replace"===i||"extend"===i||"wrap"===i?e:o}}function A(t,e,i,n){this.bemxjst=t,this.block=null,this.elem=null,this.options={},this.canFlush=!0,this.def=new I(this),this.content=new I(this,"content"),this.rest={},this.init(e,i),this.initModes(n)}function R(){return this.ctx.content}function N(t,e){this.name="BEMXJSTError",this.message=t,Error.captureStackTrace?Error.captureStackTrace(this,e||this.constructor):this.stack=(new Error).stack}function j(t){this.options=t||{},this.entities=null,this.defaultEnt=null,this.tree=null,this.match=null,this.contextConstructor=function(t){m.call(this,t)},i(this.contextConstructor,m),this.context=null,this.classBuilder=new f(this.options.naming||{}),this.depth=0,this.canFlush=!1,this.oninit=null,this.defaultEnt=new this.Entity(this,"","",[]),this.defaultElemEnt=new this.Entity(this,"","",[])}function F(t){this.bemxjst=t,this.jsClass=null,this.tag=new I(this,"tag"),this.attrs=new I(this,"attrs"),A.apply(this,arguments)}function V(t){j.apply(this,arguments),this._shortTagCloser=void 0!==t.xhtml&&t.xhtml?"/>":">",this._elemJsInstances=t.elemJsInstances,this._omitOptionalEndTags=t.omitOptionalEndTags,this._unquotedAttrs=void 0!==t.unquotedAttrs&&t.unquotedAttrs}n.isUnquotedAttr=function(t){return t&&p.exec(t)},f.prototype.build=function(t,e){return e?t+this.elemDelim+e:t},f.prototype.buildModPostfix=function(t,e){var i=this.modDelim+t;return!0!==e&&(i+=this.modDelim+e),i},f.prototype.buildBlockClass=function(t,e,i){var n=t;return i&&(n+=this.buildModPostfix(e,i)),n},f.prototype.buildElemClass=function(t,e,i,n){return this.buildBlockClass(t)+this.elemDelim+e+this.buildModPostfix(i,n)},f.prototype.split=function(t){return t.split(this.elemDelim,2)},m.prototype._flush=null,m.prototype.isSimple=n.isSimple,m.prototype.isShortTag=n.isShortTag,m.prototype.extend=n.extend,m.prototype.identify=n.identify,m.prototype.xmlEscape=n.xmlEscape,m.prototype.attrEscape=n.attrEscape,m.prototype.jsAttrEscape=n.jsAttrEscape,m.prototype.isFirst=function(){return 1===this.position},m.prototype.isLast=function(){return this.position===this._listLength},m.prototype.generateId=function(){return n.identify(this.ctx)},m.prototype.reapply=function(t){return this._bemxjst.run(t)},_.prototype.exec=function(t){for(var e=t,i=0;i<this.keys.length-1;i++)if(!(e=e[this.keys[i]]))return!1;return e=e[this.keys[i]],!0===this.value?void 0!==e&&""!==e&&!1!==e&&null!==e:String(e)===this.value},g.prototype.exec=function(t){return this.body.call(t,t,t.ctx)},v.prototype.exec=function(t){var e=this.wrap!==t.ctx;return this.wrap=t.ctx,e},b.prototype.exec=function(t){var e=this.ext!==t.ctx;return this.ext=t.ctx,e},y.prototype.exec=function(t){return t[this.key]===this.value},M.prototype.wrap=function(){for(var t=this.body,e=0;e<this.predicates.length;e++){t=this.predicates[e].wrapBody(t)}this.body=t},M.prototype.clone=function(){return new M(this.predicates.slice(),this.body)},E.prototype.wrapBody=function(t){return t},i(x,E),x.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},i(w,E),w.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},i(B,E),B.prototype.wrapBody=function(t){var e=this.refs.applyCtx,i=this.refs.local;return"function"!=typeof t?function(){for(var n={},o=Object.keys(t),s=0;s<o.length;s++)n[o[s]]=t[o[s]];return i(n)(function(){return e(this.ctx)})}:function(){for(var n={},o=t.call(this,this,this.ctx),s=Object.keys(o),r=0;r<s.length;r++)n[s[r]]=o[s[r]];return i(n)(function(){return e(this.ctx)})}},i(C,E),C.prototype.wrapBody=function(t){return this[this.mode+"WrapBody"](t)},C.prototype.appendContentWrapBody=function(t){var e=this.refs,i=e.applyCtx,n=e.apply;return"function"!=typeof t?function(){return[n("content"),t]}:function(){return[n("content"),i(t.call(this,this,this.ctx))]}},C.prototype.prependContentWrapBody=function(t){var e=this.refs,i=e.applyCtx,n=e.apply;return"function"!=typeof t?function(){return[t,n("content")]}:function(){return[i(t.call(this,this,this.ctx)),n("content")]}},i(T,E),i(S,E),i(D,E),I.prototype.prepend=function(t){for(this.templates=t.templates.concat(this.templates),this.count+=t.count;Math.ceil(this.count/31)>this.mask.length;)this.mask.push(0);this.maskSize=this.mask.length},I.prototype.push=function(t){this.templates.push(new function(t,e){this.mode=t,this.predicates=new Array(e.predicates.length),this.body=e.body;for(var i=[],n=0,o=0;n<this.predicates.length;n++,o++){var s=e.predicates[n];s instanceof S?this.predicates[o]=new _(this,s):s instanceof B?(o--,i.push(new b(this))):s instanceof C?this.predicates[n]=new y(this,s):s instanceof D?this.predicates[o]=new g(this,s):s instanceof x?(o--,i.push(new v(this))):o--}for(n=0;n<i.length;n++,o++)this.predicates[o]=i[n];this.predicates.length!==o&&(this.predicates.length=o)}(this,t)),this.count++,Math.ceil(this.count/31)>this.mask.length&&this.mask.push(0),this.maskSize=this.mask.length},I.prototype.tryCatch=function(t,e){try{return t.call(e,e,e.ctx)}catch(t){this.thrownError=t}},I.prototype.exec=function(t){for(var e,i=this.checkDepth(),n=this.maskOffset,o=this.mask[n],s=1,r=0;r<this.count;r++){if(0==(o&s)){e=this.templates[r];for(var a=0;a<e.predicates.length;a++){if(!e.predicates[a].exec(t))break}if(a===e.predicates.length)break}1073741824===s?(n++,o=this.mask[n],s=1):s<<=1}if(r===this.count)return this.restoreDepth(i),t.ctx[this.modeName];var c=o,u=this.bemxjst.match;this.mask[n]|=s,this.bemxjst.match=this,this.thrownError=null;var h="function"==typeof e.body?this.tryCatch(e.body,t):e.body;this.mask[n]=c,this.bemxjst.match=u,this.restoreDepth(i);var l=this.thrownError;if(null!==l)throw this.thrownError=null,l;return h},I.prototype.checkDepth=function(){if(-1===this.depth)return this.depth=this.bemxjst.depth,-1;if(this.bemxjst.depth===this.depth)return this.depth;var t=this.depth;for(this.depth=this.bemxjst.depth,this.maskOffset+=this.maskSize;this.mask.length<this.maskOffset+this.maskSize;)this.mask.push(0);return t},I.prototype.restoreDepth=function(t){-1!==t&&t!==this.depth&&(this.maskOffset-=this.maskSize),this.depth=t},P.methods=["match","wrap","block","elem","mode","mod","elemMod","def","tag","attrs","cls","js","bem","mix","content","replace","extend","oninit","xjstOptions","appendContent","prependContent"],P.prototype.build=function(t,e){var i=this.methods("global").concat(e);return i[0]=this.match.bind(this),t.apply({},i),{templates:this.templates.slice().reverse(),oninit:this.initializers}},P.prototype.methods=function(t){for(var e=new Array(P.methods.length),i=0;i<e.length;i++){var n=P.methods[i];e[i]=O(this,t,n)}return e},P.prototype.flush=function(t,e){for(var i=e.conditions?t.concat(e.conditions):e.conditions,n=0;n<e.children.length;n++){var o=e.children[n];if(o instanceof k)this.flush(i,e.children[n]);else{var s=new M(t,o);s.wrap(),this.templates.push(s)}}},P.prototype.body=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];var i=new k(this,t);return this.queue[this.queue.length-1].children.push(i),1===this.queue.length&&this.flush([],this.queue.shift()),this.boundBody},P.prototype.match=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++){var i=arguments[e];if("function"==typeof i&&(i=new D(i)),!(i instanceof E))throw new Error("Wrong .match() argument");t[e]=i}return this.queue.push(new k(this,t)),this.boundBody},P.prototype.applyMode=function(t,e){if(t.length)throw new Error("Predicate should not have arguments but "+JSON.stringify(t)+" passed");return this.mode(e)},P.prototype.xjstOptions=function(t){return this.queue.push(new k(this,[new T(t)])),this.boundBody},P.prototype.block=function(t){return this.match(new S("block",t))},P.prototype.elem=function(t){return this.match(new S("elem",t))},P.prototype.mode=function(t){return this.match(new S("_mode",t))},P.prototype.mod=function(t,e){return this.match(new S(["mods",t],void 0===e||String(e)))},P.prototype.elemMod=function(t,e){return this.match(new S(["elemMods",t],void 0===e||String(e)))},P.prototype.def=function(){return this.applyMode(arguments,"default")},["tag","attrs","cls","js","bem","mix","content"].forEach(function(t){P.prototype[t]=function(){return this.applyMode(arguments,t)}}),["appendContent","prependContent"].forEach(function(t){P.prototype[t]=function(){return this.content.apply(this,arguments).match(new C(t,this.refs))}}),P.prototype.wrap=function(){return this.def.apply(this,arguments).match(new x(this.refs))},P.prototype.replace=function(){return this.def.apply(this,arguments).match(new w(this.refs))},P.prototype.extend=function(){return this.def.apply(this,arguments).match(new B(this.refs))},P.prototype.oninit=function(t){this.initializers.push(t)},A.prototype.init=function(t,e){this.block=t,this.elem=e},A.prototype.initModes=function(t){for(var e=0;e<t.length;e++){for(var i=t[e],o=i.predicates.length-1;o>=0;o--){if((s=i.predicates[o])instanceof S&&"_mode"===s.key){i.predicates.splice(o,1),this._initRest(s.value),this.rest[s.value].push(i);break}}-1===o&&this.def.push(i);for(o=i.predicates.length-1;o>=0;o--){var s;(s=i.predicates[o])instanceof T&&(this.options=n.extend(this.options,s.options))}}},A.prototype.prepend=function(t){for(var e=Object.keys(this.rest),i=0;i<e.length;i++){var n=e[i];t.rest[n]&&this.rest[n].prepend(t.rest[n])}e=Object.keys(t.rest);for(i=0;i<e.length;i++){n=e[i];this.rest[n]||(this._initRest(n),this.rest[n].prepend(t.rest[n]))}},A.prototype.run=function(t){return 0!==this.def.count?this.def.exec(t):this.defaultBody(t)},A.prototype.setDefaults=function(){if(0!==this.content.count&&this.content.push(new M([],R)),0!==this.def.count){this.canFlush=this.options.flush||!1;var t=this;this.def.push(new M([],function(){return t.defaultBody(this)}))}},N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,j.prototype.locals=P.methods.concat("local","applyCtx","applyNext","apply"),j.prototype.compile=function(t){var e=this;function i(){return e._run(e.context.ctx)}function n(t,n){return n?e.local(n,function(){return e.local({ctx:t},i)}):e.local({ctx:t},i)}function o(t,i){return e.applyMode(t,i)}function s(t){return function(i){return e.local(t,i)}}var r=new P({refs:{applyCtx:n,local:s,apply:o}}),a=this.recompileInput(t),c=r.build(a,[s,n,function t(i){return i?e.local(i,t):e.applyNext()},o]);this.tree&&(c={templates:c.templates.concat(this.tree.templates),oninit:this.tree.oninit.concat(c.oninit)}),this.tree=c;var u=this.groupEntities(c.templates);u=this.transformEntities(u),this.entities=u,this.oninit=c.oninit},j.prototype.recompileInput=function(t){var e=j.prototype.locals;if("function"==typeof t&&t.length===e.length)return t;var i=t.toString();return i=i.replace(/^function[^{]+{|}$/g,""),i=new Function(e.join(", "),i)},j.prototype.groupEntities=function(t){for(var e={},i=0;i<t.length;i++){var n,o=t[i].clone(),s=null;n=void 0;for(var r=0;r<o.predicates.length;r++){if((c=o.predicates[r])instanceof S||c instanceof C){if("block"===c.key)s=c.value;else{if("elem"!==c.key)continue;n=c.value}o.predicates.splice(r,1),r--}}if(null===s){var a="block(…) subpredicate is not found.\n    See template with subpredicates:\n     * ";for(r=0;r<o.predicates.length;r++){var c=o.predicates[r];0!==r&&(a+="\n     * "),"_mode"===c.key?a+=c.value+"()":Array.isArray(c.key)?a+=c.key[0].replace("mods","mod").replace("elemMods","elemMod")+"('"+c.key[1]+"', '"+c.value+"')":c.value&&c.key?a+=c.key+"('"+c.value+"')":a+="match(…)"}throw new N(a+="\n    And template body: \n    ("+("function"==typeof o.body?o.body:JSON.stringify(o.body))+")")}var u=this.classBuilder.build(s,n);e[u]||(e[u]=[]),e[u].push(o)}return e},j.prototype.transformEntities=function(t){for(var e=[],i=Object.keys(t),n=0;n<i.length;n++){var o=i[n],s=this.classBuilder.split(o),r=s[0],a=s[1];"*"===a&&e.push(r),t[o]=new this.Entity(this,r,a,t[o])}if(t.hasOwnProperty("*")){var c=t["*"];for(n=0;n<i.length;n++){"*"!==(o=i[n])&&t[o].prepend(c)}this.defaultEnt.prepend(c),this.defaultElemEnt.prepend(c)}for(n=0;n<e.length;n++){r=e[n];var u=this.classBuilder.build(r,"*");for(c=t[u],n=0;n<i.length;n++){if((o=i[n])!==u){var h=t[o];h.block===r&&void 0!==h.elem&&t[o].prepend(c)}}this.defaultElemEnt.prepend(c)}for(n=0;n<i.length;n++){t[o=i[n]].setDefaults(),this.defaultEnt.setDefaults(),this.defaultElemEnt.setDefaults()}return t},j.prototype._run=function(t){return void 0===t||""===t||null===t?this.runEmpty():Array.isArray(t)?this.runMany(t):"string"!=typeof t.html||t.tag||void 0!==t.block||void 0!==t.elem||void 0!==t.cls||void 0!==t.attrs?n.isSimple(t)?this.runSimple(t):this.runOne(t):this.runUnescaped(t)},j.prototype.run=function(t){var e=this.match,i=this.context;this.match=null,this.context=new this.contextConstructor(this),this.canFlush=null!==this.context._flush,this.depth=0;var n=this._run(t);return this.canFlush&&(n=this.context._flush(n)),this.match=e,this.context=i,n},j.prototype.runEmpty=function(){return this.context._listLength--,""},j.prototype.runUnescaped=function(t){return this.context._listLength--,""+t.html},j.prototype.runSimple=function(t){return this.context._listLength--,!t&&0!==t||!0===t?"":"string"==typeof t&&this.context.escapeContent?n.xmlEscape(t):t},j.prototype.runOne=function(t){var e=this.context,i=e.ctx,n=e.block,o=e._currBlock,s=e.elem,r=e.mods,a=e.elemMods;t.block||t.elem?e._currBlock="":e._currBlock=e.block,e.ctx=t,t.block?(e.block=t.block,t.mods?e.mods=t.mods:t.block===n&&t.elem||(e.mods={})):t.elem?o&&(e.block=o):e.block="",e.elem=t.elem,t.elemMods?e.elemMods=t.elemMods:e.elemMods={};var c=e.block||"",u=e.elem;c||u?e.position++:e._listLength--,this.depth++;var h=!1,l=this.entities[this.classBuilder.build(c,u)];l?this.canFlush&&!l.canFlush&&(h=!0,this.canFlush=!1):(l=this.defaultEnt,void 0!==u&&(l=this.defaultElemEnt),l.init(c,u));var d=!0===this.options.production?this.tryRun(e,l):l.run(e);return e.ctx=i,e.block=n,e.elem=s,e.mods=r,e.elemMods=a,e._currBlock=o,this.depth--,h&&(this.canFlush=!0),d},j.prototype.tryRun=function(t,e){try{return e.run(t)}catch(e){return console.error("BEMXJST ERROR: cannot render "+["block "+t.block,"elem "+t.elem,"mods "+JSON.stringify(t.mods),"elemMods "+JSON.stringify(t.elemMods)].join(", "),e),""}},j.prototype.renderContent=function(t,e){var i=this.context,n=i.position,o=i._listLength,s=i._notNewList;i._notNewList=!1,e&&(i.position=0,i._listLength=1);var r=this._run(t);return i.position=n,i._listLength=o,i._notNewList=s,r},j.prototype.local=function(t,e){for(var i=Object.keys(t),n=[],o=0;o<i.length;o++){for(var s=i[o],r=s.split("."),a=this.context,c=0;c<r.length-1;c++)a=a[r[c]];n.push({parts:r,value:a[r[c]]}),a[r[c]]=t[s]}var u=e.call(this.context);for(o=0;o<n.length;o++){for(r=n[o].parts,a=this.context,c=0;c<r.length-1;c++)a=a[r[c]];a[r[c]]=n[o].value}return u},j.prototype.applyNext=function(){return this.match.exec(this.context)},j.prototype.applyMode=function(t,e){var i=this.match.entity.rest[t];if(!i)return this.context.ctx[t];if(!e)return i.exec(this.context);var n=this;return this.local(e,function(){return i.exec(n.context)})},j.prototype.exportApply=function(t){var e=this;t.apply=function(t){return e.run(t)},t.compile=function(t){return e.compile(t)},t.BEMContext=e.contextConstructor;for(var i=0;i<e.oninit.length;i++){(0,e.oninit[i])(t,{BEMContext:t.BEMContext})}},i(F,A),F.prototype.init=function(t,e){this.block=t,this.elem=e,this.jsClass=this.bemxjst.classBuilder.build(this.block,this.elem)},F.prototype._initRest=function(t){"default"===t?this.rest[t]=this.def:"tag"===t||"attrs"===t||"content"===t?this.rest[t]=this[t]:this.rest.hasOwnProperty(t)||(this.rest[t]=new I(this,t))},F.prototype.defaultBody=function(t){return this.bemxjst.render(t,this,this.tag.exec(t),!1!==t.ctx.js?this.rest.js?this.rest.js.exec(t):t.ctx.js:void 0,this.rest.bem?this.rest.bem.exec(t):t.ctx.bem,this.rest.cls?this.rest.cls.exec(t):t.ctx.cls,this.rest.mix?this.rest.mix.exec(t):t.ctx.mix,this.attrs.exec(t),this.content.exec(t))},i(V,j),t.exports=V,V.prototype.Entity=F,V.prototype.runMany=function(t){var e="",i=this.context,n=i.position,o=i._notNewList;if(o?i._listLength+=t.length-1:(i.position=0,i._listLength=t.length),i._notNewList=!0,this.canFlush)for(var s=0;s<t.length;s++)e+=i._flush(this._run(t[s]));else for(s=0;s<t.length;s++)e+=this._run(t[s]);return o||(i.position=n),e},V.prototype.render=function(t,e,i,o,s,r,a,c,u){var h=t.ctx;if(void 0===i)i="div";else if(!i)return u||0===u?this._run(u):"";var l,d="<"+i,p=h.js;!1!==p&&(!0===o&&(o={}),o&&o!==h.js?!0!==p&&(o=n.extend(p,o)):!0===p&&(o={})),o&&((l={})[e.jsClass]=o);var f=void 0!==s?s:e.block||e.elem;f=!!f;var m=l&&(this._elemJsInstances?e.block||e.elem:e.block&&!e.elem);if(!f&&!r)return this.renderClose(d,t,i,c,f,h,u);d+=" class=";var _="";if(f){if(_+=e.jsClass+this.buildModsClasses(e.block,e.elem,e.elem?t.elemMods:t.mods),h.mix&&a&&a!==h.mix&&(a=[].concat(a,h.mix)),a){var g=this.renderMix(e,a,l,m);_+=g.out,l=g.jsParams,m=g.addJSInitClass}r&&(_+=" "+("string"==typeof r?n.attrEscape(r).trim():r))}else _+="string"==typeof r?n.attrEscape(r).trim():r;return m&&(_+=" ddOm6Q6A"),d+=this._unquotedAttrs&&n.isUnquotedAttr(_)?_:'"'+_+'"',f&&l&&(d+=" deaWsRaBm50I='"+n.jsAttrEscape(JSON.stringify(l))+"'"),this.renderClose(d,t,i,c,f,h,u)};var L={html:1,head:1,body:1,p:1,li:1,dt:1,dd:1,colgroup:1,thead:1,tbody:1,tfoot:1,tr:1,th:1,td:1,option:1,rb:1,rt:1,rtc:1,rp:1,optgroup:1};V.prototype.renderClose=function(t,e,i,o,s,r,a){var c=t;return c+=this.renderAttrs(o,r),n.isShortTag(i)?(c+=this._shortTagCloser,this.canFlush&&(c=e._flush(c))):(c+=">",this.canFlush&&(c=e._flush(c)),(a||0===a)&&(c+=this.renderContent(a,s)),this._omitOptionalEndTags&&L.hasOwnProperty(i)||(c+="</"+i+">")),this.canFlush&&(c=e._flush(c)),c};var q=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&null!==t};return V.prototype.renderAttrs=function(t,e){var i="";if(q(t)||q(e.attrs))for(var o in t=n.extend(t,e.attrs)){var s=t[o];if(void 0!==s&&!1!==s&&null!==s)if(!0===s)i+=" "+o;else{var r=n.isSimple(s)?s:this.context.reapply(s);i+=" "+o+"=",i+=this._unquotedAttrs&&n.isUnquotedAttr(r)?r:'"'+n.attrEscape(r)+'"'}}return i},V.prototype.renderMix=function(t,e,i,n){var o={},s=this.context,r=i,a=n;o[t.jsClass]=!0,Array.isArray(e)||(e=[e]);for(var c=this.classBuilder,u="",h=0;h<e.length;h++){var l=e[h];if(l){"string"==typeof l&&(l={block:l,elem:void 0});var d=!1;l.elem?d=l.elem!==t.elem&&l.elem!==s.elem||l.block&&l.block!==t.block:l.block&&(d=!(l.block===t.block&&l.mods)||l.mods&&t.elem);var p=l.block||l._block||s.block,f=l.elem||l._elem||s.elem,m=c.build(p,f),_=l.elem||l._elem||(l.block?void 0:s.elem);if(d&&(u+=" "+c.build(p,_)),u+=this.buildModsClasses(p,_,l.elem||!l.block&&(l._elem||s.elem)?l.elemMods:l.mods),l.js&&(r||(r={}),r[c.build(p,l.elem)]=!0===l.js?{}:l.js,a||(a=p&&!l.elem)),d&&!o[m]){o[m]=!0;var g=this.entities[m];if(g){var v=s.block,b=s.elem,y=g.rest.mix&&g.rest.mix.exec(s);if(s.elem=b,s.block=v,y)for(var M=0;M<y.length;M++){var E=y[M];if(E&&(!E.block&&!E.elem||!o[c.build(E.block,E.elem)])){if(E.block)continue;E._block=p,E._elem=f,e=e.slice(0,h+1).concat(E,e.slice(h+1))}}}}}}return{out:u,jsParams:r,addJSInitClass:a}},V.prototype.buildModsClasses=function(t,e,i){if(!i)return"";var n="";for(var o in i)if(i.hasOwnProperty(o)&&""!==o){var s=i[o];if(s||0===s){"boolean"!=typeof s&&(s+="");var r=this.classBuilder;n+=" "+(e?r.buildElemClass(t,e,o,s):r.buildBlockClass(t,o,s))}}return n},t.exports||{}.BEMHTML}({}))({production:!0,runtimeLint:!1,escapeContent:!1});return i.compile(function(e,i,n,o,s,r,a,c,u,h,l,d,p,f,m,_,g,v,b,y,M,E,k,x,w){n("stream")(f()(function(){return[{block:"video-embed",js:{embedded:'<iframe width="100%" height="100%" src="'+this.ctx.embed_url+'" frameborder="0" allowfullscreen></iframe>'}}].concat(x())}),u()("li"),c()(function(t,e){var i=Date.now(),n=1e3*e.start_time,o=1e3*e.end_time,s=o>i&&Math.round((i-n)/(o-n)*100);return e.counter=["321.273.1104","84="+(85+e.pos)+",-parent_id="+e.parent_id+",76="+(s?"2952":"3021")],e._progress=s,x()}),m()(function(t,e){return[{elem:"image",content:[{block:"image",url:e.thumbnail.replace("orig","200x110"),width:"200",height:"110"},{elem:"play"},e._progress?{elem:"progress",attrs:{style:"width:"+e._progress+"%"}}:null]},{elem:"head",content:[{elem:"time",time:new Date(1e3*e.start_time)},{elem:"title",content:e.title}]}]}),o("title")(u()("span"),h()(function(){return{title:this.ctx.title}})),o("time")(u()("time"),h()(function(){return{datetime:this.ctx.time.toISOString()}}),m()(function(){var t=this.ctx.time,e=t.getHours(),i=t.getMinutes();return(e<10?"0":"")+e+":"+(i<10?"0":"")+i}))),n("video-embed")(o("modal").replace()(function(){return{block:"modal",mix:[{block:"video-embed",elem:"modal"}],mods:{for:"video",theme:"normal",autoclosable:"yes"}}}),o("content").replace()(function(){return{block:"video-embed",elem:"player",content:this.ctx.embedded}})),n("video-embed")(o("player")(m()(function(){return this.ctx.content.replace("height=100%25","height=514").replace("width=100%25","width=860")}))),n("popup2")(c()(function(){return void 0===this.mods.view&&(this.mods.view="classic"),x()}),("undefined"!=typeof addJs?addJs:d)()(function(){var t=this.ctx;return{mainOffset:t.mainOffset,secondaryOffset:t.secondaryOffset,viewportOffset:t.viewportOffset,tailOffset:t.tailOffset,tailSize:t.tailSize,directions:t.directions,zIndexGroupLevel:t.zIndexGroupLevel}}),e(function(){return this.ctx.hasTail}).content()(function(){var t=this.ctx,e=[].concat(t.content);return[].concat({elem:"tail"},e)})),n("modal")(("undefined"!=typeof addJs?addJs:d)()(!0),("undefined"!=typeof addJs?addMix:f)()(function(){return{block:"popup2",js:{zIndexGroupLevel:this.ctx.zIndexGroupLevel||20},mods:{autoclosable:this.mods.autoclosable}}}),m()(function(){return{elem:"table",content:{elem:"cell",content:{elem:"content",content:this.ctx.content}}}})),n("image")(u()("img"),h()(function(){var t=this.ctx,e={};return e.src=t.url||"https://yandex.com/news/_nzp/1EIn34184/60adefdbCs/Vr4-rQDw7Ip7LFV_SjprjITGCiCP5-5ZpjP46QaIwuyJGTcgNzN1latpDnZV6cCYiWTkumPEbFoxB0qlDn-PnWGmafBB_tq1azlQV2hEUYyJgCQmksWRUsIX3bkOr7W8qlUtFD07Q7S5bBM-ZtqWtqle4IAZ1E5oRgBJizBUvp1hqG3uaNn0qEE9R0VbRWOCvI81M6Xbs1TwNt6qD7WhmIlyAzIYBH-ovVgdHVLoqJG9ZNenP-5Xe2cdY4Iqd4ivQrxJ1XXe4LZkPUJBWVFjg5e-Iy6A4pBh_zrIrgS1or6AcwgCCBZDuKp6JRdNw5KvuUP1gSHOVUppPVGEEXOxnmupTNp90deeZB5oZUFCcqeBsAkOkvG4ZfMHzbswsKCSm2IIIwEkarKzUiQda-ibkYR32bc3zkRbVipVuRhSsrlkuVLne9_5qG0FQFpic22dmZ8iKZvKl0fKCOC3Ja6Wh75ECzAzMX6XqX4pDnXjvKu3VcePDuhEWFAvVaomcrOOYoRnymz64b9HKXd8X0x2kaGfNTSD-bRE8zHUiS-pnq6kUwsWCi9BsIJpERJW1byIq3T0oST3Q1hTFlaSDVGKtWKuQeRL2MejSBtKT29fVYWXjAcvvc6EZ_AV8aUfhbqYpFMRECAkWqCoXRQTcN27u7Rv6oYb2WNfXgdKtQZ6ro91gHXQYdjPv3cAZ0VYXGqMnZgPLLnxk0vDG8GqNoaGvqFDPyU0LGGBrXA-L2fGm72UTviXCOJncUsaRokDU4qUUIBI0X3EypBnAGVwWnhxgJSYFQSDwIxL0R3RqhC1o5mVaxIUCRJMmqtlJD5oxZKouWPqtyDaSGhJOV2OCG20iEeIa85Y5N6sSQZ1QHxuQKu1iw0Hp-aPVs0r0I89qr-cuHUYLhkHZrmJTjszdtWkm7xR24Ej60ZIVixwkSR_pal1jm_XTNHlnksFdGRgTHKutZgXFa_7hEL9DMy3OamVhYF3NxAVN3iHilsbPnDokrOuafyNGuJvdXYGTqUEe5S5TLx21kvoxapDNXhDT1NTiJOTLS6i6rVV3zbXiwS7tIeEVSsgHSRrsIFhNDdw8aaMl2nDhD7CZHNwCWW1GFassVC7bNde_f2QbChpZXByZqOCpSo2v-KEUMgY0rMZs6KytUg_BzYlS7WicTcGasGyib1K_rQ32kpWVg1-kwRliK1HgnPnVuHGvW4VcGFnRmSzmbktP4rBimPmL9qwDbeSpoZCOhQSNEKcjm41FlX2obGvcv2ACfNTeUUmTZcXfLy5Qqdj5l3Exb91GGJxZWNRub2vKwK74JlNzBPwkxqyqqShQDIjKCV1gKlpJiFFwpi7qH_UrSjJcW1jLUuBD3ugn0GpdulD69ueSj5jYmBgcqaKmC0MmMWgc_8sz7QAmL21iWQpGRY2XKeXTBURR8KCkqdD0rkZ5mF1WgJtuSVcsJ9cjFb7TeXnj3k4QmN7ZmGgu58MB63Pl2__MumuA46Zubt2DiMRF267n2EJFG3ig729VNegOOtsRFUeT4IAb4OsaI9O1G3A3YpEOWhBUFFforKbFS-myrJR3znRrDGToae_Rx8uMjpipYtEGS9QwrqUplfCtATaYn9cHnOlKW2-k1CCadti8d68ZDlKUkFFQIihjwEygOuPV9wO27oFu6KVt00NESgXXpyMWBoWSOeHuZlM0JQ0x0pTYxRiqCtunb9qh0vHbevGmGs-cntaY2arlLwWBqfCpUDNLdirOLa8taRNExogLW6WvXIODGXemIy9TcSTJ8BpVnkiTbQDV56xUKZIzFXP3ZZoCFZ4S0dHuKCCPC2Pya9WzTf1uQ-otZahbREeOzhOhbdGOgJQ1bO7n0bgrR71aEZXJkChNEi-rUqJV9Zc58yIfQd3dEZfcZqcngAIrP2ma-0n0bITiqOekmUzGB4lYISAYDYISMS1t69B3Jc78lF-RR5omRZ3s5x2glb1V_vciWM8ZnBsUU2Lp7kzB7nGoHPQKf6HHYmYmLpqKyEWEEman0Q2Nkb5l6ybTcGwBPlrZnAkbrEof6aiSYNG2GflxZxbNGZiW21DjJOZEhKExbVz_CbfrhGbvq2lRhwkOhxDs6FtKQJA3omrqmXFtCvvQUh5LE2oKWWQgXekaO9Z8-qaXyNMWWJkQqOqmhUxoMqzcsQzwI4PlZyBlEcZMhwtZ7-eYj8UQMaijaxx36Ah-mhLZwpxmQdzt7BMqG_vX_PLg2MuQl1tfGqDhLAyH6PDm2XtC-CdNba1opxWKS4VM0CAtlAaAFXjgJOXSNmQJsdwdHooYasCb7a0Z75w4Vj75b15HVJuR2RGub-kHCeE5ohC5Qb9tAK0tpajcQEACRVDvrJkOhFr-LipiVTdtADSdlhWOE61KW-wileKQdpF3syDSAtRX1xMXaCeqiM1vc6TYsMH85QxiYefqUowIikQWqSPZgYzc-e6iZZA158r01FXQx53lzRkqapoomg",e.alt=t.alt||"",e.width=t.width,e.height=t.height,this.extend(e,x())})),n("image").match(function(t,e){return e.object&&e.object.color_wiz&&e.object.color_wiz[0]}).attrs()(function(t,e){var i=x(),n=e.object.color_wiz[0];return i.style="background-color:"+n,i}),n("event")(o("status").tag()("span"),o("name").tag()("span")),n("tooltip").def()(function(){var t=this.ctx,e=this.mods;void 0===e.view&&(e.view="classic");var i={target:"anchor",hiding:"yes",autoclosable:e.autoclosable||"no",view:e.view,theme:"normal"},n=w("js"),o=void 0===(n=(n?this.extend(n,Object(t.js)):t.js)||{}).mainOffset?n.offset:n.mainOffset,s=n.to&&[].concat(n.to);return s&&(s=s.map(function(t){return t.indexOf("-")<0&&(t+="-center"),t})),k({block:"popup2",mods:i,attrs:t.attrs,directions:s||["right-center","bottom-center","top-center","left-center"],mainOffset:o,secondaryOffset:n.secondaryOffset,tailOffset:n.tailOffset,zIndexGroupLevel:n.zIndexGroupLevel,mix:[{block:"tooltip",mods:e}].concat(t.mix),content:[{block:"tooltip",elem:"backdrop",content:!1!==t.tail&&{block:"popup2",elem:"tail"}},{block:"tooltip",elem:"content",content:t.content}]})}),n("popup2").mod("target","anchor").def()(function(){return void 0===this.mods.hiding&&(this.mods.hiding="yes"),x()}),n("popup2").mod("target","anchor").mod("visible","yes").def()(function(){return this.mods.outside="yes",x()}),n("popup2").mod("hiding","yes").def()(function(){return"anchor"!==this.mods.target&&(this.mods.target="anchor"),x()}),n("ddOm6Q6A").elem("i18n").def()(function(){if(!this.ctx)return"";var t=this.ctx,e=t.keyset,i=t.key,n=t.params||{};return e||i?(t.content&&(n.content=this.reapply(t.content)),BEM.I18N(e,i,n)):""}),v(function(){!function(t,e){if(!e.I18N){t.BEM=e;var i=e.I18N=function(t,e){return e};i.keyset=function(){return i},i.key=function(t){return t},i.lang=function(){}}}(this,"undefined"==typeof BEM?{}:BEM)}),n("*").match(function(){return!this["i-session"]})(c()(function(){return this["i-session"]=w("params",{block:"i-session"}),x()}),e(function(){return BEM&&BEM.blocks&&"i-session"!==this.block}).def()(function(){return this["i-session"]=k({block:"i-session"}),x()})),n("i-session")(c()(function(){return BEM&&BEM.blocks?w("params"):""}),s("params")(function(){var t=this.ctx.params||{},e=BEM&&BEM.blocks&&(BEM.blocks["i-global"]||{});return e&&(t=this.extend(t,{location:location,i18n:e.i18n,counter:e.counter})),t})),v(function(t){var e=t.BEMContext.prototype,i=t["i-global"]=e["i-global"]=e.extend({lang:"ru",tld:"ru","content-region":"ru","click-host":"//clck.yandex.ru","passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","export-host":"https://export.yandex.ru",login:"","lego-static-host":"https://yandex.com/news/_nzp/1EIn34184/60adefdbCs/Vr4-rQDw7Ip7LFV_SjprjITGCiCP5-40p06p8kbVwfSaTz44MhZqtrNFDilTx727ilbSlB33YEV4DEeaLE2Qk06JYvthz-WAextie094QIi0hh8Hou-oUfAMzIsAqqeDnUwQBhknara9QRAAdOmgkY5BwKccxW5wdx1SrTJvlqFvinH6e9vBo1w1RF5wRFyMgIg8M5DRj0XKO-utOrO0ooBmGRw6EViVqWUrHXP9vrSORMSlCMVvW0YLT4gLTKOuY5x18XvY56pdPnROYnhMm6KwNiy767FB7RnNsxqxhaygVB8nPihpvLxgJBV8ypa0rW7gvRvUS01IIW-aGGSnol6ZYMV-2suxTD5VR1BRRoKKsTwKkOKPfNk1-6UaoJSTt1AiLh8rTrOsfhkTcuSgvbZG354qy3FVZwpIkyNLhZtRtGzQYOzelGo9RnVFRWOYprwvFJvFtU_7K8OcPKCXlbJQMRA_Knm1kUs0BFf8t5eacfmjFdB9bWcdVYsQaIaiaIBS2mfk9459PWBMW3pEs7GEMzetxZZT2hjttiOnl5aLUwk7HBNCtbttGiN12quYqEzKkwbzaVt0L061J1iloUylfupLwMGOfSdmZlBhVJmFgTIRpcKlTMEGyokNh5Cbmk8uMDc3eKKVWS4JddK3p7NhwKQFzGBRYCdNsRhPiZJClXHDSPzni20JU3JYWnWcqKsOBr7io2zgFNuaNoO-jodDEjUeE2OHlWQvFWnXmLezY_WmIddsWGA9ZYspUImARIVx5XvZwL9FJGJPZndumr2xHwm967ZBzQb7sg6sp4ykWBU-IC1_kJ1HMDBJw6SZtXPFgDfmR3lzJWavD1OUnHKEVMhkxcWSWy5YX3NdTbiWrhIXrd2FRP83zbE_ooeTsXUKEjI8XqKbQykkfPiWm7Zy4ZwV1EJ5YD90pxJYgKxVmGzMZ-_cq1kBZlNDQ3O7g44fEZDrrVbHEMGINou6s5tLPjI2DU6bqVooI0XYopOGfsazCvVkX2sFT6oDaZeOb4NQ8XXO3q57HVZbUFBEsLmhFhGJ35Jvxy_IrBaAvLWUYC4uGzVGh65AKTZQ4Ji8m2_gjCvAT05dAle3C1iSmUGGaOx92OufZglxcFFwQZOpoicLucuXReQS-KUOrpmTkHsIMigRWpCXXxk-TNu1vqZ25Jsfwl9VQQVegihWobd2jmv4eej_rGwMYlRAeWi_tqA3NI7Yr1fcEcybJ7e2gLtIDCExJU6Vsk8YNWnYt6WrZPSZOvdVcVcDY7MJRY-dSqRI73zQ_YtuBFVuUU50mLGzACS64aVQ0Tjhuh2VoqawTho5NjlolrxaFytGxpaajWXnnDnUSkZgBW2QLHyxrnWbb_VWx-yjSh9vUEJnU6aUgDAmuvuMX-0-9Ysyhbqfn2giExEpaIuZegUlSPqHqYtE5oc_x0x3ZyRmpSZLra5rvXX2QOPgkVg4VVdjVU-uuZw1DJr6o0X6O-yqP4iLkINKGTYiGlu_mmIqBW3AgpSKbsSsCPlOfmM9Tq4jbpOOYIV3xF3b_pVpKVh0TllRupyMDjG6w4pe-S74lg6GsJmDdj4fICdkh5dFJQpcw7S0ikzXvRzmZG13KVOIAlOVjVePYfB12MydYztnbmNlaL2Ajzcpn_6nYeI82KYTrpymiWczHSMESL2SZzkFRtuQu410_qY6wEdYRD5nryt5gpx0jHDNeMbsjmMlbGZZVWKMqpstBKbhkkXjKN-1FI2ZvL9ILzUaB0aHs2QyPWLAnri7UP23HuFUbHoUTIcgc5ScbqFi-mbPz4tDJ2h9THVxhp6vIzGtyqVn6AzhjCGMiZK7RToCBSdanZx7KDRK0YCttHHxugbXdlBmKGmkFHqpvH6FaeZE2ce4SwVuWFFbcLG4oykpvMypV-8w26kmtbGAg20CIDoqa6GXegs_VsGBs49g9ZAI62drQRtmsS98sYFwqlzoR-LBkEQdV1Bkcm6unKMXJ4HusmPjLfyWLY-ptblrKh4yP1WelmomD0jYlIuHYOenNOVgX2E6c4wsabGtf4t15FXE9I9oKlJ8aHhHkLW8IyGm8LVSyyn4uTulh7yxSDMfKAl2oLFEETFe95KPkErcnj3kT2ZiPVCoI2-wlWqUVfpb5ti-aS9EWllcS6-6qjUhvtuTVN8z7LMujISil3QCMT4uR5u9QxE3XtaLs51E2JElzG9ISBp-qypHp7xStEbAeM_7tngfWFNHe3SHiI8hNJv5jW_mNdy0E5S7v7VkMDQiL0Owq1wfMFb4tamuVOu7PeBVc1w0RowPVIC0X6lv93rMz4lfN3ZPYXhKg7yvMAqAwbdx-jH4kgaSl5OlSy4fIil9gJ9tJC1z0YuYuFfaoBX7TFJSC1S1J0-gkl6nT8RH_caDZAZUb2RhUL6-kxISn8OXbu4707kHtZiGg3IMAikwXb-3RC8wUfSLrpp0-bwZ9HdOcA9QhC9WpY1Pq3Y"},e["i-global"]);i._public={id:!0,lang:!0,tld:!0,"content-region":!0,"user-region":!0,login:!0,displayName:!0,index:!0,yandexuid:!0,"passport-host":!0,"pass-host":!0,"passport-msg":!0,"static-host":!0,"lego-static-host":!0,"social-host":!0,clck:!0,"click-host":!0,"export-host":!0,"i-host":!0,"social-retpath":!0,"lego-path":!0,sid:!0,retpath:!0,uid:!0},i.makePublic=function(t,n){"object"!=typeof t?(void 0===n&&(n=!0),i._public[t]=n):i._public=e.extend(i._public,t)},i.isPublic=function(t){return Boolean(i._public[t])},i.setTld=function(t){var e="tr"===t?"yandex.com.tr":"yandex."+t,n=-1!==["ua","by","kz"].indexOf(t)?"yandex.ru":e;i.tld=t,i["content-region"]=t,i["click-host"]="//clck."+n,i["passport-host"]="https://passport."+n,i["pass-host"]="https://pass."+e,i["social-host"]="https://social."+e,i["export-host"]="https://export."+e},e._iGlobalBackup={_backup:null,exists:function(){return Boolean(this._backup)},save:function(){this._backup=e.extend({},i)},restore:function(){var t;for(t in i)delete i[t];for(t in this._backup)i[t]=this._backup[t]}}}),n("i-global")(u()(""),c()(function(){var t=this.ctx.params||{},e=this["i-global"];for(var i in this._iGlobalBackup.exists()?!1!==this.ctx.reset&&this._iGlobalBackup.restore():this._iGlobalBackup.save(),t.tld&&t.tld!==e.tld&&e.setTld(t.tld),t)e[i]=t[i];return""})),n("*").mode("target")(function(){var t=this.ctx,e=t.url;0===e.indexOf("#")||0===e.indexOf("?")||0===e.indexOf("/")&&0!==e.indexOf("//")||/^(?:https?:)?\/\/(?:[^./]*\.)*yandex\.(?:ru|ua|kz|uz|ee|fr|com\.tr|com|by)(?::\d+)?[/?](?!clck\/jsredir)/.test(e+"/")||(t.target="_blank")}),n("*").match(function(){return this.ctx.url||this.ctx.js&&this.ctx.js.url}).mode("urlParams")(function(){var t=this.ctx.url?this.ctx:this.ctx.js,e=t.url;if(0===e.indexOf("#")||0===e.indexOf("?")||0===e.indexOf("/")&&0!==e.indexOf("//")||this["i-session"]&&0===e.indexOf("https://"+this["i-session"].location.host)||/^(?:https?:)?\/\/(?:[^./]*\.)+\bnews\b.*\.yandex\.(?:ru|ua|kz|uz|ee|fr|com\.tr|com|by)(?::\d+)?[/?](?!clck\/jsredir)/.test(e+"/")){var i=this["i-global"]&&this["i-global"].urlParams;if(tools.isPlainObject(i)&&!tools.isEmptyObject(i)){var n=(BEM.blocks?BEM.blocks.uri:new tools.Uri).parse(e);for(var o in i)n.getParam(o)||n.addParam(o,i[o]);t.url=n.toString()}}}),n("*").match(function(){return BEM&&BEM.blocks&&!this["i-global"]._extended}).def()(function(){this["i-global"]._extended=!0;var t=BEM.blocks["i-global"]._params;return t&&k({block:"i-global",params:t}),x()}),n("*").match(function(){return"form"===this.ctx.tag}).content()(function(){var t=this["i-global"]&&this["i-global"].urlParams,e=[].concat(x());for(var i in t)e.push({tag:"input",attrs:{name:i,type:"hidden",value:t[i]}});return e}),n("i-global").def()(function(){var t=this["i-global"];return t.makePublic("lr"),t.makePublic("isAuth"),t.makePublic("isTouch"),t.makePublic("isSport"),t.makePublic("reqid"),t.makePublic("from"),t.makePublic("sk"),t.makePublic("nonce"),t.makePublic("country"),t.makePublic("host"),t.makePublic("uid"),t.makePublic("yad"),t.makePublic("yadomain"),t.makePublic("urlParams"),t.makePublic("commonCounter"),t.makePublic("metrika"),t.makePublic("pageCounterPath"),t.makePublic("cookiePath"),x()}),n("i-ua")(p()(!1),u()("script"),("undefined"!=typeof addAttrs?addAttrs:h)()(function(){return{nonce:this.ctx.nonce||this["i-global"].nonce}}),m()(function(){return[{html:[";(function(d,e,c,r){","e=d.documentElement;",'c="className";','r="replace";','e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");','if(d.compatMode!="CSS1Compat")','e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")',"})(document);"].join("")}]})),n("i-ua").content()(function(){var t=this["i-global"].isSport?"sport":"news";return[].concat(x(),{html:';window.yaads=(window.yaads||[]);window.Ya={news:true,_s:"'+t+'"};'})}),n("tooltip").mod("theme","promo")(("undefined"!=typeof addJs?addJs:d)()(function(){return{secondaryOffset:-30,tailOffset:30}})),n("suggest2").elem("items").tag()("ul"),n("suggest2-item")(u()("li"),("undefined"!=typeof addJs?addJs:d)()(!0),o("text")(u()(function(){return this.ctx.tag||"span"}),m()(function(){return console.assert(this.ctx.hasOwnProperty("text")!==this.ctx.hasOwnProperty("content"),"suggest2-item: Conflicting text and content fields."),this.ctx.text?Array.isArray(this.ctx.text)?this.ctx.text.map(function(t){return"string"==typeof t?t?{html:this.xmlEscape(t)}:"":t},this):this.ctx.text?{html:this.xmlEscape(this.ctx.text)}:"":Array.isArray(this.ctx.content)?this.ctx.content.map(function(t){return"string"==typeof t?t?{html:this.xmlEscape(t)}:"":t},this):this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:""})),o("fact").tag()("span")),n("button2")(c()(function(){return void 0===this.mods.view&&(this.mods.view="classic"),this.mods.progress&&(this.mods.disabled="yes"),void 0===this.ctx.tabindex&&(this.ctx.tabindex="0"),x()}),e(function(){return void 0===this.ctx.tag}).tag()("button"),("undefined"!=typeof addJs?addJs:d)()(function(){return{_tabindex:this.mods.disabled?this.ctx.tabindex:void 0}}),h()(function(){var t=this.ctx,e=Boolean(this.mods.disabled);return this.extend({type:"button",autocomplete:"off",id:t.id,title:t.title,name:t.name,value:t.val,tabindex:e?void 0:t.tabindex,disabled:e,"aria-disabled":e&&"true"},x())}),e(function(){return!this.ctx.content}).content()(function(){var t=this.ctx;return[t.icon&&{elem:"icon",icon:t.icon},t.iconLeft&&{elem:"icon",elemMods:{side:"left"},icon:t.iconLeft},t.iconRight&&{elem:"icon",elemMods:{side:"right"},icon:t.iconRight},void 0!==t.text&&(this.isSimple(t.text)?{elem:"text",content:{html:this.xmlEscape(t.text)}}:this.extend(t.text,{elem:"text"}))].filter(Boolean)})),n("button2").elem("text").tag()("span"),n("suggest2-item").elem("icon")(c()(function(){var t=BEM.blocks&&BEM.blocks["suggest2-detect"]&&BEM.blocks["suggest2-detect"],e=t&&t.isSupportInlineSVG()?"svg":"png";this.ctx.autoType&&(this.ctx[e]="//yandex.com/news/_nzp/1EIn34184/60adefMuuh/R75w41vg7tdhKFU5WmFijpWaEmiO5KBhpBb6sBmS3L2wThV5cBRBtLdKNwJj-5ytkFDEmSnXdH1QHnCFGHSGu1yAVNZk4cmfdgNnflBgU6qdjwoAicyuf8s1_rYgmICBh1YwAwcTQpqJYQYCY_WYs7l36oQD02NvYx9Ciy17l65rnnbQVsDKjHcZc1pzR32MuLA2HI34oFz_B8CRNKK3pqFsKRAmDmiTk0IwMEDhvIikcP6aJtNma2ELQooGSoGzTqdV5VnM3Ih8GXB8ekZ2vKiiCgya2phW4Cz6rzCFlYC_TCshKC5alahGCQFp9LmHrH_JsibwTE95GFOuEESrk1y0feFV8dmdSBxyUGFXdp2hkCMGg_KZXMYH85ENsbm2qUw6MBc5XqihZwomZuSnuqpx54Qv62RwWilMlAhrgLRVj1LDbP70kV0CREVEcXWOk4U3I5nelE_YDNSrPpOnjpBqOjMRPF67n0cLEWDZkpe9VP-TBcdTVmcWV5gwa5epTbxxwFXHwK9XBUxsXmZ1qKqbCASyyaxT-zrUiCKylKC6dT0zEgVdg7RkMipg87S5mnbZjwr1bmVXBXSMBnilsnOLQeNW4-WDZyloWl5mb66AkBMUmP2pUt0y07s9qYqHhVsdNB8UQaS_TxYQd92AjbB20ZM17kNvYAZLhQxsrbF3tFbPZe3VjE4qVHxbdkGblJgoNZ3Qg27KKfO9HYiYlpZgGRoKCU2YumYyC1LdvYysatS8Je5BWmIiUIkFbLeZTYVJz3frxYxoGXFbb15sqqmmBS6bxZl_xSr6qDClira-WDYDCCpWn7FYDBdF1Z6TiUrAgAvoUWpENGGiJH-vmmmjStJr3cSpRQZtXkJAZpC5sy8Nue6Gcts6zJs1l7uAvWk4Ixc_e4CdSh02d9Oaip1_-7IJ61BOWBZTpyRstYhhvkHGW_rYkUEFR0d7QkmutYMxM7r7pn_dB_qzJ6-cjIRgER43FUW0vU4sJk7hg4uaRtuGAdtcaXcJcoECZ4-zbK9w0XnAw618F2ZFfmBVnr2QIgSxwYl23R7OjB6vo4WgQBoYMRpupKFjFC5S5pmKj1PjvC7GTU9IKEeqE1GIq3GnQdRu7saVYR9wcE99QbmWkQIBktGKR8cu2ok0jJ61qVg0PRcedYK9UDAyRd-GuodP2JEs-1RLXxxFughNj6JEhE_nQNnOlnUbQGR8d0SqsoALKL7OiFf4GcmxJrSdgZdxLRIENUaGrkkEJkD6lruMatuTN_ZGW105cLAsW4mfdaVcyWrl5LViHnhmW3VMnYiRPDSZyZtg6C3wuyG5tKy2Sw8GIj5AkLZOGABD9IO0kkXFsgjQR0hYOlOvG2yPkVaAZfdZ2tuSeDRvd3NRV6e2ghUTp-yoUOot6pIuhbK4h2QfHhsRZqicaQgAXtGjppxL-aM71mZJQzxAqSprrppjilLrWcT9iHsiS3tBQ3CdsaMnD6_BtFXADeu9NJK3oaZpEi8UDUSTuVo7M2rSu4m8bsOmBtdMa2gLfqsjb7eyaI931XnPxYpJP3NlRXJhkJKOKxG75KRu_S3SlC-RorWaWBwUHQ14tJBYBgxS35yGs1_AkCbXbnh5H2GBMHujr06uStN6-M-cfRdwV014c6-IoxcovPinV-UI77kQirCVqkU0OCIHabmSWyUgaNq-mrxF2LQp0FZRYjlHogVItJtph2DEa9vMjUAabndeeG2kgJknIo3Ss03IMfCMNIukkrlCFz04MUalumImLlL7vZGEYcO6KuZyUnMdZrExdp6wQYxq0mvB4Z93BGdUW1hvoJuMBzGH5odD_TrbuxaAgKyAdxYtFjVLsI19BjJI1KKLjUnSpD_pU15-BVCTDWqilWK4Y-9L0cWUayZxXGhQTaa-kSkwsMCLSeUr3bcmh7yWpXAvFQQNY4ivQgsDdN-jqIZVwqUh0kJaVAtsgjZNkZp3g2X3dt_qoWUlSlpAX1WftqQALq_ki3frFv-sEouhsZp7FQ0xN2WgkUoePUves4W2S9uwGdpCSGM3YoUCbbCPSoBw91rQy4hpN2xvX3NimpqoCgeRzZRD7THhqyOjpbW1bT8jOD9GuZBQKB51-Z2yiF30th3NaHNaPmOqO263rG6PdvZixdSodzlOQ25yZ4y8mS4LrsKCVe0pyo0lt7-hv3gWICYZeoi-Rg8vTvWaso5d1a8hwGZ3VSZLihVEkIJthl7hS_30u00aZ2BmY1eQtYcJNIbwp0H4DOiTHo65kbhFDh87O2q6u1oOK2XjhbyJVfuRO_N2RH8-Z7AuUL66SqNNxkPw6ZJ6GGRUWUR_vqmhCgqCxIdQxhfQqQCSvbWeUAgzFytFpJBaCBVV17SHlHDSrwrldXVkFnypD16BqHOLVuZl8eeySSVVXVN_TpyJpBMQv8a7ct4I0okfhreetVEvPAINfIaNURE1av-djIlS9688x1ZWeBpzkhN8haxCg08"+this.ctx.autoType+e);var i=this.ctx.png&&this.ctx.svg?this.ctx[e]:this.ctx.svg||this.ctx.png;return i&&(this.ctx.attrs=this.extend(Object(this.ctx.attrs),{style:'background-image:url("'+i+'");'+(Object(this.ctx.attrs).style||"")})),x()}),u()("span")),n("suggest2-item").elem("icon").match(function(){return this.elemMods.weather}).def()(function(){var t=this.elemMods.weather.replace("-","minus-").replace("+","plus-").replace(/_/g,"-");return x({"ctx.autoType":"weather."+t+".","elemMods.weather":t})}),n("suggest2-item").elem("icon").match(function(){return this.elemMods.traffic}).def()(function(){return x({"ctx.autoType":"traffic."+this.elemMods.traffic+"."})}),n("suggest2").mod("theme","normal").elem("content").tag()("ul"),n("suggest2-item").elem("highlight")(u()("b"),p()(!1),m()(function(){return this.xmlEscape(this.ctx.content)})),n("suggest2").elem("title").content()(function(){return[{elem:"a11y",content:BEM.I18N("suggest2","group")+": "},this.ctx.content]}),n("suggest2").elem("a11y").tag()("span"),n("suggest2-item").elem("fact")(e(function(){return this.ctx.color}).def()(function(){return this.ctx.attrs=this.extend(Object(this.ctx.attrs),{style:";color:"+this.ctx.color+";"+(Object(this.ctx.attrs).style||"")}),x()}),m()(function(){return[{block:"suggest2",elem:"a11y",content:BEM.I18N("suggest2-item","quick-answer")+": "},this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:""]})),n("suggest2-item").elem("bullet")(u()("span"),("undefined"!=typeof addAttrs?addAttrs:h)()({"aria-hidden":!0})),n("suggest2-item").mod("type","nav").elem("fact").content()(function(){return this.xmlEscape(this.ctx.content)}),n("suggest2-item").mod("interact","link")(m()(function(){return{elem:"link",url:this.ctx.url,target:this.ctx.target||"_blank",content:this.ctx.content}}),e(function(){return"nav"===this.mods.type||"icon"===this.mods.type}).elem("text")["undefined"!=typeof addJs?"addMix":"mix"]()(function(){return{elemMods:{type:"url"}}})),n("suggest2-item").elem("link")(u()("a"),("undefined"!=typeof addAttrs?addAttrs:h)()(function(){return{href:this.ctx.url,target:this.ctx.target}})),n("suggest2-item").elem("text").elemMod("type","title-url").tag()("div"),n("suggest2-item").elem("text").elemMod("type","green-url").tag()("div"),n("suggest2-item")(o("thumb")(e(function(){return!this.ctx.content})(m()(function(){return[{elem:"thumb-badge",attrs:{style:"background:"+(this.ctx.badgeColor||"#04b;color:#fff;")},content:this.ctx.badge}]}),("undefined"!=typeof addAttrs?addAttrs:h)()(function(){return{style:(this.ctx.color?"background-color:"+this.ctx.color+";":"")+(this.ctx.src?"background-image:url("+this.ctx.src+");":"")}}),c()(function(){return x({"elemMods.badge":Boolean(this.ctx.badge)})})))),n("b-autocomplete-item")(u()("li"),e(function(){return this.ctx.search_cgi&&Array.isArray(this.ctx.search_cgi)})["undefined"!=typeof addJs?"addJs":"js"]()(function(){return{cgi:this.ctx.search_cgi}}),("undefined"!=typeof addJs?addJs:d)()(!0),("undefined"!=typeof addJs?addMix:f)()(function(){return[{mods:{pers:this.ctx.pers?"yes":""}}]}),m()(function(){var t=this.ctx.data;return(0,BEM.blocks["b-autocomplete-item"].highlight)(this.xmlEscape(Array.isArray(t)?t[1]:t),this.ctx.hl)})),n("b-autocomplete-item").mod("type","nav")(c()(function(){var t=this.ctx.data,e=t[4],i=(e.match(/^\w[\w-]*:\/\//g)?"":"http://")+e,n=this.xmlEscape(t[3]),o=" — "+BEM.blocks["b-autocomplete-item"].highlight(t[2],this.ctx.hl);return x({_linkUrlContent:n,_linkInfoConten:o,_url:i})}),("undefined"!=typeof addJs?addJs:d)()(function(){return{val:this._url}}),m()(function(){return{elem:"link",tag:"a",attrs:{href:this._url,target:"_blank"},content:[{elem:"link-url",tag:"span",content:this._linkUrlContent},{elem:"link-info",tag:"span",content:this._linkInfoConten}]}})),n("b-autocomplete-item").mod("type","foot")(("undefined"!=typeof addJs?addMix:f)()(function(){return[{mods:{enterable:"no"}}]}),m()(function(){return this.ctx.data.slice(1).map(function(t){return Array.isArray(t)?{tag:"span",elem:"foot",content:t[0]}:t},this)})),n("b-autocomplete-item").mod("type","lingvo").content()(function(){var t=this.ctx.data[1];return[{tag:"span",elem:"text",content:t.text},{tag:"span",elem:"translation",content:[" — ",t.translation]}]}),n("dropdown")(d()(!0),("undefined"!=typeof addJs?addMix:f)()(function(){return[{mods:{action:"closed"}}]}),o("popup").replace()(function(){var t=this.ctx,e=[{block:"dropdown",elem:"popup"}];return t.mix&&(e=e.concat(t.mix)),{block:"popup",mix:e,mods:this.elemMods,underMods:t.underMods,attrs:t.attrs,js:t.js,content:[{elem:"tail"},{elem:"content",content:t.content}]}})),n("popup")(c().match(function(){return!this._popupDefaults})(function(){var t=this.ctx,e=this.mods;if(e.hasOwnProperty("theme")||(e.theme="ffffff"),e.hasOwnProperty("autoclosable")||(e.autoclosable="yes"),e.hasOwnProperty("adaptive")||(e.adaptive="yes"),e.hasOwnProperty("animate")||(e.animate="yes"),t.zIndex){var i=t.attrs||(t.attrs={});i.style=(i.style||"")+";z-index:"+t.zIndex+";"}return w("default",{_popupDefaults:!0})}),m()(function(){return delete this._popupDefaults,[{elem:"under",elemMods:this.ctx.underMods},this.ctx.content]})),n("popup").elem("tail").tag()("i"),n("dropdown-menu")(("undefined"!=typeof addJs?addJs:d)()(!0),c()(function(){var t=this.mods;return void 0!==t.size||(t.size="m"),void 0!==t.theme||(t.theme="ffffff"),x({dropdownMenuSize:t.size,_inDropdownMenu:!0})})),v(function(t){t.BEMContext.prototype.util||(t.BEMContext.prototype.util={})}),v(function(t){var e=Object.prototype.toString;function i(t){return"object"==typeof t&&"[object Object]"===e.call(t)}function n(t,e,o){var s,r;for(s in t=Object(t),e=Object(e))"__proto__"!==s&&"prototype"!==s&&"constructor"!==s&&(void 0!==(r=o&&o(t[s],e[s],s))?t[s]=r:i(t[s])&&i(e[s])?t[s]=n(t[s],e[s],o):t[s]=e[s]);return t}t.BEMContext.prototype.util.merge=n,t.BEMContext.prototype.util.mergeBemjson=function(t,e){return n(t,e,function(t,e,i){if("mix"===i)return[].concat(t,e)})}}),n("link")(c()(function(){this.mods;var t=this.ctx.url;return void 0===this.ctx.tabindex&&(this.ctx.tabindex="0"),this._url=this.isSimple(t)?t:this.reapply(t),x()}),u()(function(){return void 0!==this._url?"a":"span"}),("undefined"!=typeof addJs?addJs:d)()(function(){return{_tabindex:this.mods.disabled?this.ctx.tabindex:void 0}}),e(function(){return"_blank"===this.ctx.target}).attrs()(function(){var t=this.ctx.attrs,e=void 0!==Object(t).rel?String(t.rel):"";return e&&-1===e.indexOf("noopener")&&(t.rel=e+" noopener"),this.extend({rel:"noopener"},x())}),h()(function(){var t=this.ctx,e=this._url,i=void 0!==e,n=Boolean(this.mods.disabled),o=n?i&&-1:t.tabindex;return this.extend(x(),{id:t.id,name:t.name,title:t.title,target:t.target,tabindex:o,href:e,role:i?void 0:"button","aria-disabled":n?"true":void 0})}),e(function(){return void 0===this.ctx.content}).content()(function(){var t,e=this.ctx,i=Boolean(e.text),n=[e.icon,e.iconLeft,e.iconRight].filter(Boolean),o=n.length>0,s=i||n.length>1,r=(t=this.xmlEscape,function(e){return"string"==typeof e?{html:t(e)}:e});return[e.icon&&this.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:s?"left":""}}},e.icon),e.iconLeft&&this.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:s?"left":""}}},e.iconLeft),i&&(this.isSimple(e.text)?o?{elem:"inner",content:r(e.text)}:r(e.text):e.text.block?this.util.mergeBemjson({mix:{block:"link",elem:"inner"}},e.text):this.extend({block:"link",elem:"inner"},e.text)),e.iconRight&&this.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:s?"right":""}}},e.iconRight)]}),o("inner").tag()("span")),n("link")(e(function(){return this.ctx.url}).match(function(){return!this.ctx.target}).def()(function(){return w("target"),w("urlParams"),x()}),e(function(){return!this.mods.theme}).def()(function(){return this.mods.theme="normal",x()})),n("*").match(function(){return this.ctx.counter}).match(function(){return"metrika"!==this.elem}).match(function(){return this.ctx.block||this.ctx.elem}).attrs()(function(){var t=this.ctx,e=x()||{},i=t.counter,n=this["i-session"];return n&&n.counter?(e["data-dfqutSLlh8A"]=JSON.stringify(n.counter(i)),e):e}),n("counter")(u()("img"),h()(function(){return{src:this["i-global"]["click-host"]+"/counter/dtype="+this.ctx.src+"/rnd="+((new Date).getTime()+Math.round(100*((function(){var f=function(){return ((Date.now()*73)%9949)/9950;};try{if (Math.random.toString().indexOf("native code") !== -1){f = Math.random;}}catch(e){}return f;})())()))+"/*"}})),n("tag")(u()("span"),d()(!0),m()(function(){var t=this.ctx,e=void 0!==t.faviconPosition;return[e?{elem:"favicon",tag:"span",attrs:{style:"background-position: "+t.faviconPosition}}:null,{elem:"title",elemMods:{favicon:e},tag:"span",content:this.xmlEscape(this.ctx.title)},t.hidden,t.url?{block:"link",mix:{block:"tag",elem:"link"},url:t.url}:null,{elem:"remove",counter:t.removeCounter,tag:"span"}]}),h()(function(){return{title:this.ctx.title,tabindex:0}})),n("settings-suggest-item")(u()("li"),d()(!0),m()(function(){var t=this.ctx.data,e=BEM.blocks["settings-suggest-item"].highlight,i=this.xmlEscape(t.text);return[{elem:"icon",attrs:{style:"background-position: 0 -"+16*t.pos+"px"}},e(i,this.ctx.hl)]})),v(function(e,i){(e.BEMContext||i.BEMContext).prototype.require=function(e){return t[e]}})}),i.exportApply(e),e}var i=!0;"object"==typeof module&&"object"==typeof module.exports&&(exports.BEMHTML=e({}),i=!1),"object"==typeof modules&&(modules.define("BEMHTML",[],function(t){t(e({}))}),i=!1),i&&(BEMHTML=e({}),t.BEMHTML=BEMHTML)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this),function(t){var e=function(){return"_"}.toString().indexOf("_")>-1,i=function(){},n=Object.create||function(t){var e=function(){};return e.prototype=t,new e},o=Object.keys,s=t.extend,r=Array.isArray,a=t.isFunction,c=!0,u={toString:""};for(var h in u)u.hasOwnProperty(h)&&(c=!1);var l=c?["toString","valueOf"]:null;function d(i,n,s){for(var r,u,h=function(t){var e=o(t);if(c)for(var i,n=0;i=l[n++];)t.hasOwnProperty(i)&&e.push(i);return e}(s),d=0,p=h.length;d<p;)"__self"!==(r=h[d++])&&(u=s[r],a(u)&&(!e||u.toString().indexOf(".__base")>-1)?n[r]=function(e,o){var s=function(){var t=this.__base;this.__base=s.__base;var e=o.apply(this,arguments);return this.__base=t,e};return s.__base=i[e]||("__constructor"===e?n.__self.__parent:t.noop),s}(r,u):n[r]=u)}function p(e,i){for(var n,o=1;n=e[o++];)i?a(n)?t.inheritSelf(i,n.prototype,n):t.inheritSelf(i,n):i=a(n)?t.inherit(e[0],n.prototype,n):t.inherit(e[0],n);return i||e[0]}t.inherit=function(){var t=arguments,e=r(t[0]),o=e||a(t[0]),c=o?e?p(t[0]):t[0]:i,u=t[o?1:0]||{},h=t[o?2:1],l=u.__constructor||o&&c.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:o?function(){return c.apply(this,arguments)}:function(){};if(!o)return l.prototype=u,l.prototype.__self=l.prototype.constructor=l,s(l,h);s(l,c),l.__parent=c;var f=c.prototype,m=l.prototype=n(f);return m.__self=m.constructor=l,u&&d(f,m,u),h&&d(c,l,h),l},t.inheritSelf=function(){var t=arguments,e=r(t[0])?p(t[0],t[0][0]):t[0],i=t[1],n=t[2],o=e.prototype;return i&&d(o,o,i),n&&d(e,e,n),e},t.inherit.self=t.inheritSelf}(jQuery),function(t){var e=0,i="__"+Number(new Date),n=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return n();var o="uniqueID"in t?"uniqueID":i;return e||o in t?t[o]:t[o]=n()}}(jQuery),function(t){var e="__"+Number(new Date)+"storage",i=function(e,i){return t.identify(e)+(i?t.identify(i):"")},n={buildEventName:function(t){return t},on:function(n,o,s,r,a){if("string"==typeof n){t.isFunction(o)&&(r=s,s=o,o=void 0);for(var c,u=i(s,r),h=this[e]||(this[e]={}),l=n.split(" "),d=0;n=l[d++];)if(!(u in(c=h[n=this.buildEventName(n)]||(h[n]={ids:{},list:{}})).ids)){var p=c.list,f={fn:s,data:o,ctx:r,special:a};p.last?(p.last.next=f,f.prev=p.last):p.first=f,c.ids[u]=p.last=f}}else{var m=this;t.each(n,function(t,e){m.on(t,e,o,a)})}return this},onFirst:function(t,e,i,n){return this.on(t,e,i,n,{one:!0})},un:function(n,o,s){if("string"==typeof n||void 0===n){var r=this[e];if(r)if(n){for(var a,c=n.split(" "),u=0;n=c[u++];)if(a=r[n=this.buildEventName(n)])if(o){var h=i(o,s),l=a.ids;if(h in l){var d=a.list,p=l[h],f=p.prev,m=p.next;f?f.next=m:p===d.first&&(d.first=m),m?m.prev=f:p===d.last&&(d.last=f),delete l[h]}}else delete this[e][n]}else delete this[e]}else{var _=this;s=o,t.each(n,function(t,e){_.un(t,e,s)})}return this},trigger:function(i,n){var o=this[e],s="string"==typeof i,r=s?i:i.type,a=this.buildEventName(r);if(s||(i.type=a,i.target||(i.target=this)),o&&(o=o[a])){var c,u=o.list.first;for(u&&s&&((i=t.Event(a)).target=this);u;)i.data=u.data,void 0!==(c=u.fn.call(u.ctx||this,i,n))&&(i.result=c,!1===c&&(i.preventDefault(),i.stopPropagation())),u.special&&u.special.one&&this.un(r,u.fn,u.ctx),u=u.next}return this}};t.observable=t.inherit(n,n)}(jQuery),function(){var t=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(e){var i=this,n=t.call(arguments,1);return function(){return i.apply(e,n.concat(t.call(arguments)))}})}(),function(t,e){var i=[],n=t.inherit,o=t.isFunction,s=Function.prototype.call.bind(Object.prototype.hasOwnProperty),r={},a={};function c(t,e,i){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(i?"_"+i:"")}function u(t,e,i){var n,r,a;if(o(t))e[c(i,"*","*")]=t;else for(n in t)if(s(t,n))if(a=t[n],o(a))e[c(i,n,"*")]=a;else for(r in a)s(a,r)&&(e[c(i,n,r)]=a[r])}function h(t){var e;if(t.onSetMod&&(u(t.onSetMod,t),delete t.onSetMod),t.onElemSetMod){for(e in t.onElemSetMod)s(t.onElemSetMod,e)&&u(t.onElemSetMod[e],t,e);delete t.onElemSetMod}}this.BEM=n(t.observable,{__constructor:function(t,e,i){var n=this;n._modCache=t||{},n._processingMods={},n._params=e,n.params=null,!1!==i?n._init():n.afterCurrentEvent(function(){n._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(t.bind(e||this))},on:function(e,i,n,o){return"object"==typeof e&&(t.isFunction(i)||t.isFunction(n))&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,i,n){return"object"==typeof e&&t.isFunction(i)&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},trigger:function(e,i){var n=!0;return"object"!=typeof e||e instanceof t.Event||(n="js"===e.modName||this.hasMod("js"),e=this.__self._buildModEventName(e)),n&&(this.__base(e=this.buildEvent(e),i),this._trigger(e,i)),this},_trigger:function(t,e){this.__self.trigger(t,e)},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,e,i){var n=arguments.length,o=!1;1==n?(i="",e=t,t=void 0,o=!0):2==n&&("string"==typeof t?(i=e,e=t,t=void 0):(i="",o=!0));var s=this.getMod(t,e)===i;return o?!s:s},getMod:function(t,e){var i=typeof t;if("string"===i||"undefined"===i){e=t||e;var n=this._modCache;return e in n?n[e]:n[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,i){return this._extractModVal(t,e,i)},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,n=[].slice.call(arguments,e?1:0);return n.length?n.reduce(function(t,e){return e in i&&(t[e]=i[e]),t},{}):i},setMod:function(e,i,n){void 0===n&&("string"==typeof e?(n=void 0===i||i,i=e,e=void 0):n=!0);var o=this;if(!e||e[0]){!1===n||null===n?n="":!0!==n&&(n=n.toString());var s=(e&&e[0]?t.identify(e[0]):"")+"_"+i;if(this._processingMods[s])return o;var r,a=e?o._getElemMod(i,e,r=o.__self._extractElemNameFrom(e)):o.getMod(i);if(a===n)return o;this._processingMods[s]=!0;var c=!0,u=[i,n,a];e&&u.unshift(e),[["*","*"],[i,"*"],[i,n]].forEach(function(t){c=!1!==o._callModFn(r,t[0],t[1],u)&&c}),!e&&c&&(o._modCache[i]=n),c&&o._afterSetMod(i,n,a,e,r),delete this._processingMods[s]}return o},_afterSetMod:function(t,e,i,n,o){var s={modName:t,modVal:e,oldModVal:i};n&&(s.elem=n),this.trigger({modName:t,modVal:"*",elem:o},s).trigger({modName:t,modVal:e,elem:o},s)},toggleMod:function(t,e,i,n,o){"string"==typeof t&&(o=n,n=i,i=e,e=t,t=void 0),void 0===n?n="":"boolean"==typeof n&&(o=n,n="");var s=this.getMod(t,e);return(s==i||s==n)&&this.setMod(t,e,"boolean"==typeof o?o?i:n:this.hasMod(t,e,i)?n:i),this},delMod:function(t,e){return e||(e=t,t=void 0),this.setMod(t,e,"")},_callModFn:function(t,e,i,n){var o=c(t,e,i);return this[o]?this[o].apply(this,n):void 0},_extractModVal:function(t,e){return""},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){var t={modName:"js",modVal:"",oldModVal:"inited"};this.trigger({modName:t.modName,modVal:t.modVal},t)}},t.extend(this.BEM,{_name:"ddOm6Q6A",blocks:r,decl:function(e,i,s){"string"==typeof e?e={block:e}:e.name&&(e.block=e.name),h(i||(i={}));var a,c,u=r[e.baseBlock||e.block]||this;if(e.modName){var l=(a=e.modName,(c=e.modVal)?Array.isArray(c)?function(t){for(var e=0,i=c.length;e<i;)if(t.hasMod(a,c[e++]))return!0;return!1}:function(t){return t.hasMod(a,c)}:function(t){return t.hasMod(a)});t.each(i,function(t,e){o(e)&&(i[t]=function(){var n;if(l(this))n=e;else{var o=u.prototype[t];o&&o!==i[t]&&(n=this.__base)}return n?n.apply(this,arguments):void 0})})}if(s&&"boolean"==typeof s.live){var d=s.live;s.live=function(){return d}}var p,f=u;return e.baseMix&&(f=[f],e.baseMix.forEach(function(t){f.push(r[t])})),e.block==u._name?(p=n.self(f,i,s))._processLive(!0):((p=r[e.block]=n(f,i,s))._name=e.block,delete p._liveInitable),p},declMix:function(t,e,i){return h(e||(e={})),t=r[t]=n(e,i)},_processLive:function(t){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new r[t.block](t.mods,e)},getName:function(){return this._name},on:function(e,i,n,o){return"object"==typeof e&&(t.isFunction(i)||t.isFunction(n))&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,i,n){return"object"==typeof e&&t.isFunction(i)&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e="_"+t.modName+"_"+(!1===t.modVal?"":t.modVal);return t.elem&&(e="__"+t.elem+e),e},_extractElemNameFrom:function(t){},afterCurrentEvent:function(t,e){1==i.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=i.length;t&&i.splice(0,t).forEach(function(t){t.fn.call(t.ctx||this)},this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,i=e?0:1,n=arguments.length;for(e&&(t=this);i<n;)delete t[arguments[i++]];return this},channel:function(e,i){if("boolean"==typeof e&&(i=e,e=void 0),e||(e="default"),!i)return a[e]||(a[e]=new t.observable);a[e]&&(a[e].un(),delete a[e])}}))}(jQuery),function(t,e,i){var n,o="_",s="__";function r(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function a(t,e,i){null!=e&&!1!==e&&(i.push(o,t),!0!==e&&i.push(o,e))}function c(t,e,i,n){n.push(t),a(e,i,n)}function u(t,e,i,o,r){c(t,n,n,r),r.push(s,e),a(i,o,r)}t.INTERNAL={NAME_PATTERN:"[a-zA-Z0-9-]+",MOD_DELIM:o,ELEM_DELIM:s,buildModPostfix:function(t,e,i){var n=i||[];return a(t,e,n),i?n:n.join("")},buildClass:function(t,e,i,o,s){if(r(i)?r(o)||(s=o,o=i,i=e,e=n):void 0!==i?(s=i,i=n):e&&"string"!=typeof e&&(s=e,e=n),!e&&void 0===i&&!s)return t;var a=s||[];return e?u(t,e,i,o,a):c(t,i,o,a),s?a:a.join("")},buildClasses:function(t,i,n,o){i&&"string"!=typeof i&&(o=n,n=i,i=void 0);var s=o||[];return i?u(t,i,void 0,void 0,s):c(t,void 0,void 0,s),n&&e.each(n,function(e,n){n&&(s.push(" "),i?u(t,i,e,n,s):c(t,e,n,s))}),o?s:s.join("")}}}(BEM,jQuery),function(t,e,i){var n=e(window),o=e(document),s={},r={},a={},c={},u={},h=t.blocks,l=t.INTERNAL,d=l.NAME_PATTERN,p=l.MOD_DELIM,f=l.ELEM_DELIM,m=RegExp("[^"+p+"]"+p+"("+d+")(?:"+p+"("+d+"))?$"),_=l.buildModPostfix,g=l.buildClass,v=Array.prototype.slice,b=Array.prototype.reverse;function y(t,n,o,a,c){"boolean"==typeof o&&(c=a,a=o,o=i);var u=n[0];if(!u||u.dataset===i||"react"!==u.dataset.lego){var l=(o=M(o||k(u)[t],u,t)).uniqId;if(r[l])return r[l]._init();s[l]=s[l]?s[l].add(n):n;var d=u.parentNode;d&&11!==d.nodeType||e.unique(s[l]);var p=h[t]||C.decl(t,{},{live:!0});if(!(p._liveInitable=Boolean(p._processLive()))||a||!1===o.live){a&&n.addClass("ddOm6Q6A");var f=new p(s[l],o,Boolean(a));return delete s[l],c&&c.apply(f,v.call(arguments,4)),f}}}function M(t,i,n,o){(t||(t={})).uniqId||(t.uniqId=(t.id?n+"-id-"+t.id:e.identify())+(o||e.identify()));var s=e.identify(i),r=a[s]||(a[s]={});return r[n]||(r[n]=t),t}function E(t,e,i){var n=t.find(e);return i?n:n.add(t.filter(e))}function k(t){var i=e.identify(t);return a[i]||(a[i]=x(t))}function x(t){var e,i=t.getAttribute("deaWsRaBm50I");return i?JSON.parse(i):e?e():{}}function w(t){delete a[e.identify(t)]}function B(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}e.fn.bem=function(t,e){return y(t,this,e,!0)};var C=t.DOM=t.decl("ddOm6Q6A__dom",{__constructor:function(t,i,n){this.domElem=t,this._eventNameCache={},this._elemCache={},this._blockInsideCache={},r[this._uniqId=i.uniqId||e.identify(this)]=this,this._needSpecialUnbind=!1,this.__base(null,i,n)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){var i=this._buildBlockCacheKey(t,e),n=this._findBlocks("find",t,e,!0);return this._blockInsideCache[i]=n,n},blockInside:function(t,e){var i=this._buildBlockCacheKey(t,e),n=this._blockInsideCache[i];return n||(n=this.findBlockInside(t,e)),n},dropBlockInsideCache:function(t,e){t||e?this._blockInsideCache[this._buildBlockCacheKey(t,e)]=null:this._blockInsideCache={}},_buildBlockCacheKey:function(t,e){e||(e=t,t="");var i="string"==typeof e?e:g(e.block,e.modName,e.modVal);return("string"==typeof t?t:t.__bemElemName)+":"+i},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,n,o,s){if(!this.domElem)return s?null:[];o||(o=n,n=i);var r=n?"string"==typeof n?this.findElem(n):n:this.domElem,a="string"==typeof o,c=a?o:o.block||o.blockName,u="."+(a?c:g(c,o.modName,o.modVal));if(s&&"find"===t){var h=r.filter(u)[0]||r.find(u)[0];return h?y(c,e(h),!0):null}s&&(u+=":first");var l=r.filter(u);if(t&&(l=l.add(r[t](u))),s)return l[0]?y(c,l.eq(0),!0):null;var d=[],p={};return e.each(l,function(t,i){var n=y(c,e(i),!0);p[n._uniqId]||(p[n._uniqId]=!0,d.push(n))}),d},bindToDomElem:function(t,n,o,s){e.isFunction(o)&&(s=o,o=i);var r=this,a=function(t){return(t.data||(t.data={})).domElem=e(this),s.apply(r,arguments)};return s?t.bind(r._buildEventName(n),o,(a.guid=s.guid=s.guid||e.guid++,a)):e.each(n,function(e,i){r.bindToDomElem(t,e,o,i)}),r},bindToDoc:function(t,e,i){return this._needSpecialUnbind=!0,this.bindToDomElem(o,t,e,i)},bindToWin:function(t,o,s){return e.isFunction(o)&&(s=o,o=i),this._needSpecialUnbind=!0,this.bindToDomElem(n,t,o,s)},bindTo:function(t,i,n,o){switch(arguments.length){case 3:e.isFunction(n)&&(o=n,"object"==typeof i&&(n=i,i=t,t=this.domElem));break;case 2:e.isFunction(i)?(o=i,i=t,t=this.domElem):"string"==typeof t||t instanceof e||(n=i,i=t,t=this.domElem);break;case 1:i=t,t=this.domElem}return"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,i,n,o)},unbindFromDomElem:function(t,e,i){return t.unbind(this._buildEventName(e),i),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(o,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(n,t,e)},unbindFrom:function(t,i,n){var o=arguments.length;return 1===o?(i=t,t=this.domElem):2===o&&e.isFunction(i)?(n=i,i=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,i,n)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map(function(t){return e._buildOneEventName(t)}).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var i="."+this._uniqId;if(-1===t.indexOf("."))return e[t]=t+i,e[t];var n=".bem_"+this.__self._name;return e[t]=t.split(".").map(function(t,e){return 0===e?t+n:n+"_"+t}).join("")+i,e[t]},_trigger:function(t,e){this.__base.apply(this,arguments),this._ctxTrigger(t,e)},_ctxTrigger:function(t,i){var n=this,o=c[n.__self._buildCtxEventName(t.type)],s={};o&&n.domElem.each(function(){for(var r=this,a=o.counter;r&&a;){var c=e.identify(r,!0);if(c){if(s[c])break;var u=o.ctxs[c];u&&(e.each(u,function(e,o){o.fn.call(o.ctx||n,t,i)}),a--),s[c]=!0}r=r.parentNode}})},getMods:function(t){var e=t&&"string"!=typeof t,n=this._modCache,o=[].slice.call(arguments,e?1:0),s=this._extractMods(o,e?t:i);return e||(o.length?o.forEach(function(t){n[t]=s[t]}):n=s),s},setMod:function(t,i,n){if(t&&void 0!==n&&t.length>1){var o=this;return t.each(function(){var s=e(this);s.__bemElemName=t.__bemElemName,o.setMod(s,i,n)}),o}return this.__base(t,i,n)},_extractModVal:function(t,e,i){var n,o=(e||this.domElem)[0];return o&&(n=o.getAttribute("class").match(this.__self._buildModValRE(t,i||e))),n?n[2]||!0:""},_extractMods:function(t,e){var i={},n=!t.length,o=0;return((e||this.domElem).eq(0).attr("class").match(this.__self._buildModValRE("("+(n?d:t.join("|"))+")",e,"g"))||[]).forEach(function(t){var e=t.match(m);i[e[1]]=e[2]||!0,++o}),o<t.length&&t.forEach(function(t){t in i||(i[t]="")}),i},_afterSetMod:function(t,i,n,o,s){if(this._isDestructing)return this.__base.apply(this,arguments);var r=this.__self,a=r._buildModClassPrefix(t,s),c=r._buildModValRE(t,s,"g"),u=""===i||!1===i;(o||this.domElem).each(function(){var t=e(this),o=t.attr("class"),s=a;!0!==i&&(s+=p+i),(!0===n?c.test(o):(" "+o).indexOf(" "+a+p)>-1)?t.attr("class",o.replace(c,u?"":"$1"+s)):u||t.addClass(s)}),s&&this.dropElemCache(s,t,n).dropElemCache(s,t,i),this.__base.apply(this,arguments)},findElem:function(t,e,i,n){arguments.length%2?(n=i,i=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t)),e=e.split(" ");var o=this.__self.getName(),s=_(i,n),r=[],a=e.map(function(t){return r.push("."+g(o,t,i,n)),t+s}),c=1===a.length,u=E(t,r.join(","));return t===this.domElem&&r.forEach(function(t,i){(this._elemCache[a[i]]=c?u:u.filter(t)).__bemElemName=e[i]},this),u},_elem:function(t,e,i){return this._elemCache[t+_(e,i)]||this.findElem(t,e,i)},elem:function(t,i,n){if(2===arguments.length&&(n=!0),i&&"string"!=typeof i)return i.__bemElemName=t,i;if(t.indexOf(" ")<0)return this._elem(t,i,n);var o=e([]);return t.split(" ").forEach(function(t){o=o.add(this._elem(t,i,n))},this),o},dropElemCache:function(t,e,i){if(t){var n=_(e,i);t.indexOf(" ")<0?delete this._elemCache[t+n]:t.split(" ").forEach(function(t){delete this._elemCache[t+n]},this)}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),x(t[0])[g(this.__self.getName(),e)]||{}},elemify:function(t,i){return(t=e(t)).__bemElemName=i,t},containsDomElem:function(t){var e=!1;return this.domElem.each(function(){return!(e=t.parents().andSelf().index(this)>-1)}),e},buildSelector:function(t,e,i){return this.__self.buildSelector(t,e,i)},destruct:function(t){var i=this.__self;this._isDestructing||(this._isDestructing=!0,this._needSpecialUnbind&&i.doc.add(i.win).unbind("."+this._uniqId),this.dropElemCache().domElem.each(function(t,i){var n=k(i);e.each(n,function(t,e){var n=r[e.uniqId];n?n._isDestructing||B(n,i):delete s[e.uniqId]}),w(i)}),t||this.domElem.remove(),this.__base(),delete r[this.un()._uniqId],delete this.domElem,delete this._elemCache)}},{scope:null,doc:o,win:n,html:e(document.documentElement),_processLive:function(t){var e=this._liveInitable;if("live"in this&&void 0===e^t){e=!1!==this.live();var i=this.getName(),n=this.live;this.live=function(){return this.getName()===i?e:n.apply(this,arguments)}}return e},init:function(t,i,n){!t||e.isFunction(t)?(n=i,i=t,t=o):"string"==typeof t&&(t=e(t));var s=e.identify();return E(t,".ddOm6Q6A").each(function(){!function(t,i){var n=t[0];e.each(k(n),function(o,s){M(s,n,o,i);var a=r[s.uniqId];a?a.domElem.index(n)<0&&(a.domElem=a.domElem.add(t),e.extend(a._params,s)):y(o,t,s)})}(e(this),s)}),i&&this.afterCurrentEvent(function(){i.call(n||this,t)}),this._runAfterCurrentEventFns(),t},destruct:function(t,n,o){"boolean"!=typeof t&&(o=n,n=t,t=i),n&&(b.call(E(n,".ddOm6Q6A",o)).each(function(t,i){var n=k(this);e.each(n,function(t,e){if(e.uniqId){var n=r[e.uniqId];n?B(n,i):delete s[e.uniqId]}}),w(this)}),t||(o?n.empty():n.remove()))},update:function(t,e,i,n){return this.destruct(t,!0),this.init(t.html(e),i,n)},replace:function(t,i){return this.destruct(!0,t),this.init(e(i).replaceAll(t))},append:function(t,i){return this.init(e(i).appendTo(t))},prepend:function(t,i){return this.init(e(i).prependTo(t))},before:function(t,i){return this.init(e(i).insertBefore(t))},after:function(t,i){return this.init(e(i).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,i,n,s){var r=this;if(i.indexOf(" ")>-1)i.split(" ").forEach(function(e){r._liveClassBind(t,e,n,s)});else{var a=u[i],c=e.identify(n);a||(a=u[i]={},o.bind(i,r._liveClassTrigger.bind(r))),c in(a=a[t]||(a[t]={uniqIds:{},fns:[]})).uniqIds||(a.fns.push({uniqId:c,fn:r._buildLiveEventFn(n,s)}),a.uniqIds[c]=a.fns.length-1)}return this},_liveClassUnbind:function(t,i,n){var o=u[i];if(o)if(n){if(o=o[t]){var s=e.identify(n);if(s in o.uniqIds){var r=o.uniqIds[s],a=o.fns.length-1;for(o.fns.splice(r,1);r<a;)o.uniqIds[o.fns[r++].uniqId]=r-1;delete o.uniqIds[s]}}}else delete o[t];return this},_liveClassTrigger:function(t){var i=u[t.type];if(i){var n=t.target,o=Object.keys(i);do{for(var s,r=" "+n.className+" ",a=0;s=o[a++];)if(-1!==r.indexOf(" "+s+" ")){for(var c=!1,h=i[s].fns,l=0;l<h.length;l++)!1===h[l].fn.apply(e(n),arguments)&&(c=!0);if(c&&t.preventDefault(),c||t.isPropagationStopped())return;o.splice(--a,1)}}while(o.length&&(n=n.parentNode))}},_buildLiveEventFn:function(t,i){var n=this;return function(o){var s=[n._name,((o.data||(o.data={})).domElem=e(this)).closest(n.buildSelector()),!0],r=y.apply(null,i?s.concat([t,o]):s);if(r&&!i&&t)return t.apply(r,arguments)}},liveInitOnEvent:function(t,e,i){return this.liveBindTo(t,e,i,!0)},liveBindTo:function(t,n,o,s){n&&!e.isFunction(n)||(o=n,n=t,t=i),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var r=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach(function(e){r._liveClassBind(g(r._name,e,t.modName,t.modVal),n,o,s)}),r):r._liveClassBind(g(r._name,t.elem,t.modName,t.modVal),n,o,s)},liveUnbindFrom:function(t,n,o){n&&!e.isFunction(n)||(o=n,n=t,t=i);var s=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach(function(t){s._liveClassUnbind(g(s._name,t),n,o)}),s):s._liveClassUnbind(g(s._name,t),n,o)},_liveInitOnBlockEvent:function(t,e,i,n){var o=this._name;return h[e].on(t,function(t){if(t.block.domElem){var e=arguments,s=t.block[n](o);i&&s.forEach(function(t){i.apply(t,e)})}}),this},liveInitOnBlockEvent:function(t,e,i){return this._liveInitOnBlockEvent(t,e,i,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,i){return this._liveInitOnBlockEvent(t,e,i,"findBlocksOutside")},on:function(t,e,i,n,o){return t.jquery?this._liveCtxBind(t,e,i,n,o):this.__base(t,e,i,n,o)},un:function(t,e,i,n){return t.jquery?this._liveCtxUnbind(t,e,i,n):this.__base(t,e,i)},liveCtxBind:function(t,e,i,n,o){return this._liveCtxBind(t,e,i,n,o)},_liveCtxBind:function(t,n,o,s,r){var a=this;if("object"==typeof n&&(e.isFunction(o)||e.isFunction(s))&&(n=this._buildModEventName(n)),"string"==typeof n)if(e.isFunction(o)&&(r=s,s=o,o=i),n.indexOf(" ")>-1)n.split(" ").forEach(function(e){a._liveCtxBind(t,e,o,s,r)});else{var u=a._buildCtxEventName(n),h=c[u]||(c[u]={counter:0,ctxs:{}});t.each(function(){var t=e.identify(this),i=h.ctxs[t];i||(i=h.ctxs[t]={},++h.counter),i[e.identify(s)+(r?e.identify(r):"")]={fn:s,data:o,ctx:r}})}else e.each(n,function(e,i){a._liveCtxBind(t,e,i,o)});return a},liveCtxUnbind:function(t,e,i,n){return this._liveCtxUnbind(t,e,i,n)},_liveCtxUnbind:function(t,i,n,o){"object"==typeof i&&e.isFunction(n)&&(i=this._buildModEventName(i));var s=c[i=this._buildCtxEventName(i)];return s&&(t.each(function(){var t,i=e.identify(this,!0);i&&(t=s.ctxs[i])&&(n&&delete t[e.identify(n)+(o?e.identify(o):"")],n&&!e.isEmptyObject(t)||(s.counter--,delete s.ctxs[i]))}),s.counter||delete c[i]),this},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t.eq(0).attr("class").match(this._buildElemNameRE());return e?e[1]:i},extractParams:x,_buildModClassPrefix:function(t,e){return this._name+(e?f+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+p+t},_buildModValRE:function(t,e,i){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+p+"("+d+"))?(?=\\s|$)",i)},_buildElemNameRE:function(){return new RegExp(this._name+f+"("+d+")(?:\\s|$)")},buildSelector:function(t,e,i){return"."+g(this._name,t,e,i)},getBlockByUniqId:function(t){return r[t]},getWindowSize:function(){return{width:n.width(),height:n.height()}}});e(function(){t.DOM.scope=e("body")})}(BEM,jQuery),function(t){var e=t(window),i=o(),n=s();function o(){return window.innerHeight|0+e.outerHeight()}function s(){return window.innerWidth|0+e.outerWidth()}(t.event.special.resize||(t.event.special.resize={})).preDispatch=function(t){var e=o(),r=s();if(n===r&&i===e)return!1;i=e,n=r}}(jQuery),jQuery.cookie=function(t,e,i){if(void 0===e){var n=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),s=0;s<o.length;s++){var r=jQuery.trim(o[s]);if(r.substring(0,t.length+1)==t+"="){n=decodeURIComponent(r.substring(t.length+1));break}}return n}i=i||{},null===e&&(e="",i.expires=-1);var a,c="";i.expires&&("number"==typeof i.expires||i.expires.toUTCString)&&("number"==typeof i.expires?(a=new Date).setTime(a.getTime()+24*i.expires*60*60*1e3):a=i.expires,c="; expires="+a.toUTCString());var u=i.path?"; path="+i.path:"",h=i.domain?"; domain="+i.domain:"",l=i.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),c,u,h,l].join("")},function(t){var e={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};function i(t,i){var n="";try{n=t(i)}catch(o){try{n=t(function(t){return t.replace(/%.{2}/g,function(t){return e[t]||t})}(i))}catch(t){n=i}}return n}jQuery.extend({decodeURI:function(t){return i(decodeURI,t)},decodeURIComponent:function(t){return i(decodeURIComponent,t)}})}(),function(t,e,i){var n={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",hwTimestamp:0,isPrimary:!1,target:null,currentTarget:null,which:0,pageX:0,pageY:0,timeStamp:0},o=Object.keys(n),s=o.map(function(t){return n[t]}),r=o.length,a=!1,c=[0,1,4,2];try{a=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}function u(t,e){var i={},n=t.originalEvent||{};e||(e={});for(var u,h=0;h<r;h++)i[u=o[h]]=e[u]||t[u]||n[u]||s[h];return i.x=i.clientX,i.y=i.clientY,i.pressure=i.pressure||(i.buttons?.5:0),i.buttons||a||(i.buttons=c[i.which]||0),i.originalEvent=t.originalEvent||null,e.preventDefault?i.preventDefault=function(){e.preventDefault(),t.preventDefault()}:(i.preventDefault=function(){t.preventDefault()},i._preventScroll=function(){}),i}var h=t.Map&&t.Map.prototype.forEach?new t.Map:{array:[],size:0,set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(i,n){t.call(e,i,n,this)},this)}},l={eventMap:{},captureInfo:{},eventSourceList:[],registerSource:function(t,e){var i=e.events;i&&(i.forEach(function(t){e[t]&&(this.eventMap[t]=e[t].bind(e))},this),this.eventSourceList.push(e))},register:function(t){for(var e,i=this.eventSourceList.length,n=0;n<i&&(e=this.eventSourceList[n]);n++)e.register.call(e,t)},unregister:function(t){for(var e,i=this.eventSourceList.length,n=0;n<i&&(e=this.eventSourceList[n]);n++)e.unregister.call(e,t)},contains:function(t,e){return!!t.contains&&t.contains(e)},getCommonAncestor:function(t,i){for(;t&&t!==e.documentElement;){if(t.contains&&t.contains(i))return t;t=t.parentNode}return null},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){var e=[],i=t.target,n=this.getCommonAncestor(i,t.relatedTarget);for(t.bubbles=!1;i&&i!==n;)e.push(i),i=i.parentNode;for(;e.length;)t.target=e.pop(),this.fireEvent("pointerenter",t)},leave:function(t){var e=[],i=t.target,n=this.getCommonAncestor(i,t.relatedTarget);for(t.bubbles=!1;i&&i!==n;)e.push(i),i=i.parentNode;for(;e.length;)t.target=e.shift(),this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){i(t).on(e,this.boundHandler)},removeEvent:function(t,e){i(t).off(e,this.boundHandler)},eventHandler:function(t){var e=this.eventMap[t.type];e&&e(t,t.originalEvent)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var n=function(t,e){var n=i.Event(t),o=e.preventDefault,s=n.preventDefault.bind(n);return jQuery.extend(n,e),n.preventDefault=function(){o(),s()},n}(t,e);return n._target=n._target||e.target,n},fireEvent:function(t,e){var i=this.makeEvent(t,e);return this.dispatchEvent(i)},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,n){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=n,this.implicitRelease=this.releaseCapture.bind(this,t),i(e).on("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(i.Event("gotpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:n}))},releaseCapture:function(t){var n=this.captureInfo[t];n&&(this.captureInfo[t]=void 0,i(e).off("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(i.Event("lostpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:n})))},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return i.event.trigger(t,null,e,!t.bubbles)},asyncDispatchEvent:function(e){(t.requestAnimationFrame||setTimeout)(this.dispatchEvent.bind(this,e))}};l.boundHandler=l.eventHandler.bind(l);var d,p,f={POINTER_ID:1,POINTER_TYPE:"mouse",DEDUP_DIST:25,events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){l.listen(t,this.events)},unregister:function(t){l.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,i=this.lastTouches,n=t.clientX,o=t.clientY,s=0,r=i.length;s<r&&(e=i[s]);s++){var a=Math.abs(n-e.x),c=Math.abs(o-e.y);if(a<=this.DEDUP_DIST&&c<=this.DEDUP_DIST)return!0}},prepareEvent:function(t){return u(t,{pointerId:this.POINTER_ID,isPrimary:!0,pointerType:this.POINTER_TYPE})},mousedown:function(t){this.isEventSimulatedFromTouch(t)||(h.has(this.POINTER_ID)&&this.cancel(t),h.set(this.POINTER_ID,t),l.down(this.prepareEvent(t)))},mousemove:function(t){this.isEventSimulatedFromTouch(t)||l.move(this.prepareEvent(t))},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=h.get(this.POINTER_ID);e&&e.button===t.button&&(l.up(this.prepareEvent(t)),this.cleanupMouse())}},mouseover:function(t){this.isEventSimulatedFromTouch(t)||l.enterOver(this.prepareEvent(t))},mouseout:function(t){this.isEventSimulatedFromTouch(t)||l.leaveOut(this.prepareEvent(t))},cancel:function(t){l.cancel(this.prepareEvent(t)),this.cleanupMouse()},cleanupMouse:function(){h.delete(this.POINTER_ID)}},m={POINTER_TYPE:"touch",DEDUP_TIMEOUT:2500,CLICK_COUNT_TIMEOUT:200,events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){l.listen(t,this.events)},unregister:function(t){l.unlisten(t,this.events)},firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===h.size||1===h.size&&h.has(1))&&(this.firstTouch=t.identifier,this.firstTouchTarget=t.target,this.scrolling=!1,this.firstXY={X:t.clientX,Y:t.clientY},this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstTouchTarget=null,this.firstXY=null,this.shouldScrollCache=void 0,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,this.CLICK_COUNT_TIMEOUT)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return e.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this,n=this.currentTouchEvent,o=t.identifier+2;return u(n,i.extend({},t,{pointerId:o,target:l.captureInfo[o]||this.findTarget(t),bubbles:!0,cancelable:!0,detail:this.clickCount,button:0,buttons:this.typeToButtons(n.type),width:t.webkitRadiusX||t.radiusX||0,height:t.webkitRadiusY||t.radiusY||0,pressure:t.webkitForce||t.force||.5,isPrimary:this.isPrimaryTouch(t),pointerType:this.POINTER_TYPE,preventDefault:function(){e.scrolling=!1,e.shouldScrollCache=!1,e.firstXY=null}}))},processTouches:function(t,e){var i=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var n,o=0;o<i.length;o++)n=i[o],e.call(this,this.touchToPointer(n))},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e,i=this.scrollTypes;return t===i.EMITTER?e="none":t===i.XSCROLLER?e="X":t===i.YSCROLLER?e="Y":i.SCROLLER.exec(t)&&(e="XY"),e},shouldScroll:function(t){if(void 0!==this.shouldScrollCache)return this.shouldScrollCache;if(!this.firstXY)return!0;for(var e,i,n=this.firstTouchTarget;n&&1===n.nodeType&&null===(e=n.getAttribute("touch-action"));)n=n.parentNode;var o=this.touchActionToScrollType(e);if("none"===o)i=!1;else if("XY"===o||void 0===o)i=!0;else{var s=t.originalEvent.changedTouches[0],r=o,a="Y"===o?"X":"Y";i=Math.abs(s["client"+r]-this.firstXY[r])>=Math.abs(s["client"+a]-this.firstXY[a])}return this.shouldScrollCache=i,this.firstXY=null,this.firstTouchTarget=null,this.shouldScrollCache},findTouch:function(t,e){for(var i,n=0,o=t.length;n<o&&(i=t[n]);n++)if(i.identifier===e)return!0},vacuumTouches:function(t){var e=t.originalEvent.touches;if(h.size>=e.length){var i=[];h.forEach(function(t,n){if(1!==n&&!this.findTouch(e,n-2)){var o=t.out;i.push(o)}},this),i.forEach(this.cancelOut,this)}},touchstart:function(t){var e=t.originalEvent.changedTouches[0];this.vacuumTouches(t),this.setPrimaryTouch(e),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){h.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),l.over(t),l.enter(t),l.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=h.get(t.pointerId);if(e){var i=e.out,n=e.outTarget;l.move(t),i&&n!==t.target&&(i.relatedTarget=t.target,t.relatedTarget=n,i.target=n,t.target?(l.leaveOut(i),l.enterOver(t)):(t.target=n,t.relatedTarget=null,this.cancelOut(t))),e.out=t,e.outTarget=t.target}},touchend:function(t){this.dedupSynthMouse(t.originalEvent.changedTouches[0]),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(l.up(t),l.out(t),l.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){l.cancel(t),l.out(t),l.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){h.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=f.lastTouches;if(this.isPrimaryTouch(t)){var i={x:t.clientX,y:t.clientY};e.push(i);var n=function(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)}.bind(null,e,i);setTimeout(n,this.DEDUP_TIMEOUT)}}},_={POINTER_TYPES:["","unavailable","touch","pen","mouse"],HAS_BITMAP_TYPE:t.MSPointerEvent&&"number"==typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){l.listen(t,this.events)},unregister:function(t){l.unlisten(t,this.events)},prepareEvent:function(t){var e=u(t);return this.HAS_BITMAP_TYPE&&(e.pointerType=this.POINTER_TYPES[e.pointerType]),e},cleanup:function(t){h.delete(t)},MSPointerDown:function(t){h.set(t.originalEvent.pointerId,t),l.down(this.prepareEvent(t))},MSPointerMove:function(t){l.move(this.prepareEvent(t))},MSPointerUp:function(t){l.up(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSPointerOut:function(t){l.leaveOut(this.prepareEvent(t))},MSPointerOver:function(t){l.enterOver(this.prepareEvent(t))},MSPointerCancel:function(t){l.cancel(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSGotPointerCapture:function(t){l.fireEvent("gotpointercapture",this.prepareEvent(t))},MSLostPointerCapture:function(t){l.fireEvent("lostpointercapture",this.prepareEvent(t))}},g=function(t){if(!h.has(t))throw new Error("InvalidPointerId")};t.Element&&Element.prototype.setPointerCapture?(d=function(t,e){t.setPointerCapture(e)},p=function(t,e){t.releasePointerCapture(e)}):t.navigator.msPointerEnabled?(d=function(t,e){g(e),t.msSetPointerCapture(e)},p=function(t,e){g(e),t.msReleasePointerCapture(e)}):(d=function(t,e){g(e),l.setCapture(e,t)},p=function(t,e){g(e),l.releaseCapture(e,t)}),i.fn.extend({setPointerCapture:function(t){d(this[0],t)},releasePointerCapture:function(t){p(this[0],t)}}),t._pointerPolyfillInited||(t._pointerPolyfillInited=!0,t.PointerEvent?["move","down","up","over","out","enter","leave","cancel"].forEach(function(t){var e=jQuery.event.fixHooks,i="pointer"+t;e[i]||(e[i]={}),e[i].props=o.concat(e[i].props||[])}):(delete i.event.special.pointerenter,delete i.event.special.pointerleave,t.navigator.msPointerEnabled?l.registerSource("ms",_):(l.registerSource("mouse",f),void 0!==t.ontouchstart&&l.registerSource("touch",m)),l.register(document)))}(window,document,jQuery),function(t,e){if(!e.event.special.pointerclick){var i,n=void 0!==t.ontouchstart||navigator.msMaxTouchPoints>0,o=10,s=25,r=900,a=[],c=[],u=null,h=null,l="touchAction"in document.documentElement.style?function(t){return function t(e){return!(!e||e===document.documentElement)&&("manipulation"===getComputedStyle(e)["touch-action"]||t(e.parentElement))}(t)}:function(){return!1};n?(i={click:function(t){var e=Object(t.originalEvent)._sourcePoint;if(!e)return d.apply(this,arguments);e.isDefaultPrevented()&&t.preventDefault()},"pointerdown pointermove pointerleave pointercancel pointerup":function(t){var e,i,n=t.type;if("mouse"!==t.pointerType&&("pointerdown"!==n&&"pointerup"!==n||!l(t.target)))if("pointerdown"===n)h=t;else if("pointermove"===n&&h&&(h.target!==t.target||(e=h,i=t,Math.abs(e.clientX-i.clientX)>o||Math.abs(e.clientY-i.clientY)>o)))h=null;else if("pointerleave"===n||"pointercancel"===n)h=null;else if("pointerup"===n){if(function(t){if(!t.isPrimary)return;a.push(t),setTimeout(Array.prototype.shift.bind(a),r)}(t),!h)return;if(!(t.timeStamp-h.timeStamp>250))return u||(u=setTimeout(function(){u=h=null})),d.apply(this,arguments);h=null}}},["mousedown","click"].forEach(function(e){t.addEventListener(e,function(t){!function(t){var e=t.clientX,i=t.clientY,n="_compat"+t.type;if(t._sourcePoint)return;for(var o=0;o<a.length;o++){var u=a[o],h=u.target===t.target;if(!u[n]&&((h||!(Math.abs(e-u.clientX)>s||Math.abs(i-u.clientY)>s))&&(h||document.elementFromPoint(u.clientX,u.clientY)!==u.target))){t._sourcePoint=u,u[n]=t;break}}c.push(t),setTimeout(Array.prototype.shift.bind(c),r)}(t),function(t){var e=function(t){for(var e=0;e<c.length;e++)if(c[e]===t)return c[e]._sourcePoint}(t);return Boolean(e)&&e.target!==t.target}(t)&&(t.preventDefault(),t.stopPropagation())},!0)})):i={click:function(t){return d.apply(this,arguments)}},e.event.special.pointerclick={setup:function(){e(this).on(i)},teardown:function(){e(this).off(i)}}}function d(t){var i,n=t.type;return t.button||(t.type="pointerclick",i=e.event.dispatch.apply(this,arguments),t.type=n),i}}(window,jQuery),BEM.DOM.decl("i-global",{onSetMod:{js:{inited:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*((function(){var f=function(){return ((Date.now()*73)%9949)/9950;};try{if (Math.random.toString().indexOf("native code") !== -1){f = Math.random;}}catch(e){}return f;})())())<=t["show-counters-percent"]),t.locale=t.lang,window.BEMHTML&&BEMHTML.apply({block:"i-global",params:t})}}},getDefaultParams:function(){return{id:"",login:this.__self.getCookie("yandex_login")&&$.cookie("yandex_login")||"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t,e){if(void 0===e)return(this._params||{})[t];this._params&&(this._params[t]=e)},getCookie:function(t){var e=document.cookie;if(e.length<1)return!1;var i=e.indexOf(t+"=");if(-1===i)return!1;i+=t.length+1;var n=e.indexOf(";",i);return decodeURIComponent(-1===n?e.substring(i):e.substring(i,n))}}),window.AG_each=function(){},window.Ya=window.Ya||{},BEM.DOM.decl("i-global",{onSetMod:{js:function(){var t=this,e=this.__self;window.tools=window.jQuery,t.__base.apply(t,arguments),BEM.I18N.lang(this.params.lang),t.i18n=e.i18n=function(t,e,i,n){if("string"==typeof t&&e){var o=new Error("Некорректно вызван i18n");o.name="DataError",o.data=arguments,window.logJsError(o)}return n=n||global.params.lang,function(t,e,i,n){if(t&&(n||("string"==typeof i&&(n=i,i=null),n))){if("[object Object]"===Object.prototype.toString.call(t)){var o="";try{o=e?t[e+"_"+n]||t[n+"_"+e]||t[e]:t[n]||t.en}catch(t){}return o}var s=BEM.I18N.lang();BEM.I18N.lang(n);var r=BEM.I18N(t,e,i);return BEM.I18N.lang(s),r}}(t,e,i,n)},t.counter=e.counter=function(t,e){if(!t)return null;var i,n,o=["pos","story_pos","theme_pos","parent_pos","link_pos","page"],s=["type","title","has_image","state"].concat(o),r=void 0!==e,a=r?e:this.blockstat&&this.blockstat.counter,c=t.cid||1,u=[t.path||""];!a||r?a={counter:function(t,e,i){return"cid="+e+"/path="+(i&&i[0])}}:(t.vars?n=t.vars:(n={},Object.keys(t).forEach(function(e){-1===["path","cid","url"].indexOf(e)&&(n[e]=t[e])})),Object.keys(n).forEach(function(t){var e=n[t];(e||!1===e||0===e)&&(o.indexOf(t)>-1&&e<100&&(e="p"+e),u.push(s.indexOf(t)>-1?t:"-"+t,e.toString()))}));if(!(i=a.counter(14,c,u).match(/(?:cid=(\d+)\/)(?:path=([^/]+)\/?)(?:vars=([^/]+)\/?)?/)))return[];var h=[];return i[2]&&h.push(i[2]),i[3]&&h.push(i[3]),h},t.counterUrl=function(e){var i=t.counter(e);return i&&i.c},t.ua=BEM.blocks["i-global"]._setUAParams(navigator.userAgent),window.global=t,t.uri=e.uri=BEM.blocks.uri.parse,t.history=e.history=BEM.blocks.history.getInstance(),t.location=e.location=BEM.blocks.location.getInstance(),t.updater=BEM.blocks["i-updater"],t.page=t.findBlockOn("dfamoR6ph"),BEM.create({block:"framebuster",mods:{type:"yandex"}},{whitelist:[/webvisor\.com$/]})}},update:function(t){Ya.c.commonCounter=t.params.commonCounter,this.params=this.__self._params=t.params}},{_uaMatch:function(t){t=t.toLowerCase();var e=/(chrome)[ /]([\w.]+)/.exec(t)||/(webkit)[ /]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ /]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},_isOldBrowser:function(t){var e=t.browser,i=parseFloat(t.version);return"msie"===e&&i<9||"opera"===e&&i<11.5||"mozilla"===e&&i<2||"webkit"===e&&i<533.16},_setUAParams:function(t){var e=this._uaMatch(t);return e.isOld=this._isOldBrowser(e),e.isIE9="msie"===e.browser&&9===parseInt(e.version,10),e.hasHistoryAPI=!(!window.history||!history.pushState),this.ua=e,$("html").addClass("i-ua_b_"+this.ua.browser),e}}),Object.defineProperties&&Object.defineProperties(window,{$:{value:window.jQuery,writable:!1},jQuery:{value:window.jQuery,writable:!1}}),BEM.decl("framebuster",{onSetMod:{js:{inited:function(){var t=this._getWindow();if(t.top.location!==t.location){var e=this.matchDomain(t.document.referrer);e&&!this.isInWhitelist(e)&&(t.top.location=t.location)}}}},matchDomain:function(t){if(!t)return null;var e=t.match(/^https?:\/\/([^:\/\s]+)\/?.*/);return e&&e[1]},isInWhitelist:function(t){return!t||this.defaultWhitelist().concat(this.params.whitelist||[]).some(function(e){return"string"==typeof e?e===t||-1!==t.indexOf(e,t.length-e.length):!!e.test(t)})},defaultWhitelist:function(){return[]},_getWindow:function(){return window}}),BEM.decl({name:"framebuster",modName:"type",modVal:"yandex"},{defaultWhitelist:function(){return[/^([a-zA-Z0-9\-]+\.)*yandex\.(ru|kz|by|ua|com|com\.tr|net)\.?$/,/^([a-zA-Z0-9\-]+\.)*yandex-team\.(ru|kz|by|ua|com|com\.tr)\.?$/]}}),function(t,e){var i={};/msie|trident/i.test(e)?i.ie=parseInt(e.split(/msie|rv:/i)[1],10):-1!==e.indexOf("Opera")?i.opera=parseInt(e.split(/Version\//i)[1],10):"undefined"!=typeof InstallTrigger&&-1!==e.indexOf("Firefox")&&(i.firefox=parseInt(e.split(/Firefox\//)[1],10));var n,o={},s={};(n=e.match(/Windows\sPhone[^\d]*\s([\d.]+)/))?o.wp=n[1]:(n=e.match(/Android\s+([\d.]+)/))?o.android=n[1]:e.match(/\sHTC[\s_].*AppleWebKit/)?o.android="2.3":(n=e.match(/iPhone\sOS\s([\d_]+)/))?(o.ios=n[1].replace(/_/g,"."),s.iphone=!0):(n=e.match(/iPad.*OS\s([\d_]+)/))?(o.ios=n[1].replace(/_/g,"."),s.ipad=!0):(n=e.match(/Bada\/([\d.]+)/))?o.bada=n[1]:(n=e.match(/MSIE\s9/))?o.wp="7.5":o.other=!0,BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){var t=this.__self,e="other";["ios","android","bada","wp","opera"].some(function(i){return t[i]&&(e=i)}),this.setMod("platform",e)}}},setVersion:function(){var t=this.parseVersion();t&&(this.setMod(t.platform,t.major),this.setMod(t.platform+"-subversion",t.subversion))},parseVersion:function(){if(this.__self.ios||this.__self.android){var t=(this.__self.ios||this.__self.android).split("."),e=t.shift(),i=t.join("-");return{platform:this.getMod("platform"),major:e,subversion:i}}}},{ios:o.ios,iphone:s.iphone,ipad:s.ipad,android:o.android,bada:o.bada,wp:o.wp,other:o.other,ua:e,ie:i.ie,opera:i.opera,firefox:i.firefox})}(window,navigator.userAgent),BEM.DOM.decl("i-ua",{},{safari:/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}),$(function(){BEM.afterCurrentEvent(function(){BEM.channel("ddOm6Q6A").trigger("start-init"),BEM.DOM.init(function(){BEM.channel("ddOm6Q6A").trigger("init")})})}),BEM.DOM.decl("dbba3QKtt9g-manager",{onSetMod:{js:function(){this.prefix=this.getPrefix(),this._nonce=this.params.nonce,this._startTime=Ya.Rum&&Ya.Rum.getTime(),BEM.channel("sys").on("updated:dbaW_QaBn7UH96Jd7",this.request,this),this.request()}},destruct:function(){return BEM.channel("sys").un("updated:dbaW_QaBn7UH96Jd7",this.request,this),this.__base.apply(this,arguments)},request:function(){var t=this.params;if(t.order&&t.banners&&!t.isTests){this._commonParams={async:!0,statId:this.params.statId,extParams:this.params.extParams,cspNonce:this._nonce,csp_nonce:this._nonce};var e=this._getCallbacks();e.length&&this._waitAdvManagerAndRender(e)}},_getCallbacks:function(){var t=this,e=this.dict,i=this.params,n=i.banners,o=[];return i.order.forEach(function(i,s){var r=n[i];if(r&&("main"!==i||!t._isContentShort||!t._isContentShort())){var a=Ya.Rum&&Ya.Rum.makeSubPage("155."+e[i],this._startTime);Ya.Rum&&Ya.Rum.sendTTI(!1,this._startTime,a),t._getBlocksByName(i).each(function(e,n){var s=$(n);s.hasClass("profit_js_inited")||("string"!=typeof r||"C"!==r[0]?o.push(t._makeCallback({bannerId:r,subPage:a,name:i,$dbba3QKtt9g:s,pageNumber:e})):t._getNativeAdv({bannerId:r,subPage:a,name:i,$dbba3QKtt9g:s,pageNumber:e}))})}}),o},_getBlocksByName:function(t){return $({main:".dbba3QKtt9nDn7JRqEkx3QHo",alt:".dbba3QKtt9nDn7JRqEkB6XQ",top:".dbba3QKtt9nDn7JRqElV5WQ",first:".dbba3QKtt9nDn7JRqEkd_W2dx",more:".dbba3QKtt9nDn7JRqEkx5W3E",footer:".dbba3QKtt9nDn7JRqEkd5RmBgmw"}[t])},_identify:function(t){var e=t.$dbba3QKtt9g.attr("id");return e||(e=$.identify(),t.$dbba3QKtt9g.attr("id",e)),e},_getNativeAdv:function(t){var e=this.prefix.replace("R","C")+t.bannerId.slice(1),i=this._identify(t);window.yaads.push({id:e,render:"#"+i,statId:this.params.statId,success:this._onRender.bind(this,{subPage:t.subPage,$dbba3QKtt9g:t.$dbba3QKtt9g,advParams:{blockId:e,pageNumber:t.pageNumber||null}})}),Ya.Rum&&Ya.Rum.sendTimeMark("1724",Ya.Rum.getTime(),!1,t.subPage)},_makeCallback:function(t){var e=this,i=this.prefix+t.bannerId,n=this._identify(t),o=$.extend({blockId:i,initTime:Number(new Date),renderTo:n,pageNumber:t.pageNumber||null},e._commonParams);return"main"===t.name&&this.params.mainData&&(o.data=this.params.mainData),function(){o.onRender=e._onRender.bind(e,{blockId:i,name:t.name,$dbba3QKtt9g:t.$dbba3QKtt9g,subPage:t.subPage,advParams:o}),Ya.dXqu2Uqh89g.dXKCua6xq40js_w.render(o),Ya.Rum&&Ya.Rum.sendTimeMark("1724",Ya.Rum.getTime(),!1,t.subPage)}},_waitAdvManagerAndRender:function(t){window.Ya&&Ya.dXqu2Uqh89g?Ya.dXqu2Uqh89g.dXKCua6xq40js_w?t.forEach(function(t){return t()}):Ya.dXqu2Uqh89g._callbacks=t:window.dZKW2Qqh8wUDnaZx3OWBlUHpmqpGFCieJ66p1=t},_onRender:function(t,e){if(t.$dbba3QKtt9g.bem("dbba3QKtt9g").onRender(t),!t.sent){t.sent=!0;var i="2046";"direct"===e.product?i+=".155":"rtb"===e.product&&(i+=".3431"),Ya.Rum&&Ya.Rum.sendTimeMark(i,Ya.Rum.getTime(),!1,t.subPage)}},dict:{top:77,main:321,alt:2990,first:205,more:75,footer:295}}),BEM.DOM.decl("dbba3QKtt9g-manager",{initAlt:function(t){var e=t.height(),i=this._getContentHeight(),n=this;if(e<100)this.reties++<10&&setTimeout(function(){n.initAlt(t)},100);else if(i>=620&&(e<320||i>=820&&(e<420||e<620&&window.outerHeight>=1e3))){var o=$(".dbba3QKtt9nDn7JRqEkB6XQ");(e>320&&e<420||240===t.find(".yap-rtb__iframe").width())&&o.width(240);var s=this._makeCallback({$dbba3QKtt9g:o,name:"alt"});this._waitAdvManagerAndRender([s])}},reties:0,_onRender:function(t){this.__base.apply(this,arguments),"main"===t.name&&this.params.banners.alt&&this.initAlt(t.$dbba3QKtt9g)},getPrefix:function(){return this.findBlockOutside("i-global").params.isSport?"R-I-332879-":"R-I-93511-"}}),BEM.DOM.decl("dbba3QKtt9g-manager",{_isContentShort:function(){return this._getContentHeight()<=200},_getContentHeight:function(){return $(".dbaW_QaBn7UH96Jd7").height()}}),window.Ya&&window.Ya.Rum&&(function(t){if(!t)throw new Error("Rum: interface is not included");if(!t.enabled)return t.getSetting=function(){return""},t.getVarsList=function(){return[]},void(t.getResourceTimings=t.pushConnectionTypeTo=t.pushTimingTo=t.normalize=t.sendCounter=t.sendDelta=t.sendTimeMark=t.sendResTiming=t.sendTTI=t.makeSubPage=t.sendFirstPaint=t.sendHeroElement=function(){});t.getSetting=function(e){var i=t._settings[e];return null===i?null:i||""},t.getVarsList=function(){var e=t._vars;return Object.keys(e).map(function(t){return t+"="+e[t]})},t.setVars=function(e){Object.keys(e).forEach(function(i){t._vars[i]=e[i]})};var e="690.1033",i="690.2096.207",n="690.2096.2877",o="690.2096.2044",s="690.2096.2748",r="690.2096.2335.1822",a=10,c=3e3,u=2e4,h={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},l={visible:1,hidden:2,prerender:3},d={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},p={"first-paint":2793,"first-contentful-paint":2794},f=Object.keys(p).length,m=t.getTime,_=window.performance||{},g=_.timing||{},v=_.navigation||{},b=navigator.connection,y={},M=t._deltaMarks,E=document.createElement("link"),k="function"==typeof _.getEntriesByType,x=g.navigationStart,w=g.responseStart-x,B=g.domainLookupStart-x,C=t.getVarsList().concat("1042="+encodeURIComponent(navigator.userAgent)),T=C.concat(["143.2129="+x,"143.2112="+B,"143.2119="+w]);if(t.ajaxStart=0,t.ajaxComplete=0,window.PerformanceObserver)try{new PerformanceObserver(function(t,e){var i=t.getEntriesByType("navigation")[0];if(i){e.disconnect();var n=[];U(n,i),L(n),H("690.2096.2892",C.concat(n))}}).observe({entryTypes:["navigation"]})}catch(t){}function S(){removeEventListener("DOMContentLoaded",S),removeEventListener("load",S),x&&setTimeout(function(){t.sendTimeMark=O,t.sendResTiming=j,t.timeEnd=R;for(var e=t._defRes;e.length;){var i=e.shift();j(i[0],i[1])}for(var n=t._defTimes;n.length;){var o=n.shift();O(o[0],o[1],!1,o[2])}var s,a;Object.keys(M).forEach(function(t){N(t)}),D(),function e(){if(k&&!t.isVisibilityChanged()){for(var i=_.getEntriesByType("paint"),n=0;n<i.length;n++){var o=i[n],s=p[o.name];s&&!I[o.name]&&(I[o.name]=!0,P++,O("1926."+s,o.startTime))}if(t.getSetting("enablePaintPerformanceObserver")&&P<f)try{new PerformanceObserver(function(t,i){e(),i.disconnect()}).observe({entryTypes:["paint"]})}catch(t){}}}(),t.getSetting("sendStaticLocation")&&(s=document.createElement("script"),a=t.getSetting("crossOrigin"),s.src="https://yandex.com/news/_nzp/1EIn34184/60adefdbCs/Vr4-rQDw7Ip7LFV_SjprjITGCCCJ-qR1_VHzrFeonZG8QzASFzZCg7ZfKwtA5ICev3fHsDTKR19rA3S0KnWAvl-DQupW_du6YitNU0hQapCyowEsv_GyU90I0osgr56_gmgBEhc4Rp2feAUWauCXjIx29b4BxVZKXB1WshhUg61emVbOddr1nEcUcU9MZGSzhpE_C6vLhXT7MsuYAbK0tphLNyA0LGKmgn8RCE_gkoiOYvW_KvRAV3kkdYcXWJWpVZlV6Hzb_qxXBk1fW0ZcuZm6BTWv7KdS5RLJqQ-ShrCjTw4RHTlnqYpwJiBPw7islnHkmzz6andrN12DG2WQvGGcV8Rnyv6NXjRkVUJuXbO_kQwLktiLZPMS2LgwhYKNqm4NNhIpeZSMfggWRtiQk7VA-6Ek1UFQYgxyoSJqvbB0gmHRQuz9nmwhcHBYQlCgoZorMaH6lVzKNNi7NoCCnpRODAEUFEy5m1sQAWz0p7WIf-CtHNVWTXo_UaIbU4mOfoVp-Fj7_bhVP09Xc1VovIKsKxK926Zy4CvfuzW5gaa_bTU6FD5ql7x5Nh1jxpqGuGzDuSrGZFZECGGBGHesok6pTc5Y--e-fzRUR1lhbb2kpCwhosC4Vd8F_7w4qJ2BtEYRAAMQXqOWeT4BXN23jI9v_LAg0mxVQDd2rSt5nK1nqnHoXevJi2s8b2ZcTEeBs78MJ4LhqkTMPvuSLbWRvbFvNRsmEGOiimU7LkzdtbmNS-e8KdJ2fXoGaa05f4ytQZlUz2nD5LpWAkJ9WlldkLy8BTKvzLhk5AbUiy-Wirq6UQsHMRhAva9FLxJi26WJq13WlwjBbn5eIGqwJUmNiGyGSMpE3e6ARhdoXnhyQp2irDMBqv6JUuc32qswg6ellkMaJgMeRKS7cBQgYNikrbd_5JII0nRsVj1hpBVukbBohWLTfd_BvkondmB7Z2KQpJEFKbjGrl7ePvOWEKmZkbZHKzY6LF2lvEk0FGjoqIqYYMW0LtlOV1ssULM3VIqMVZdD0Xj93Y5CNGVXcF1NmaSIMRaBxpFX-h74kBamsoGqahM-JitHpKlcDC5H9bmsp0Hwnz_vSU9GJGG2IHqPtEifVeRJ4MmpaTVFUlNNTqi-uCUTq-WsZ_MG1rUwoqmntlk3IjESWJShQDcDRcigqLB18o8k805GcwdvhQ5Nh7dcm2XweurMuk0kTHt_Uky4gY82K7ndr1PNL8-aI4mao6VAAzY0N0iVqmU0AV7FsriyUMeFAOVIe0ImfKskca2US55d8l3oxI13NXtnWFVfj5G7DyG-0IZ-7BXtjgWCnLW9Rx8QNzldmrRKKiBh47Ort1PkmjfSTnVhA0WVF06Ss1G0SuN1zN-3SSZSQGZwbL-TuxUIseyAat06_ZY8rbqNl2APECocfYi6RBYxUuWSqqxV95wG1W9-VAlyiRdQtKlSom7vR974jU4HYFxuXXC6uZsUJ6v7hXP8N_CnM7GYtrJTPCMeH2WnmmEsNG_kuIiHYsmeD9F2Vl8MV7c3W4yrYL9W8UPv6YBtKmxCenhggYS7LQ6w-JBnwAb-nDqxpJGbUQEcJhJCqJVQLwJP5JqblnbWtBzFYkt5LWqxNGyGvVSXVcNL5fu_dwdQe31kY7icnhAjj-OCR_Ab1rAFu7WcmVIiMBwXYLSaSjcmQOOiso1Q8Jcp9nV_XgRApiVPhaxpmkvjWOXltH89YHFMTneisacPFqvilkDjHPW1H42agLFrIT4mNmO_om4sKEPVhrGcdNGEHchfVHYPSrAlVai-XoRCwF3F57BkKEBiRnpDrISsJCGJ6bJ-2in0pTGJl5WGdAEiPBl8patGPTZW2qe9kWznpiHUY3FVO0ONBUWMtUKmVMhuzcW2QTVuY3FcT6acvSItue6ORP8uzZ0jsb-tpEsMEwASfYagWi03SOG2ubti27ca81B-QABFlThLo4BMpW_ORsLdj0kAR31ueE-YkoAANo3ik2PAJfeFFou5hZpDGS0_E22rkEQ0InDptquMXtWwLtNxa30DUJUURIKpQLdJ-1nu6oplDE1UUFFQrJSnHjG8ypdn7zPdqx-DmpybWS8OATRDnK5SGyR0_pyQtVfUnxfQdkhZDFaULFGdiV65a9do7--cQz1pWG9eRrqUvzUXut6Nc-Um9KgBpaattU8IPzo4RJyoUjo9SPOSlLpP_L85-lFmWgV-gwVpvZpkmkL0YP7fgEojTmdHbGOugZoXCYHni0PiG-yXHIe2n7BTCTsRLluSr1oUA1LAgqeQV9CFAu5_Xn0gbaQNZKCzU5hBwF_Z965WBU1ZQ1hDv7-BLzOf-49nxA7quzCXmYGbUw8FIRpqqbJ_PT1j1oGWi3_LnCPgQExECHaEK2Wuk2ClcMlV4saMdgBUQ35af52nni0TgO-FTO8PzbQlsaCjhlgWJR4yQ6KvXRg9VfSitZdzxKc_wkRIdQBvgTR0oqpvgUg",s.async=!0,null!==a&&(s.crossOrigin=a),s.onload=function(){var t=window.YaStaticRegion;t&&H(r,C.concat("1822="+t))},document.head.appendChild(s)),V(),k&&("complete"===document.readyState?F():addEventListener("load",F))},0)}function D(){var i=g.domContentLoadedEventStart,n=g.domContentLoadedEventEnd;if(0!==i||0!==n){var o=function(){if(!t.isVisibilityChanged())return window.chrome&&"function"==typeof window.chrome.loadTimes?1e3*window.chrome.loadTimes().firstPaintTime:g.msFirstPaint?g.msFirstPaint:void 0}(),s=C.concat(["2129="+x,"1036="+(g.domainLookupStart-x),"1037="+(g.domainLookupEnd-g.domainLookupStart),"1038="+(g.connectEnd-g.connectStart),g.secureConnectionStart&&"1383="+(g.connectEnd-g.secureConnectionStart),"1039="+(g.responseStart-g.connectEnd),"1040="+(g.responseEnd-g.responseStart),"1040.906="+(g.responseEnd-g.domainLookupStart),"1310.2084="+(g.domLoading-g.responseStart),"1310.2085="+(g.domInteractive-g.responseStart),"1310.1309="+(n-i),"1310.1007="+(i-g.responseStart),"2299="+history.length,navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);t.mark("1039 ttfb",g.responseStart-g.connectEnd),t.mark("1310.1007 dom.loaded",g.domContentLoadedEventStart-g.responseStart),o&&(s.push("2130="+(o-x),"1041="+(o-g.responseStart),"1041.906="+(o-g.domainLookupStart)),t.mark("1041.906 ttfp",o-g.domainLookupStart)),Object.keys(h).forEach(function(t){t in g&&g[t]&&s.push(h[t]+"="+W(g[t],x))}),t.vsStart?(s.push("1484="+(l[t.vsStart]||2771)),t.vsChanged&&s.push("1484.719=1")):s.push("1484="+l.visible),v&&(v.redirectCount&&s.push("1384.1385="+v.redirectCount),1!==v.type&&2!==v.type||s.push("770.76="+v.type)),L(s),H(e,s,["dtype=stred","pid=1","cid=72202"])}else setTimeout(D,50)}"loading"===document.readyState?(addEventListener("DOMContentLoaded",S),addEventListener("load",S)):S();var I={},P=0;function O(e,n,o,s){void 0===n&&(n=m()),void 0!==o&&!0!==o||t.mark(e,n);var r=z(e);r.push("207="+W(n)),A(r,s)&&(H(i,r),y[e]=y[e]||[],y[e].push(n))}function A(t,e){if(e){if(e.isCanceled&&e.isCanceled())return!1;Object.keys(e).forEach(function(i){"function"!=typeof e[i]&&t.push(i+"="+e[i])})}return!0}function R(t){var e=M[t];e&&0!==e.length&&(e.push(m()),N(t))}function N(e,i,o){var s,r,a=M[e];if(void 0!==i?s=(r=t.getTime())-i:a&&(s=a[0],r=a[1]),void 0!==s&&void 0!==r){var c=z(e);c.push("207.2154="+W(s),"207.1428="+W(r),"2877="+W(r-s)),A(c,o)&&(H(n,c),delete M[e])}}function j(t,e){q(e,function(i){if(i){var n=z(t);n.push("13="+encodeURIComponent(e)),U(n,i[0]),H(o,n)}})}function F(){if(removeEventListener("load",F),k){var t=_.getEntriesByType("resource").reduce(function(t,e){var i,n=e.name.match(/^https?:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return n&&((i=n[1])in t||(t[i]={count:0,size:0}),t[i].count++,e.transferSize&&(t[i].size+=e.transferSize)),t},{}),e="2748=";Object.keys(t).forEach(function(i){e+=i+"!"+t[i].count+"!"+(t[i].size||"")+";"}),H(s,C.concat(e))}}function V(e,i,n){if(t._tti){var o=m(),s=function(t,e,s){var r={2796.2797:function(t,e){return t=t||[],e=e||0,t.filter(function(t){return t.startTime-e>=-50}).map(function(t){var e=t.name?t.name.split("-").map(function(t){return t[0]}).join(""):"u",i=Math.floor(t.startTime);return e+"-"+i+"-"+Math.floor(i+t.duration)}).join(".")}(s,i),689.2322:W(o)};n&&Object.keys(n).forEach(function(t){r[t]=n[t]}),O(t||"2795",e,!0,r)},r=function(){var n,a=i||o,h=m(),l=t._tti.events||[],d=l.length;0!==d&&(n=l[d-1],a=Math.max(a,Math.floor(n.startTime+n.duration))),h-a>=c?s(e,a,l):h-a>=u?s(e,(i||o)+u,l):setTimeout(r,1e3)};r()}}function L(t){b&&t.push("2437="+(d[b.type]||2771),b.downlinkMax&&"2439="+b.downlinkMax,b.effectiveType&&"2870="+b.effectiveType)}function q(t,e){if(!k)return e(null);E.href=t;var i=E.href,n=0,o=100;setTimeout(function t(){var s=_.getEntriesByName(i);if(s.length)return e(s);n++<a?(setTimeout(t,o),o+=o):e(null)},0)}function z(e){return T.concat(["1701="+e,t.ajaxStart&&"1201.2154="+W(t.ajaxStart),t.ajaxComplete&&"1201.2052="+W(t.ajaxComplete)])}function U(t,e){Object.keys(h).forEach(function(i){if(i in e){var n=e[i];(n||0===n)&&t.push(h[i]+"="+W(n))}})}function W(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}function H(e,i,n,o){var s=i.filter(Boolean).join(","),r=o?{href:o}:null;t.send(r,e,s,null,null,null,n)}t.getTimeMarks=function(){return y},t.sendTTI=V,t.sendFirstPaint=function(t){window.requestAnimationFrame?requestAnimationFrame(function(){O("2130",t)}):O("2130",t)},t.sendHeroElement=function(t){O("2876",t)},t._subpages={},t.makeSubPage=function(e,i){var n=t._subpages[e];t._subpages[e]=void 0===n?n=0:++n;var o=!1;return{689.2322:W(i||Ya.Rum.getTime()),2924:e,2925:n,isCanceled:function(){return o},cancel:function(){o=!0}}},t.getResourceTimings=q,t.pushConnectionTypeTo=L,t.pushTimingTo=U,t.normalize=W,t.sendCounter=H,t.sendDelta=N}(Ya.Rum),Ya.Rum.enabled&&addEventListener("load",function t(){removeEventListener("load",t),Ya.Rum.sendTimeMark("1724");for(var e=document.querySelectorAll("script[data-rCid], div[data-rCid]"),i=0,n=e.length;i<n;i++){var o=e[i],s=o.src;if(!s){var r=getComputedStyle(o).backgroundImage;if(r){var a=r.match(/^url\(["']?(.*?)["']?\)$/);a&&(s=a[1])}}s&&Ya.Rum.sendResTiming(o.getAttribute("data-rCid"),s)}}),window.BEM&&BEM.channel("ddOm6Q6A").onFirst("start-init",function(){Ya.Rum.sendTimeMark("2418")}).onFirst("init",function(){Ya.Rum.sendTimeMark("2295")})),$.extend({debounce:function(t,e,i,n){var o,s=function(){var s=arguments;n=n||this,i&&!o&&t.apply(n,s),clearTimeout(o),o=setTimeout(function(){i||t.apply(n,s),o=null},e)};return 3===arguments.length&&"boolean"!=typeof i&&(n=i,i=!1),s.stop=function(){clearTimeout(o),o=null},s},throttle:function(t,e,i){var n,o,s,r=function(){o=arguments,s=!0,i=i||this,n||function(){s?(t.apply(i,o),s=!1,n=setTimeout(arguments.callee,e)):n=null}()};return r.stop=function(){clearTimeout(n),n=null},r}}),BEM.decl("location",{onSetMod:{js:{inited:function(){this._history=BEM.blocks.history.getInstance(),this._syncState(),this._history.on("statechange",this.changeThis(this._onStateChange))}}},_onStateChange:function(){this._syncState(),this._state.referer!==BEM.blocks.uri.normalize(window.location.href)&&!1!==this._state.trigger&&(this.trigger("change",this._state),this._state.block&&this.channel(this._state.block).trigger("change"))},_syncState:function(){var t=this._history.state,e=BEM.blocks.uri.parse(t.url);return this._state=$.extend({},t.data,{referer:this._state&&this._state.url,url:e.build(),hostname:e.host(),path:e.path(),params:e.queryParams}),this},change:function(t){var e=BEM.blocks.uri.parse(t.url);if(t.url&&delete t.params,t.url=e.build(),t.params){var i=BEM.blocks.uri.parse(),n=t.forceParams?t.params:$.extend({},this._state.params,t.params);Object.keys(n).forEach(function(t){i.addParam(t,n[t])}),t.url=i.build()}!1===t.trigger||(t.trigger=!0);try{this._history.changeState(!1===t.history?"replace":"push",{data:t,url:t.url})}catch(e){if("SecurityError"===e.name)throw e;"undefined"!=typeof console&&console.error,window.location.assign(t.url)}},getState:function(){return $.extend(!0,{},this._state)},getUri:function(){return BEM.blocks.uri.parse(this._state.url)},getReferer:function(){return this._state.referer}},{_instance:null,getInstance:function(){return this._instance||(this._instance=BEM.create("location"))}}),BEM.decl("location",{change:function(t){var e=t.url;if(BEM.channel("sys").trigger("location:beforechange"),!global.ua.isOld&&global.ua.hasHistoryAPI)this.__base.apply(this,arguments);else{if(!e)throw new Error("No any url to change location");global.page.setMod("state","loading"),window.location.href=e}}}),BEM.decl("history",{onSetMod:{js:{inited:function(){if(!this.hasMod("provider"))throw new Error("Use BEM.blocks['history'].getInstance() instead of BEM.create('history')");this._resetUrl().bindEvents().syncState()}}},destruct:function(){this.unbindEvents(),this.__base.apply(this,arguments)},pushState:function(t,e,i){return this.changeState("push",this.normalizeState(t,e,i))},replaceState:function(t,e,i){return this.changeState("replace",this.normalizeState(t,e,i))},bindEvents:function(){return this},_resetUrl:function(){return this},_removeHashbang:function(t){var e=BEM.blocks.uri,i=e.parse(t);if(""===i.anchor())return t;var n=e.parse(i.anchor().replace(/^!/,""));return i.anchor(""),i.query(n.query()),i.build()},unbindEvents:function(){return this},syncState:function(){return this.state=this.normalizeState(void 0,document.title,window.location.href),this},normalizeState:function(t,e,i){return{data:null===t?void 0:t,title:e,url:i}},changeState:function(t,e){try{window.location.assign(e.url)}catch(t){}}},{hasNativeAPI:function(){return window.history&&"pushState"in window.history},_instance:null,getInstance:function(){return this._instance||(this._instance=BEM.create({block:"history",mods:{provider:this.hasNativeAPI()?"history-api":"hashchange"}}))}}),BEM.decl("uri",{onSetMod:{js:{inited:function(){var t=this;["protocol","host","port","path","anchor"].forEach(function(e){t[e]=function(t){return void 0!==t?(this.uriParts[e]=t,this):this.uriParts[e]}})}}},encode:function(t){return encodeURIComponent(t)},decode:function(t){try{t=decodeURIComponent(t)}catch(e){try{t=decodeURIComponent(this.convert(t))}catch(t){}}return t},convert:function(t){var e={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};return t=t.replace(/%.{2}/g,function(t){return e[t]||t})},normalize:function(t){return(t||"").replace(/\+/g,"%20")},parseUri:function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@\/]*))?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?:?)((((?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t||""),i={};return["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"].forEach(function(t,n){i[t]=e[n]||""}),i},parseQuery:function(t){var e,i,n,o,s,r={};if("string"!=typeof t||""===t)return r;for(i=t.replace("?","").split("&"),e=0;e<i.length;e++)n=[(n=i[e].split("=")).shift(),void 0!==n[0]?n.join("="):null],o=this.decode(n[0]),s=n[1]||""===n[1]?this.decode(n[1]):null,r[o]?(s||""===s)&&r[o].push(s):r[o]=null===s?[]:[s];return r},query:function(t){var e="";void 0!==t&&(this.queryParams=this.parseQuery(t));var i=this.queryParams,n=this;return Object.keys(i).forEach(function(t,o){o>0&&(e+="&"),"object"!=typeof i[t]||i[t].length?i[t].forEach(function(i,o){o>0&&(e+="&"),e+=n.encode(t)+"="+n.encode(i)}):e+=t}),e.length>0?"?"+e:e},getParam:function(t){return this.queryParams[t]},deleteParam:function(t,e){var i=[];return void 0!==e&&((this.queryParams[t]||[]).forEach(function(t){t!==e&&i.push(t)}),this.queryParams[t]=i),void 0!==e&&0!==i.length||delete this.queryParams[t],this},addParam:function(t,e){return this.queryParams[t]=(this.queryParams[t]||[]).concat(e),this},replaceParam:function(t,e,i){return this.deleteParam(t,i).addParam(t,e)},scheme:function(){var t="";return this.protocol()?(t+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(t+=":"),t+="//"):this.host()&&(t+="//"),t},origin:function(){var t=this.scheme();return this.host()&&(t+=this.host(),this.port()&&(t+=":"+this.port())),t},getRoot:function(){var t=this.origin();return this.path()&&(t+=this.path().replace(/\/[^\/]*$/,"")),t},pathParts:function(){return this.path().split("/")},toString:function(){var t=this.origin();return this.path()?0!==this.path().indexOf("/")&&"/"!==t[t.length-1]?t+="/"+this.path():t+=this.path():this.host()&&(this.query().toString()||this.anchor())&&(t+="/"),this.query().toString()&&(0!==this.query().toString().indexOf("?")&&(t+="?"),t+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t},build:function(){var t="";return t+=this.protocol()?this.protocol():window.location.protocol,t+=t.indexOf(":")!==t.length-1?"://":"//",t+=this.host()?this.host():window.location.hostname,this.port()?t+=":"+this.port():!this.host()&&window.location.hostname&&(t+=":"+window.location.port),this.path()?t+=this.path():this.host()?t+="/":t+=window.location.pathname,this.query()&&(0!==this.query().indexOf("?")&&(t+="?"),t+=this.query()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t}},{parse:function(t){var e=BEM.create({block:"uri"});return e.uriParts=e.parseUri(e.normalize(t)),e.queryParams=e.parseQuery(e.uriParts.query),e},normalize:function(t){return this.parse(t).toString()}}),BEM.decl({block:"history",modName:"provider",modVal:"history-api"},{_onPopState:function(t){var e=t.originalEvent.state;null!==e&&(this.state=this.normalizeState(e,document.title,window.location.href),this.state.data&&delete this.state.data.trigger,this.trigger("statechange",this.state))},bindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.on("popstate",this.changeThis(this._onPopState)),this},unbindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.off("popstate",this._onPopState),this},_resetUrl:function(){return BEM.blocks.uri.parse(window.location.href).anchor()&&window.history.replaceState({},document.title,this._removeHashbang(window.location.href)),this},syncState:function(){var t=window.history.state;return null!==t&&void 0!==t||window.history.replaceState({},document.title,window.location.href),null!==this.state&&void 0!==this.state||(this.state=this.normalizeState(void 0,document.title,window.location.href)),this},changeState:function(t,e){return window.history[t+"State"](e.data,e.title||document.title,e.url),this.state=e,this.trigger("statechange",{state:e,nativeApi:!0}),this}}),BEM.decl({block:"history",modName:"provider",modVal:"history-api"},{_resetUrl:function(){return this}}),BEM.decl({block:"history",modName:"provider",modVal:"hashchange"},{_onHashChange:function(){this.state=this.normalizeState(void 0,document.title,this._removeHashbang(window.location.href)),this.trigger("statechange",{state:this.state,nativeApi:!1})},bindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.on("hashchange",this.changeThis(this._onHashChange)),this},unbindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.off("hashchange",this._onHashChange),this},syncState:function(){return this.state=this.normalizeState(void 0,document.title,this._removeHashbang(window.location.href)),this},_generateHashbang:function(t){var e=BEM.blocks.uri.parse(t),i=e.pathParts();return"!/"+i[i.length-1]+e.query()},_resetUrl:function(){return this},changeState:function(t,e){var i=BEM.blocks.uri.parse(e.url);if(i.host()&&i.host()!==window.location.hostname||i.port()&&i.port()!==window.location.port||i.protocol()&&i.protocol()!==window.location.protocol.replace(":",""))throw new Error("SECURITY_ERR: DOM Exception 18");this.state=e,window.location.hash=this._generateHashbang(e.url)}}),BEM.decl({block:"history",modName:"provider",modVal:"hashchange"},{_removeHashbang:function(t){return t}}),function(t){t.event.special.pointerpress||t.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},function(e,i){function n(i){var n,o=i.type;return"mouse"===i.pointerType&&1!==i.which||(i.type=e,n=t.event.dispatch.apply(this,arguments),i.type=o),n}t.event.special[e]={setup:function(){t(this).on(i,n)},teardown:function(){t(this).off(i,n)}}})}(jQuery),$.extend({util:{}}),function(){var t=Object.prototype.toString;function e(e){return"[object Object]"===t.call(e)}function i(t,n,o){var s,r;for(s in t=Object(t),n=Object(n))"__proto__"!==s&&"prototype"!==s&&"constructor"!==s&&(void 0!==(r=o&&o(t[s],n[s],s))?t[s]=r:e(t[s])&&e(n[s])?t[s]=i(t[s],n[s],o):t[s]=n[s]);return t}$.extend($.util,{merge:i,mergeBemjson:function(t,e){return i(t,e,function(t,e,i){if("mix"===i)return[].concat(t,e)})}})}(),BEM.DOM.decl("control",{onSetMod:{focused:{yes:function(){if(this.hasMod("disabled"))return!1;this._focused||(this._focus(),this.trigger("focus"))},"":function(){this._focused&&(this._blur(),this.trigger("blur"))}},disabled:{"*":function(t,e){var i=this._getControl();i.prop("disabled",Boolean(e)).attr("aria-disabled",Boolean(e)),i.attr("tabindex",e?null:this.params._tabindex)},yes:function(){this.delMod("focused")}}},_focus:function(){this._getControl().focus()},_blur:function(){this._getControl().blur()},_getControl:function(){var t=this.elem("control");return t.length>0?t:this.domElem},_onFocusin:function(){this._focused=!0,this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusout)},_onFocusout:function(){this._focused=!1,this.trigger("blur").delMod("focused").unbindFrom("focusout")},getDefaultParams:function(){return{_tabindex:this._getControl().attr("tabindex")}}},{live:function(){this.liveBindTo("focusin",function(t){this._onFocusin(t)}),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&this.liveBindTo("control","focusin",function(t){t.preventDefault()})}}),BEM.DOM.decl({block:"link",baseBlock:"control"},{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",this.params._tabindex)},yes:function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",-1),this.delMod("pressed")}}},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}),this.__base()}}),BEM.DOM.decl("link",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.__base.apply(this,arguments)}}),BEM.DOM.decl("link",{},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("pointerclick",function(t){(/mac os/i.test(navigator.userAgent)?t.metaKey:t.ctrlKey)||this.getMod("agency")&&BEM.channel("sys").trigger("link:agency",t.target.href)})}}),BEM.DOM.decl("video-embed",{_openWindow:function(t){var e="top="+(screen.height-480)/5+",left="+(screen.width-650)/2+",width=650,height=480,toolbar=no,menubar=no,location=no,scrollbars=no,directories=no";window.open(t,"",e)},_showModal:function(){var t=this.__self,e=this.modal,i=this.params,n=e&&e.block;n||(e=this.modal={block:t.modal,content:BEMHTML.apply({block:"video-embed",elem:"content",embedded:i.embedded})},this._showModal=this._showModal.bind(this)),(n=e.block).setContent(e.content),global.page.setMod("hide-scroll","yes"),n.setMod("visible","yes"),n.on("beforeClose",this._clearModal,this)},_clearModal:function(){var t=this.__self.modal;t.setContent(""),t.un("beforeClose",this._clearModal,this),global.page.delMod("hide-scroll")}},{modal:null,live:function(){var t=this;this.liveBindTo("pointerclick",function(e){e.preventDefault();var i=this.params;i.embedded?(t.modal||(BEM.DOM.append(this.domElem,BEMHTML.apply({block:"video-embed",elem:"modal"})),t.modal=this.findBlockOn(this.elem("modal"),"modal")),this._showModal()):this._openWindow(i.url)},this)}}),BEM.DOM.decl("popup2",{onSetMod:{js:{inited:function(){this._parentPopup=void 0,this._zIndex=null,this._zIndexGroupLevel=null,this._scope=BEM.DOM.scope,this._isAttachedToScope=!1}},visible:{yes:function(){this.trigger("beforeOpen"),this._makeEventOnAnimationEnd("Open"),this._isAttachedToScope||(this._scope.append(this.domElem),this._isAttachedToScope=!0),this._captureZIndex()._bindToParentPopup().bindTo("pointerdown pointerclick",this._setPreventHideByClick)},"":function(){this.trigger("beforeClose")._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerdown pointerclick"),this._makeEventOnAnimationEnd("Close")}}},destruct:function(){this.delMod("visible"),this.__base.apply(this,arguments)},setScope:function(t){return this._scope=t,this._isAttachedToScope=!1,this},setContent:function(t){return BEM.DOM.update(this.domElem,t),this},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),t},_setPreventHideByClick:function(){var t=this;do{t._preventHideByClick=!0,t=t._getParentPopup()}while(t)},_bindToParentPopup:function(){var t=this._getParentPopup();return t&&t.on("beforeClose",this._onParentPopupClose,this),this},_unbindFromParentPopup:function(){return this._parentPopup&&this._parentPopup.un("beforeClose",this._onParentPopupClose,this),this._parentPopup=void 0,this},_onParentPopupClose:function(){this.delMod("visible")},_getParentPopup:function(){return this._parentPopup},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,i=t[e],n=this._zIndex;return i||(i=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=i[i.length-1]+1,i.push(this._zIndex),this._zIndex!==n&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t&&t.splice(t.indexOf(this._zIndex),1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()},getDefaultParams:function(){return{zIndexGroupLevel:0}},_makeEventOnAnimationEnd:function(t){var e=this.domElem,i=window.getComputedStyle?window.getComputedStyle(e[0]):e[0].currentStyle,n=parseFloat(i.animationDuration)>0?"animationend":parseFloat(i.webkitAnimationDuration)>0?"webkitAnimationEnd":"",o=function(){this.trigger("after"+t)};n?e.one(n,o.bind(this)):this.afterCurrentEvent(o)}},{live:!0,_visiblePopupsZIndexes:{},ZINDEX_FACTOR:1e3}),BEM.DOM.decl("popup2",{attachToScope:function(t){return t&&(this._scope=t),this._scope.append(this.domElem),this._isAttachedToScope=!0,this}}),BEM.decl("keycodes",{},{BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,is:function(t,e){return(Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).some(function(e){return this[e]===t},this)}}),BEM.DOM.decl("modal",{onSetMod:{js:{inited:function(){this._popup=this.findBlockOn("popup2")}},visible:function(t,e){var i=e?"Open":"Close",n=this.elem("content"),o=window.getComputedStyle?window.getComputedStyle(n[0]):n[0].currentStyle,s=parseFloat(o.animationDuration)>0?"animationend":parseFloat(o.webkitAnimationDuration)>0?"webkitAnimationEnd":"",r=function(){this.trigger("after"+i)};this.trigger("before"+i)._popup.setMod(t,e),s?n.one(s,r.bind(this)):this.afterCurrentEvent(r)}},destruct:function(){this.delMod("visible").__base.apply(this,arguments)},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this}},{live:!0}),BEM.DOM.decl("modal",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._enforceRepaint=this._enforceRepaint.bind(this)}},visible:{yes:function(){this.__base.apply(this,arguments),window.attachEvent&&this.elem("content")[0].attachEvent("onresize",this._enforceRepaint)},"":function(){this.__base.apply(this,arguments),window.detachEvent&&this.elem("content")[0].detachEvent("onresize",this._enforceRepaint)}}},_enforceRepaint:function(){this.domElem[0].className+=""}}),BEM.DOM.decl("modal",{attachToScope:function(t){return this._popup.attachToScope(t)}}),BEM.DOM.decl({block:"modal",modName:"theme",modVal:"normal"},{onSetMod:{visible:{yes:function(){this.setMod("has-animation","yes").__base.apply(this,arguments)}}}}),BEM.DOM.decl({block:"modal",modName:"autoclosable",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._preventHideByClick=!1}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindTo("content","pointerdown",this._onPointerDownContent).bindTo("pointerclick",this._onPointerClick)._popup.on("beforeClose",this._onPopupClose,this)},"":function(){this.__base.apply(this,arguments),this.unbindFrom("content","pointerdown").unbindFrom("pointerclick")._popup.un("beforeClose",this._onPopupClose,this)}}},_onPointerDownContent:function(t){this.isPointerDownContent=!0},_onPointerClick:function(t){var e=this._popup;$(this.buildSelector("visible","yes")).each(function(){var t=$(this).bem("popup2");t!==e&&(t._preventHideByClick=!0)}),$(t.target).closest(this.buildSelector("content")).length||this.isPointerDownContent||(this._popup._preventHideByClick=!1,this.delMod("visible")),this.isPointerDownContent=!1},_onPopupClose:function(){this.delMod("visible")}}),BEM.DOM.decl({block:"popup2",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.__self._visiblePopupsStack.unshift(this),this.afterCurrentEvent(function(){this.domElem&&this.hasMod("visible")&&this.bindToDoc("pointerclick",this._onDocClick)}),this.__base.apply(this,arguments)},"":function(){var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this.unbindFromDoc("pointerclick").__base.apply(this,arguments)}}},_onDocClick:function(t){this.hasMod("target","anchor")&&(this._anchor[0]===t.target||this._anchor.find(t.target).length>0)||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){return BEM.DOM.doc.on("keydown",this._onDocKeyPress.bind(this)),this.__base()},_visiblePopupsStack:[],_onDocKeyPress:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._visiblePopupsStack.length&&this._visiblePopupsStack[0].delMod("visible")}}),BEM.DOM.decl("best-players",{onSetMod:{js:function(){var t=this;(this._menu=this.findBlockInside("tabs-menu")).on("change",function(e,i){t._counter(i.currentIndex,i.current[0].innerText)})},view:{max:function(){this._scrollTo(),Ya.c(["16.783.75"])},min:function(){this._scrollTo()}}},_counter:function(t,e){Ya.c(["16.783.816","-pos=p"+t+",-name="+e])},_scrollTo:function(){$("html, body").stop().animate({scrollTop:this.domElem.offset().top},400)}},{live:function(){return this.liveBindTo("tumbler","pointerclick",function(){this.toggleMod("view","min","max")}),!1}}),BEM.DOM.decl("best-players",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._tooltip=this.findBlockInside("tooltip")}}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("group-abbr-i","pointerover",function(t){var e=$(t.target),i=this.elemParams(e);this._tooltip.setContent(i.title).setOwner(e).setMod("shown","yes")}).liveBindTo("group-abbr-i","pointerout",function(){this._tooltip.delMod("shown")}),!1}}),BEM.DOM.decl("tabs-panes",{onElemSetMod:{pane:{active:{yes:function(t,e,i){var n=this.findPane("active","yes");n.attr("aria-expanded",!1),t.attr("aria-expanded",!0),this.delMod(n,"active")}}}},_onControlChange:function(t,e){-1!==e.currentIndex?this.setMod(this.findPane().eq(e.currentIndex),"active","yes"):this.delMod(this.findPane().eq(e.prevIndex),"active")},findPane:function(t,e){return this.domElem.children(this.buildSelector("pane",t,e))}},{getSupportedControls:function(){return["tabs"]},live:function(){this.getSupportedControls().forEach(function(t){BEM.blocks[t]&&this.liveInitOnBlockEvent("change",t,function(t,e){this._onControlChange(t,e)})},this)}}),BEM.DOM.decl("tabs",{getCount:function(){return this.elem("tab").length},activate:function(t){return this},deactivate:function(){return this},getActive:function(){return-1},disable:function(t){return this},enable:function(t){return this},isDisabled:function(t){},_onControlChange:function(t,e){}},{getSupportedControls:function(){return["tabs-menu","radio-button"]},live:function(){this.getSupportedControls().forEach(function(t){BEM.blocks[t]&&this.liveInitOnBlockInsideEvent("change",t,function(t,e){this._onControlChange(t,e)})},this)}}),BEM.DOM.decl({block:"tabs",modName:"control",modVal:"menu"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._tabsMenu=this.findBlockOn("control","tabs-menu")}}},activate:function(t){return this._tabsMenu.setMod(this._tabsMenu.getTab(t),"active","yes"),this},deactivate:function(){return this._tabsMenu.delMod(this._tabsMenu.getActive(),"active","yes"),this},disable:function(t){return this._tabsMenu.setMod(this._tabsMenu.getTab(t),"disabled","yes"),this},enable:function(t){return this._tabsMenu.delMod(this._tabsMenu.getTab(t),"disabled"),this},getActive:function(){return this._tabsMenu.indexOfTab(this._tabsMenu.getActive())},isDisabled:function(t){return this._tabsMenu.hasMod(this._tabsMenu.getTab(t),"disabled","yes")},_onControlChange:function(t,e){e.current.attr("aria-selected",!0),e.prev.attr("aria-selected",!1),this.trigger("change",{currentIndex:e.currentIndex,prevIndex:e.prevIndex})}}),BEM.DOM.decl("tabs-menu",{onSetMod:{js:{inited:function(){this._linksCache=[],this._isSwitching=!1}}},onElemSetMod:{tab:{active:{yes:function(t){if(this.hasMod(t,"outer"))return!1;var e=this.getActive();this._isSwitching=!0,this.delMod(e,"active"),this._isSwitching=!1,this.trigger("change",{current:t,prev:e,currentIndex:this.indexOfTab(t),prevIndex:this.indexOfTab(e)})},"":function(t){this._isSwitching||this.trigger("change",{current:$(),prev:t,currentIndex:-1,prevIndex:this.indexOfTab(t)})}},disabled:function(t,e,i){var n=this._getLink(t).setMod("disabled",i);this.hasMod(t,"interactive","yes")&&(n.domElem.removeAttr("tabindex"),i?t.attr("aria-disabled",!0):t.removeAttr("aria-disabled"))}}},getActive:function(){return this.findElem("tab","active","yes")},getTab:function(t){return this.elem("tab","interactive","yes").eq(t)},indexOfTab:function(t){return $.inArray(t.get(0),this.elem("tab","interactive","yes"))},_getTabByElem:function(t){return t.closest(this.buildSelector("tab"))},_getLink:function(t){var e=$.inArray(t.get(0),this.elem("tab"));return this._linksCache[e]||(this._linksCache[e]=this.findBlockInside(t,"link"))},_activateRelative:function(t){var e=this.elem("tab","interactive","yes").not(this.findElem("tab","disabled","yes")),i=$.inArray(this.getActive().get(0),e)+t;i<0||i>e.length||this.setMod(e.eq(i),"active","yes")},_onTabClick:function(t){this.setMod(this._getTabByElem($(t.target)),"active","yes")},_onTabKeyDown:function(t){if(!(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)){var e=BEM.blocks.keycodes;e.is(t.keyCode,"RIGHT","DOWN")?(t.preventDefault(),this._activateRelative(1)):e.is(t.keyCode,"LEFT","UP")&&(t.preventDefault(),this._activateRelative(-1))}}},{live:function(){this.liveBindTo("tab","pointerclick",function(t){this.hasMod($(t.data.domElem),"disabled")||this._onTabClick(t)}).liveBindTo("tab","keydown",function(t){this._onTabKeyDown(t)})}}),BEM.DOM.decl("tabs-menu",{onElemSetMod:{tab:{active:{yes:function(t){var e=this.getActive();if(!1===this.__base.apply(this,arguments))return!1;t.attr("tabindex",0),t.focus(),e.removeAttr("tabindex")}},disabled:function(t,e,i){this.__base.apply(this,arguments),i&&this.hasMod(t,"active")?t.attr("tabindex",0):t.removeAttr("tabindex")}}},_onTabEnter:function(t,e){this.setMod(t,"hovered","yes")},_onTabLeave:function(t,e){this.delMod(t,"hovered")}},{live:function(){return this.liveBindTo("tab","pointerover pointerout",function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||e[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onTabEnter(e,t):this._onTabLeave(e,t))}),this.__base()}}),function(){var t=$(window),e=$(document.documentElement),i=0,n=!1;function o(){e.hasClass("pointerfocus")&&(n=!0,setTimeout(function(){n=!1}))}document.documentMode<=11?e.on("focusin",function(t){var e=t.originalEvent;!e||e.fromElement||e.relatedTarget||o()}):t.on("blur",function(){t.one("focus",o)}),e.addClass("utilityfocus").on({focusin:function(){e.toggleClass("pointerfocus",n).toggleClass("utilityfocus",!n)},keydown:function(){clearTimeout(i),n=!1},"pointerdown pointerup click":function(t){n=!0,clearTimeout(i),i=setTimeout(function(){n=!1},600)}})}(),BEM.DOM.decl("tooltip",{onSetMod:{js:{inited:function(){this._popup=null,this._owner=null}},shown:{yes:function(){this._getPopup().setMod("visible","yes").unbindFromDoc("keydown")},"":function(){this._getPopup().delMod("visible")}}},getOwner:function(){return this._owner},setOwner:function(t){return this._owner=t,this._getPopup().setAnchor(t),this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this.redraw()},redraw:function(){return this.hasMod("shown","yes")&&this._getPopup().redraw(),this},destruct:function(){this.delMod("shown"),this.__base.apply(this,arguments)},_getPopup:function(){return this._popup||(this._popup=this.findBlockOn("popup2").on("beforeOpen",this._onPopupShow,this).on("beforeClose",this._onPopupHide,this)),this._popup},_onPopupShow:function(){this.trigger("show")},_onPopupHide:function(){this.delMod("shown").trigger("hide")},_onClick:function(){this.trigger("click").delMod("shown")}},{live:function(){this.liveBindTo("click",function(){this._onClick()})}}),BEM.DOM.decl("tooltip",{onSetMod:{js:function(){this.__base.apply(this,arguments),this.on("hide",this._closeCounter,this)}},_closeCounter:function(){this.params.counter&&Ya.c(this.params.counter)}}),BEM.DOM.decl("tooltip",{onSetMod:{js:function(){this.__base.apply(this,arguments),this.on("hide",this._closeCounter,this)}},_closeCounter:function(){this.params.counter&&Ya.c(this.params.counter)}}),BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:void 0,top:void 0,zIndex:void 0,display:void 0},this._lastTailDrawingCss={left:void 0,top:void 0},this._initialVisible=this.hasMod("visible")}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScrollAndResize).redraw(!0)},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},_draw:function(){var t=this._calcBestDrawingParams();return this.setMod("direction",t.direction),e(this._lastPopupDrawingCss,this._calcDrawingCss(t))&&this.domElem.css(this._lastPopupDrawingCss),e(this._lastTailDrawingCss,this._calcTailDrawingCss(t))&&this.elem("tail").css(this._lastTailDrawingCss),this;function e(t,e){var i=!1;return Object.keys(e).forEach(function(n){var o=e[n];t[n]!==o&&(t[n]=o,i=!0)}),i}},redraw:function(t){return this.hasMod("visible","yes")||t?(this.setMod("outside","yes")._draw().delMod("outside"),this):this},_calcDrawingCss:function(t){var e,i=this._scope;return i.is(BEM.DOM.scope)||(e=i.offset(),t.top-=e.top,t.left-=e.left),{left:t.left,top:t.top}},_calcTailDrawingCss:function(t){return t.tail},calcPossibleDrawingParams:function(){var t=this._calcTargetDimensions(),e=this._calcViewportDimensions(),i=this._calcOffsets();return this.params.directions.map(function(n){var o={direction:n,width:0,height:0,left:0,top:0};return this._checkMainDirection(n,"bottom")?(o.top=t.top+t.height+i.main,o.height=e.bottom-o.top-i.viewport):this._checkMainDirection(n,"top")?(o.height=t.top-e.top-i.main-i.viewport,o.top=t.top-o.height-i.main):(this._checkSecondaryDirection(n,"center")?(o.height=e.bottom-e.top-2*i.viewport,o.top=t.top+(t.height-o.height)/2):this._checkSecondaryDirection(n,"bottom")?(o.height=t.top+t.height-e.top-i.secondary-i.viewport,o.top=t.top+t.height-o.height-i.secondary):this._checkSecondaryDirection(n,"top")&&(o.top=t.top+i.secondary,o.height=e.bottom-o.top-i.viewport),this._checkMainDirection(n,"left")?(o.width=t.left-e.left-i.main-i.viewport,o.left=t.left-o.width-i.main):(o.left=t.left+t.width+i.main,o.width=e.right-o.left-i.viewport)),this._checkSecondaryDirection(n,"right")?(o.width=t.left+t.width-e.left-i.secondary-i.viewport,o.left=t.left+t.width-o.width-i.secondary):this._checkSecondaryDirection(n,"left")?(o.left=t.left+i.secondary,o.width=e.right-o.left-i.viewport):this._checkSecondaryDirection(n,"center")&&this._checkMainDirection(n,"top","bottom")&&(o.width=e.right-e.left-2*i.viewport,o.left=t.left+t.width/2-o.width/2),o},this)},_calcBestDrawingParams:function(){for(var t,e,i,n,o,s,r=this._calcPopupDimensions(),a=this._calcTargetDimensions(),c=this._calcViewportDimensions(),u=this.params.directions,h=u.length,l=0;l<h&&(t=u[l],e=this._calcPos(t,a,r),i=this._calcViewportFactor(e,c,r),(0===l||i>s||!s&&this.hasMod("direction",t))&&(n=t,s=i,o=e),!(s>this.__self.VIEWPORT_ACCURACY_FACTOR));l++);return{direction:n,left:o.left,top:o.top,tail:this._calcTailPos(n,a,r,o)}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:t*e}},_calcTailDimension:function(){var t=this.elem("tail"),e=this.params.tailSize||t.outerWidth();return t.length>0?e:0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=BEM.DOM.win,e=t.scrollTop(),i=t.scrollLeft(),n=t.width();return{top:e,left:i,bottom:e+t.height(),right:i+n}},_calcPos:function(t,e,i){var n={},o=this._calcOffsets();return this._checkMainDirection(t,"bottom")?n.top=e.top+e.height+o.main:this._checkMainDirection(t,"top")?n.top=e.top-i.height-o.main:this._checkMainDirection(t,"left")?n.left=e.left-i.width-o.main:this._checkMainDirection(t,"right")&&(n.left=e.left+e.width+o.main),this._checkSecondaryDirection(t,"right")?n.left=e.left+e.width-i.width-o.secondary:this._checkSecondaryDirection(t,"left")?n.left=e.left+o.secondary:this._checkSecondaryDirection(t,"bottom")?n.top=e.top+e.height-i.height-o.secondary:this._checkSecondaryDirection(t,"top")?n.top=e.top+o.secondary:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?n.left=e.left+e.width/2-i.width/2:this._checkMainDirection(t,"left","right")&&(n.top=e.top+e.height/2-i.height/2)),n},_calcTailPos:function(t,e,i,n){var o={},s=this._calcTailDimension()/2,r=this.params.tailOffset,a=this.params.tailSize;return this._checkMainDirection(t,"bottom")?o.top=-s:this._checkMainDirection(t,"top")?o.top=Math.floor(i.innerHeight-s):this._checkMainDirection(t,"left")?o.left=Math.floor(i.innerWidth-s):this._checkMainDirection(t,"right")&&(o.left=-s),this._checkSecondaryDirection(t,"right")?o.left=i.innerWidth-Math.ceil(Math.min(i.innerWidth,e.width)/2)-s-r:this._checkSecondaryDirection(t,"left")?o.left=Math.ceil(Math.min(i.innerWidth,e.width)/2)-s+r:this._checkSecondaryDirection(t,"bottom")?o.top=i.innerHeight-Math.ceil(Math.min(i.innerHeight,e.height)/2)-s-r:this._checkSecondaryDirection(t,"top")?o.top=Math.ceil(Math.min(i.innerHeight,e.height)/2)-s+r:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?o.left=Math.ceil(i.innerWidth/2)-s+r:o.top=Math.ceil(i.innerHeight/2)-s+r),{top:o.top,left:o.left,width:a,height:a}},_calcViewportFactor:function(t,e,i){var n=this.params.viewportOffset,o=Math.max(t.left,e.left+n),s=Math.min(t.left+i.width,e.right-n),r=Math.max(t.top,e.top+n),a=Math.min(t.top+i.height,e.bottom-n);return o<s&&r<a?(s-o)*(a-r)/i.area:0},_calcOffsets:function(){var t=this.params,e=this._calcTailDimension();return{main:t.mainOffset>=0&&e>0?Math.max(t.mainOffset,Math.round(e*Math.SQRT1_2)):t.mainOffset,secondary:t.secondaryOffset,viewport:t.viewportOffset}},_checkMainDirection:function(t,e,i){return 0===t.indexOf(e)||i&&0===t.indexOf(i)},_checkSecondaryDirection:function(t,e){return t.indexOf("-"+e)>0},_checkDirection:function(t,e){return t.indexOf(e)>=0},_onWinScollAndResize:function(t){this._onWinScrollAndResize(t)},_onWinScrollAndResize:function(t){this.hasMod("visible","yes")&&this._draw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,tailOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})},_setVisible:function(){this._initialVisible&&(this._initialVisible=!1,this.delMod("visible").setMod("visible","yes"))}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]}),function(t){BEM.DOM.decl({block:"popup2",modName:"target",modVal:"anchor"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchor=null,this._destructor=null,this._fixedAnchor=void 0}},visible:{yes:function(){this.bindToDoc("documentchange",this._onWinScrollAndResize),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("documentchange")}}},destruct:function(){this._unbindFromDestructor(),this.__base.apply(this,arguments)},setAnchor:function(t){var e,i;return this._unbindFromDestructor()._unbindFromParentPopup(),this._anchor=t instanceof BEM.DOM?t.domElem:t,this._destructor=(e=this._anchor,i="_"+this.__self.getName()+"-destructor",e.addClass("ddOm6Q6A "+i).bem(i)),this._fixedAnchor=void 0,this._bindToDestructor(),this._setVisible(),this.hasMod("visible")?this._recaptureZIndex()._bindToParentPopup().redraw():this._zIndexGroupLevel=null,this},_calcTargetDimensions:function(){var t=this._anchor,e=this._getOffsetOf(t);return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}},_getOffsetOf:function(t){var e=t.offset();return"pageYOffset"in window&&(e.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),e.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft)),e},_calcDrawingCss:function(e){var i=this.__base.apply(this,arguments);if(void 0===this._fixedAnchor&&(this._fixedAnchor=this._getFirstFixedParent(this._anchor)),this._fixedAnchor){var n=0,o=0,s=this._getFirstFixedParent(this._scope);if(s){var r=s.offset();n=r.left,o=r.top}i.left-=t(window).scrollLeft()-n,i.top-=t(window).scrollTop()-o}return t.extend(i,{position:this._fixedAnchor?"fixed":""})},_getFirstFixedParent:function(e){for(e=e[0];e;){if(1===e.nodeType&&"fixed"===t(e).css("position"))return t(e);e=e.parentNode}return null},_calcZIndexGroupLevel:function(){var t=this.__base.apply(this,arguments);return this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t)},_bindToDestructor:function(){return this._destructor.on("destruct",this._onPopupAnchorDestruct,this),this},_unbindFromDestructor:function(){return this._destructor&&this._destructor.un("destruct",this._onPopupAnchorDestruct,this),this},_onPopupAnchorDestruct:function(){this.domElem&&BEM.DOM.destruct(this.domElem)},_getParentPopup:function(){if(void 0===this._parentPopup){var t=this._anchor.closest(".popup2");this._parentPopup=this.findBlockOn(t,this.__self.getName())}return this._parentPopup}}),BEM.DOM.decl("_popup2-destructor",{destruct:function(){this.trigger("destruct"),this.__base.apply(this,arguments)}})}(jQuery),BEM.DOM.decl({block:"popup2",modName:"hiding",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchorParents=null,this._isAnchorVisible=void 0,this._updateIsAnchorVisible=$.throttle(this._updateIsAnchorVisible,this.__self.UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL,this)}},visible:{yes:function(){this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents(),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this._updateIsAnchorVisible.stop(),this._unbindFromAnchorParents(),this._anchorParents=null,this._isAnchorVisible=void 0}}},_getAnchorParents:function(){for(var t,e=this;e&&e._anchor;)t=e,e=e._getParentPopup();return $(t._anchor).parents()},setAnchor:function(t){return this.__base.apply(this,arguments),this._unbindFromAnchorParents(),this._isAnchorVisible=void 0,this.hasMod("visible")?(this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents()):this._anchorParents=null,this},_unbindFromDestructor:function(){return this._updateIsAnchorVisible.stop&&this._updateIsAnchorVisible.stop(),this.__base.apply(this,arguments)},_calcDrawingCss:function(t){var e=this.__base.apply(this,arguments);return void 0===this._isAnchorVisible&&(this._isAnchorVisible=this._calcIsAnchorVisible()),$.extend(e,{display:this._isAnchorVisible?"":"none"})},_calcIsAnchorVisible:function(){var t=!0;return this._anchorParents.each(function(e,i){if("BODY"===i.tagName)return!1;i=$(i);var n=/scroll|hidden|auto/,o=n.test(i.css("overflow-y")),s=n.test(i.css("overflow-x"));if(o||s){var r=this._getOffsetOf(i),a=Math.floor(r.top),c=this._anchor,u=this._getOffsetOf(c),h=this.getMod("direction"),l=Math.floor(this._checkDirection(h,"top")?u.top:u.top+c.outerHeight());if(l<a||a+i.outerHeight()<l)return t=!1,!1;var d=Math.floor(this._checkDirection(h,"left")?u.left:u.left+c.outerWidth()),p=Math.floor(r.left);return t=d>=p&&p+i.outerWidth()>=d}}.bind(this)),t},_bindToAnchorParents:function(){return this.bindTo(this._anchorParents,"scroll",this._onAnchorParentsScroll)},_unbindFromAnchorParents:function(){return this._updateIsAnchorVisible.stop(),this._anchorParents&&this.unbindFrom(this._anchorParents,"scroll"),this},_onAnchorParentsScroll:function(){this.redraw()._updateIsAnchorVisible()},_onWinScrollAndResize:function(){this.hasMod("visible")&&(this.__base.apply(this,arguments),this._updateIsAnchorVisible())},_updateIsAnchorVisible:function(){if(this.domElem){var t=this._calcIsAnchorVisible();t!==this._isAnchorVisible&&(this._isAnchorVisible=t,this.redraw())}}},{UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL:100}),BEM.DOM.decl({block:"popup2",modName:"theme",modVal:"normal"},{getDefaultParams:function(){return $.extend(this.__base(),{mainOffset:5,viewportOffset:5})}}),BEM.DOM.decl({block:"popup2",modName:"motionless",modVal:"yes"},{_bindToAnchorParents:function(){return this},_unbindFromAnchorParents:function(){return this},_onWinScrollAndResize:$.noop}),BEM.DOM.decl({block:"widget",modName:"for",modVal:"sport-match"},{_update:function(){var t=this,e=t.params,i=e.urlUpdate;i&&e.isMain&&$.getJSON(i,function(t){t&&t.informer2&&t.informer2.forEach(function(t){BEM.channel("sys").trigger("update:event_type_sport_"+t.id,t)})}).always(function(){t.timer=setTimeout(t._update.bind(t),t.params.interval)})}}),BEM.DOM.decl({block:"widget",modName:"for",modVal:"sport-match"},{onSetMod:{js:function(){var t=this.params;this.__base.apply(this,arguments),t.interval=t.interval||12e4,this._tabsMenu=this.findBlockInside("tabs-menu").on("change",this._onTabChange,this),this._update()}},_onTabChange:function(t,e){var i=this._tabsMenu.elemParams(e.current).counter;i&&Ya.c(i)},destruct:function(){this.__base.apply(this,arguments),this._tabsMenu.un("change",this._onTabChange,this),this.timer&&clearTimeout(this.timer)}}),BEM.DOM.decl({block:"event",modName:"type",modVal:"sport"},{onSetMod:{js:function(){BEM.channel("sys").on("update:event_type_sport_"+this.params.id,this._update,this)}},_getScore:function(t){var e="";return"team_vs_team"===t.sport_type&&t.teams.forEach(function(t,i){var n=t.result;!isNaN(parseFloat(n))&&isFinite(n)&&(e+=(i?" — ":"")+n)}),e},_update:function(t,e){var i=e.start,n=this.finished=e.finish,o=this.postponed=e.postponed,s=this._getScore(e),r=this.elem("status"),a=this.elem("progress");s&&s!==r.text()&&(r.text(s),this.setMod(r,"type","score")),n?this.delMod(a,"open"):!i&&!o||this.hasMod(a,"open")||(this.setMod(a,"open",!0),a.text(i?BEM.I18N("event_type_sport","started"):BEM.I18N("event_type_sport","postponed"))),(this.finished||this.postponed)&&this.destruct(!0)},destruct:function(){return BEM.channel("sys").un("update:event_type_sport_"+this.params.id,this._update,this),this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"sport-schedule",modName:"cut"},{onSetMod:{js:function(){var t=this;BEM.channel("sys").on("toggle:sport-schedule_"+t.getMod("id"),function(){t.toggleMod("cut","yes","no")},t)}}},{live:function(){return this.liveBindTo("toggle","pointerclick",function(){var t=this.getMod("id");$.cookie("sport-schedule_"+t,$.cookie("sport-schedule_"+t)?null:1,{expires:14,path:location.pathname,domain:location.hostname,secure:!0}),BEM.channel("sys").trigger("toggle:sport-schedule_"+t)}),!1}}),BEM.DOM.decl("infinite-lenta",{onSetMod:{js:function(){this._currentPos=this.params.initPos,this._onScrollSmooth=$.debounce(this._onScroll,50,this),this._onScroll(),this.bindToWin("scroll",this._onScrollSmooth)}},destruct:function(){return clearTimeout(this._timer),this._onScrollSmooth.stop(),this.unbindFromWin("scroll",this._onScrollSmooth),this.__base.apply(this,arguments)},_onScroll:function(){var t=this;this.domElem.offset().top+this.domElem.height()<BEM.DOM.win.scrollTop()+BEM.DOM.win.height()&&(this.unbindFromWin("scroll",this._onScrollSmooth),this._onScrollSmooth.stop(),this._timer=setTimeout(function(){t._next()},200))},_next:function(){var t=this._currentPos+=this.params.step;t<this.params.size?(this.domElem.parent().children(".story").eq(t-1).after(this.domElem),this.bindToWin("scroll",this._onScrollSmooth)):this.destruct()}}),BEM.DOM.decl("video-stack",{onSetMod:{js:function(){this._index=0,this._items=this.findElem("item"),this._update()}},getIframeUrl:function(t){return this.elemParams(t).iframeUrl},play:function(){this.stop();var t=this._items.eq(this._index),e=$("<iframe>",$.extend({class:"video-stack__item-player",sandbox:"allow-scripts allow-popups allow-same-origin",allow:"autoplay; encrypted-media",scrolling:"no",src:this.getIframeUrl(t)},BEM.blocks["i-ua"].safari?{}:{allowfullscreen:""}));t.append(e),this.bindToWin("message",this._onInit),this.setMod(t,"loading",!0)},_onInit:function(t){try{var e=this._items.eq(this._index),i=JSON.parse(t.originalEvent.data);"inited"!==i.event&&"started"!==i.event&&"error"!==i.event||(this.delMod(e,"loading"),this.setMod(e,"played",!0),this.unbindFromWin("message",this._onInit))}catch(t){}},stop:function(){this.unbindFromWin("message",this._onInit),this.findElem("item-player").remove(),this.delMod(this._items,"played")},next:function(){var t=this._items.length;this._index++,this._index>t-1&&(this._index=t-1),this._update(),this.stop()},prev:function(){this._index--,this._index<0&&(this._index=0),this._update(),this.stop()},_update:function(){var t=this;this._items.each(function(e,i){var n,o=t._index;n=e===o?"current":e>o?"next"+(e-o):"prev"+(o-e),t.setMod($(i),"pos",n)}),this.setMod("index",this._index)}},{live:function(){return this.liveBindTo("source","pointerclick",function(t){t.stopPropagation()}),!1}}),BEM.DOM.decl("video-stack",{onSetMod:{js:function(){this._leftArrow=this.findElem("arrow","left",!0),this._rightArrow=this.findElem("arrow","right",!0),this._settings=this.findElem("settings"),this._settingsOpen=this.findElem("settings-open"),this._autoplayOption=this.findElem("autoplay"),this._popup=this.findBlockInside("popup2"),this._menu=this.findBlockInside("menu"),this._settingsOpen&&this._popup&&this._popup.setAnchor(this._settingsOpen),this.bindTo(this._leftArrow,"pointerclick",this.prev).bindTo(this._rightArrow,"pointerclick",this.next).bindTo(this._settingsOpen,"pointerclick",this._togglePopup).bindTo(this._autoplayOption,"pointerclick",this._handleAutoplayClick),this.__base.apply(this,arguments)}},_update:function(){this.__base.apply(this,arguments);var t=this._items.length;this.setMod(this._leftArrow,"disabled",!this._index),this.setMod(this._rightArrow,"disabled",this._index===t-1)},_togglePopup:function(){this._popup.toggleMod("visible","yes"),this._popup.hasMod("visible")&&Ya.c(["799.1109.231.1137"])},_handleAutoplayClick:function(t){var e=this._menu.getMod(t.data.domElem,"checked"),i=this.elemParams(this._settings).autoplayCookieName;$.cookie(i,"yes"===e?"0":"1",{path:global.params.cookiePath,domain:location.hostname,secure:!0,expires:3650}),Ya.c(["799.1109.231.1137","-name=autoplay,-value="+(e?"off":"on")])}},{prev:null,live:function(){return this.liveBindTo("item","pointerclick",function(t){this.hasMod($(t.target),"pos","current")&&(this.__self.prev&&this.__self.prev.stop(),this.__self.prev=this,this.play())}),!1}}),BEM.DOM.decl({block:"menu",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.elem("item").attr("id",function(t,e){return e||$.identify()}),this._val=this.getVal()}},disabled:function(t,e){this.__base.apply(this,arguments),this.setMod(this.elem("item"),t,e)}},onElemSetMod:{item:{hovered:{yes:function(t){if(this.hasMod(t,"disabled"))return!1;this.delMod(this.elem("item","hovered","yes"),"hovered"),this.domElem.attr("aria-activedescendant",t.attr("id")),this.trigger("item-hover",{item:t})},"":function(){this.domElem.removeAttr("aria-activedescendant"),this.trigger("item-hover",{})}},checked:function(t,e,i){this.domElem.attr("aria-selected",Boolean(i))},disabled:{yes:function(){this.delMod("hovered"),this.domElem.attr("aria-disabled",!0)},"":function(){this.domElem.attr("aria-disabled",!1)}}}},_onChange:function(){var t=this._val,e=this.getVal();return t!==e&&(this._val=e,this.trigger("change",{prevVal:t,currVal:e})),this},getItems:function(t,e){return this.elem("item",t,e).get().map(function(t){return $(t)})},setContent:function(t){return BEM.DOM.update(this.domElem,t),this.reset(),this},getVal:function(){},reset:function(){this.dropElemCache()},_onItemEnter:function(t,e){this.setMod(t,"hovered","yes")},_onItemLeave:function(t,e){this.delMod(t,"hovered")},_onItemFocusin:function(t,e){this.setMod(t,"hovered","yes")},_onFocusout:function(t){this.__base.apply(this,arguments),this.delMod(this.elem("item","hovered","yes"),"hovered")},_onItemClick:function(t,e,i){this.trigger("click",{item:t,source:i.source})}},{live:function(){return this.liveBindTo("item","pointerover pointerout",function(t){var e=t.data.domElem;e[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onItemEnter(e,t):this._onItemLeave(e,t))}).liveBindTo("item","pointerclick",function(t){var e=t.data.domElem;this._onItemClick(e,t,{source:"pointer"})}).liveBindTo("item","focusin",function(t){var e=t.data.domElem;this._onItemFocusin(e,t)}).liveBindTo("focusout",function(t){this._onFocusout(t)}),this.__base()}}),BEM.DOM.decl("menu",{onSetMod:{focused:{yes:function(){if(this.__base.apply(this,arguments),this.hasMod("type","navigation"))return!1;this.elem("item","hovered","yes").length||(this.setMod(this.elem("item").eq(0),"hovered","yes"),this._scrollToItem(this.elem("item").eq(0))),this.bindToDoc("keydown",this._onKeydown).bindToDoc("keyup",this._onKeyup).bindToDoc("keypress",this._onKeypress)},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("keydown keyup keypress").delMod(this.elem("item","hovered","yes"),"hovered")}}},hoverNext:function(t){for(var e,i,n=t?this.getItems().reverse():this.getItems(),o=0,s=!1;i=n[o];o++)if(!this.hasMod(i,"disabled"))if(this.hasMod(i,"hovered"))s=!0;else{if(s){e=i;break}e||(e=i)}e&&(this.setMod(e,"hovered","yes"),this._scrollToItem(e))},hoverText:function(t,e){for(var i,n=this.getItems(),o=n.length,s=this._normalizeText(t),r=e||0;r<o;){if(i=n[r],!this.hasMod(i,"disabled")&&0===this._normalizeText(i.text()).indexOf(s))return this.setMod(i,"hovered","yes"),void this._scrollToItem(i);++r===n.length&&(r=0,o=e)}},_normalizeText:function(t){return t.toLowerCase().replace(/ё/,"е")},reset:function(){this.__base.apply(this,arguments),this._dropSearchCache()},_dropSearchCache:function(){this._lastTime=this._lastChar=this._searchTerm=void 0},_scrollToItem:function(t){var e=this.domElem.offset().top,i=t.offset().top,n=0;i<e?n=i-e:(n=i+t.outerHeight()-e-this.domElem.outerHeight())<0&&(n=0),this.domElem.scrollTop(this.domElem.scrollTop()+n)},_onKeydown:function(t,e){var i=BEM.blocks.keycodes,n=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||((i.is(n,"UP","DOWN")||!e&&n===i.SPACE)&&t.preventDefault(),i.is(n,"UP","DOWN")&&(this.hoverNext(i.is(n,"UP")),this._dropSearchCache()))},_onKeyup:function(t){var e=BEM.blocks.keycodes,i=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||e.is(i,"ENTER","SPACE")&&this._onItemClick(this.elem("item","hovered","yes"),t,{source:"keyboard"})},_onKeypress:function(t){var e,i,n=Number(new Date),o=t.charCode,s=String.fromCharCode(o).toLowerCase(),r=s===this._lastChar&&1===this._searchTerm.length,a=this.getItems();o<=BEM.blocks.keycodes.SPACE||t.ctrlKey||t.altKey||t.metaKey?this._lastTime=n:(n-this._lastTime>this.SEARCH_TIMEOUT||r?this._searchTerm=s:this._searchTerm=(this._searchTerm||"")+s,this._lastChar=s,this._lastTime=n,e=this.elem("item","hovered","yes"),i=(i=$($.map(a,function(t){return t.get()})).index(e))>=0?i:0,r&&0===this._normalizeText(e.text()).indexOf(this._searchTerm)&&(i=i>=a.length-1?0:i+1),this.hoverText(this._searchTerm,i))},SEARCH_TIMEOUT:1500}),BEM.DOM.decl({block:"menu",modName:"type",modVal:"check"},{getVal:function(){return this.getItems("checked","yes").map(function(t){return this.elemParams(t).val},this)},setVal:function(t){return Array.isArray(t)||(t=[t]),this.getItems().forEach(function(e){-1!==t.indexOf(this.elemParams(e).val)?this.setMod(e,"checked","yes"):this.delMod(e,"checked")},this),this._onChange(),this},_onItemClick:function(t,e,i){this.__base.apply(this,arguments),this.toggleMod(t,"checked","yes"),this._onChange()},_onChange:function(){var t=this._val,e=this.getVal();return t.length===e.length&&e.every(function(e){return-1!==t.indexOf(e)})||(this._val=e,this.trigger("change",{prevVal:t,currVal:e})),this}}),BEM.DOM.decl({block:"video-stack",modName:"auto",modVal:!0},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.play(),this.bindToWin("message",this._onMessage)}},getIframeUrl:function(t){return this.__base.apply(this,arguments)+"&autoplay=1"+(this.hasMod("mute")?"&mute=1":"")},next:function(){this.__base.apply(this,arguments),this.play()},prev:function(){this.__base.apply(this,arguments),this.play()},_onMessage:function(t){var e=t.originalEvent;if("https://frontend.vh.yandex.ru"===e.origin&&e.data){var i;try{i=JSON.parse(e.data)}catch(t){return}if("object"!=typeof i)return;this.hasMod("infinity")&&"ended"===i.event?this._index<this._items.length-1?(this.next(),this.play()):this.delMod("infinity"):"volumechange"===i.event&&this.setMod("mute",i.muted)}}}),BEM.DOM.decl("dbba3QKtt9g",{onRender:function(){this.delMod("hideneded")}},{live:!0}),BEM.DOM.decl("dbba3QKtt9g",{onRender:function(){this.__base.apply(this,arguments),this.domElem.hasClass("dbba3QKtt9nD6aZBsJlhJUHF2")&&BEM.channel("sys").trigger("sticky:show")}}),BEM.DOM.decl("dbba3QKtt9g",{onRender:function(){this.__base.apply(this,arguments),this.domElem.hasClass("dbba3QKtt9g_sticky_no")&&this.domElem.parent().show()}}),BEM.DOM.decl("sticky",{onSetMod:{js:function(){BEM.channel("sys").onFirst("sticky:show",this.init,this),BEM.channel("sys").on("sticky:resize",this._onResize,this)}},destruct:function(){return this.passiveSupported&&window.removeEventListener("scroll",this._setPos),BEM.channel("sys").un("sticky:show",this.init,this),BEM.channel("sys").un("sticky:resize",this._onResize,this),this.__base.apply(this,arguments)},passiveSupported:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,null}});window.addEventListener("test",null,e),window.removeEventListener("test",null)}catch(t){}return t}(),init:function(){this._prevScrollTop=BEM.DOM.win.scrollTop(),this._stickyContainer=$(this.params.stickyContainerClass),this._prevLeft=this._stickyContainer.offset().left,this._prevDirection="down",this._prevPosition="absolute",this.passiveSupported?(this._setPos=this._setPos.bind(this),window.addEventListener("scroll",this._setPos,{passive:!0})):this.bindToWin("scroll",this._setPos),this.bindToWin("resize",this._onResize).setMod("visible")._onResize()},_onResize:function(t,e){var i=this._getWindowWidth()<this.params.minWidthStartSticky;i&&!this._stoped&&this._stop(),this._disable=i,this._stickyContainerOffset=this._stickyContainer.offset(),this._winHeight=BEM.DOM.win.height(),this.setMod("disable",i)._setPos(t,e)},_stop:function(){var t={position:"",top:"",bottom:"",left:"",right:""};this._stoped||this.domElem.css(t),this._stoped=!0,this._prevCSS=t},_setPos:function(t,e){if(!this._disable){var i=Math.floor(BEM.DOM.doc.scrollTop()),n=this._prevScrollTop;if(this._prevScrollTop=i,this._isRubber&&i<this._headHeight)return this._stop();var o=this._stickyContainer,s=this._stickyContainerOffset,r=Math.floor(s.top),a=this.domElem,c=a.offset(),u=Math.floor(c.top);if(u<r||i<r)return this._stop();var h,l=this._winHeight,d=a.height(),p=i+l,f=r+o.height(),m=i-n,_=m>0?"down":m<0?"up":this._prevDirection,g=_!==this._prevDirection,v=this._stickyOffsetY,b=this._prevPosition,y=i+v,M=u+d,E=e&&e.isRefresh;M>=f&&u<=i?"absolute"!==b&&(h={position:"absolute",top:"auto",bottom:0}):E||u-y>1||d<=l-v?h={position:"fixed",top:v,bottom:"auto"}:g||M-p>1&&(y-u>1||"down"===_&&u===y)?"absolute"!==b&&(h={position:"absolute",top:u-r,bottom:"auto"}):(p-M>1||M===p&&"absolute"===b)&&(h={position:"fixed",top:"auto",bottom:0});var k=h?h.position:b,x="absolute"===k?o[0].offsetLeft:s.left;if(h||x!==this._prevLeft){h||(h={}),h.right="auto",h.left="absolute"===k?o[0].offsetLeft:s.left;var w=!1,B=this._prevCSS,C=B?["position","top","bottom","left","right"].reduce(function(t,e){var i=h[e];return i!==B[e]&&(w=!0,t[e]=i),t},{}):h;!w&&B||(a.css(C),this._prevCSS=h)}this._stoped=!1,this._prevPosition=k,this._prevLeft=x,this._prevDirection=_}},_getWindowWidth:function(){var t=navigator.userAgent;return t.indexOf("AppleWebKit/")>-1&&-1===t.indexOf("Chrome/")?BEM.DOM.win.width():window.innerWidth}}),BEM.DOM.decl("sticky",{init:function(){this._headHeight=$(".db7G6RKh23Ufs7J1qPw").height(),this._isRubber=!0,this._stickyOffsetY=this._getStickyOffset(),this.__base.apply(this,arguments)},_getStickyOffset:function(){return $(".db7G6RKh23UHoaw").height()}}),BEM.DOM.decl("daas2",{onSetMod:{js:function(){var t=this,e=0,i=setInterval(function(){Ya.dXqu2Uqh89g&&Ya.dXqu2Uqh89g.dXKCua6xq40js_w?(t._render(),clearTimeout(i)):e++<100&&clearTimeout(i)},300)}}}),BEM.DOM.decl("daas2",{_render:function(){Ya.dXqu2Uqh89g.dXKCua6xq40js_w.render({blockId:"Y-A-290933-1",renderTo:"daas2"})}}),function(t,e,i){"$:nomunge";var n,o="hashchange",s=document,r=t.event.special,a=s.documentMode,c="on"+o in e&&(void 0===a||a>7);function u(t){return"#"+(t=t||location.href).replace(/^[^#]*#?(.*)$/,"$1")}t.fn[o]=function(t){return t?this.bind(o,t):this.trigger(o)},t.fn[o].delay=50,r[o]=t.extend(r[o],{setup:function(){if(c)return!1;t(n.start)},teardown:function(){if(c)return!1;t(n.stop)}}),n=function(){var i,n,r,a={},h=u(),l=function(t){return t},d=l,p=l;function f(){var n=u(),s=p(h);n!==h?(d(h=n,s),t(e).trigger(o)):s!==h&&(location.href=location.href.replace(/#.*/,"")+s),i=setTimeout(f,t.fn[o].delay)}return a.start=function(){i||f()},a.stop=function(){i&&clearTimeout(i),i=void 0},BEM.blocks["i-ua"].ie<9&&!c&&(a.start=function(){n||(r=(r=t.fn[o].src)&&r+u(),n=t('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||d(u()),f()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow,s.onpropertychange=function(){try{"title"===event.propertyName&&(n.document.title=s.title)}catch(t){}})},a.stop=l,p=function(){return u(n.location.href)},d=function(e,i){var r=n.document,a=t.fn[o].domain;e!==i&&(r.title=s.title,r.open(),a&&r.write('<script>document.domain="'+a+'"<\/script>'),r.close(),n.location.hash=e)}),a}()}(jQuery,this),BEM.DOM.decl({block:"link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled")||this.trigger("click",this._buildClickEventData(t))},_onKeydown:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&t.preventDefault(),this.setMod("pressed","yes"))},_onKeyup:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&this.trigger("click"),this.delMod("pressed"))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}}},{live:function(){return this.liveBindTo({modName:"pseudo",modVal:"yes"},"pointerclick",function(t){this._onClick(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keydown",function(t){this.hasMod("disabled")||this._onKeydown(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keyup",function(t){this.hasMod("disabled")||this._onKeyup(t)}),this.__base()}}),BEM.DOM.decl("header2",{onSetMod:{js:function(){var t,e=this,i=e.params.agency;if(e.__base.apply(e,arguments),i){var n=i.name,o=/[а-яА-ЯЁё]/.test(n)?"«"+n+"»":n;global.params.isAuth?BEM.DOM.blocks.settings.loadSources(function(n){n.mynews.sources.favorites.list.forEach(function(e){+e.id==+i.id&&(t=!0)}),t?e._showTooltip(o):e._showModal(o)},function(){e._showModal(o)}):e._showModal(o)}BEM.channel("sys").on("favorites-tooltip:show",function(){e._showTooltip()},e)}},_showModal:function(t){var e=global.params.isAuth?"add":"enter",i=this._findPopup("modal");function n(t,e){var i=e?{name:e}:void 0;switch(t){case"add":return BEM.I18N("modal_for_favorites","add",i);case"enter":return BEM.I18N("modal_for_favorites","enter",i);case"title-add":return BEM.I18N("modal_for_favorites","title-add",i);case"title-enter":return BEM.I18N("modal_for_favorites","title-enter",i);case"description-add":return BEM.I18N("modal_for_favorites","description-add",i);case"description-enter":return BEM.I18N("modal_for_favorites","description-enter",i);default:return""}}this.__base.apply(this,arguments),i||(this._buildModal(),i=this._findPopup("modal")),i.setContent(BEMHTML.apply([{block:"modal",elem:"close"},{block:"modal",elem:"illustration"},{block:"modal",elem:"title",tag:"h2",content:n("title-"+e,t)},{block:"modal",elem:"description",content:n("description-"+e,t)},{block:"modal",elem:"action",content:{block:"button2",mods:{theme:"action",size:"m"},mix:{block:"modal",elem:e},text:n(e)}}])),i.setMod("visible","yes")},_buildModal:function(){var t=this.params,e=t.counters;BEM.DOM.append(global.domElem,BEMHTML.apply({block:"modal",mods:{theme:"normal",autoclosable:"yes",for:"favorites"},js:{counters:{add:e.add,enter:e.enter,exit:e.exit},agency:t.agency}}))},_showTooltip:function(t){var e=this._findPopup("tooltip"),i=this.elem("action","type","settings");e||(this._buildTooltip(t),e=this._findPopup("tooltip")),e.setOwner(i).setMod("shown","yes"),this.bindTo(i,"pointerclick",function(){e.delMod("shown")})},_buildTooltip:function(t){BEM.DOM.append(global.domElem,BEMHTML.apply({block:"tooltip",mods:{for:"favorites",autoclosable:"yes",click:"no",theme:"promo",tone:"default"},js:{to:"bottom-right",counter:this.params.counters.settings},content:[{elem:"description",content:t?BEM.I18N("tooltip_for_favorites","already",{name:t}):BEM.I18N("tooltip_for_favorites","description")},{elem:"controls",content:[{block:"button2",mods:{size:"s",theme:"action"},text:BEM.I18N("tooltip_for_favorites","dismiss")}]}]}))},_findPopup:function(t){return global.findBlockInside({block:t,modName:"for",modVal:"favorites"})},destruct:function(){this.__base.apply(this,arguments),BEM.channel("sys").un("favorites-tooltip:show",this._showTooltip,this)}}),BEM.DOM.decl("header2",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._panelActions={};var t=this;this.elem("action").each(function(){var e=$(this),i=t.elemParams(e).panel;i&&(t._panelActions[i]=e)}),$.isEmptyObject(this._panelActions)||this.on("panel-switch",this._toggleActionOnPanelSwitch)}}},onElemSetMod:{action:{checked:function(t,e,i){i=Boolean(i),t.attr("aria-pressed",i);var n=this.elemParams(t);n.panel&&(this.togglePanel(n.panel,i),t.attr("aria-expanded",i)),n.notice&&this.trigger("action-change",{type:this.getMod(t,"type"),checked:i})}}},_toggleActionOnPanelSwitch:function(t,e){var i=this._panelActions[e.closing];i&&this.delMod(i,"checked");var n=this._panelActions[e.opening];n&&this.setMod(n,"checked","yes")},_onActionPress:function(t,e){this.setMod(t,"pressed","yes").bindToDoc("pointerrelease",this._onActionRelease.bind(this,t))},_onActionRelease:function(t,e){this.delMod(t,"pressed"),this.unbindFromDoc("pointerrelease")},_onActionClick:function(t,e){this.toggleMod(t,"checked","yes","")},_onActionEnter:function(t,e){this.setMod(t,"hovered","yes")},_onActionLeave:function(t,e){this.delMod(t,"hovered")},_onActionFocusinFocusout:function(t,e){this.toggleMod(t,"focused","yes","","focusin"===e.type)}},{live:function(){return this.liveBindTo("action","pointerclick",function(t){this._onActionClick(t.data.domElem,t)}).liveBindTo("action","pointerpress",function(t){this._onActionPress(t.data.domElem,t)}).liveBindTo("action","pointerover pointerout",function(t){var e=t.data.domElem;e[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onActionEnter(e,t):this._onActionLeave(e,t))}).liveBindTo("action","focusin focusout",function(t){this._onActionFocusinFocusout(t.data.domElem,t)}),this.__base()}}),BEM.DOM.decl({block:"header2",modName:"panels",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base(),this._openedPanel=null}}},_setOpenedPanel:function(t){var e=this._openedPanel;e!==t&&(this._openedPanel=t,this.trigger("panel-switch",{closing:e,opening:t}))},getOpenedPanel:function(){return this._openedPanel},openPanel:function(t){return this._setOpenedPanel(t),this},closePanel:function(t){return t&&t!==this._openedPanel||this._setOpenedPanel(null),this},togglePanel:function(t,e){return t!==this._openedPanel||e?(t!==this._openedPanel&&e||arguments.length<2)&&this._setOpenedPanel(t):this._setOpenedPanel(null),this}}),function(t){t.dom={getActiveElement:function(){return t(document.activeElement)}},t.fn.isFocused=function(){return this.is(t.dom.getActiveElement())}}(jQuery),BEM.DOM.decl({block:"button2",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},pressed:{yes:function(){if(this.hasMod("disabled"))return!1;this.trigger("press")},"":function(){this.trigger("release")}},checked:{yes:function(){this.trigger("check").domElem.attr("aria-pressed","true")},"":function(){this.trigger("uncheck").domElem.attr("aria-pressed","false")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("pressed")}},focused:{"":function(){this.__base.apply(this,arguments),this.delMod("pressed")}},progress:{yes:function(){this.setMod("disabled","yes")},"":function(){this.delMod("disabled")}}},getText:function(){return this.elem("text").text()},setText:function(t){return this.elem("text").text(t),this},_onClick:function(t){(!this._preventClick||t.detail>0)&&this.trigger("click",this._buildClickEventData(t)),this._preventClick=!1},_processClick:function(t){this.trigger("click",this._buildClickEventData(t))},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onKeydown:function(t){var e=t.keyCode,i=BEM.blocks.keycodes;i.is(e,this.params.pressKeys)&&(this.setMod("pressed","yes"),i.is(e,this.params.prvntKeys)&&t.preventDefault())},_onKeyup:function(t){var e=t.keyCode,i=BEM.blocks.keycodes;i.is(e,this.params.prvntKeys)&&t.preventDefault(),i.is(e,this.params.pressKeys)&&(this.delMod("pressed"),i.is(e,this.params.clickKeys)&&(this._preventClick=!0,this._processClick(t)))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["SPACE","ENTER"],prvntKeys:[],clickKeys:[]})}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}).liveBindTo("pointerclick",function(t){this.hasMod("disabled")||this._onClick(t)}).liveBindTo("keydown",function(t){this._onKeydown(t)}).liveBindTo("keyup",function(t){this._onKeyup(t)}),this.__base()}}),BEM.DOM.decl("button2",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")},_onClick:function(){this.__base.apply(this,arguments),this._isDestructing||this.setMod("focused","yes")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}).liveBindTo("mousedown",function(t){t.preventDefault()}),this.__base()}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this._val=this.elem("control").val()}},disabled:{"*":function(t,e){this.elem("control").prop("disabled",e)},yes:function(){this.delMod("focused")}},focused:function(t,e){if(this.hasMod("disabled"))return!1;e?this._focused||this._focus():this._focused&&this._blur(),this.afterCurrentEvent(function(){this.domElem&&this.trigger(e?"focus":"blur")})}},isDisabled:function(){return this.hasMod("disabled")},val:function(t,e){var i=void 0!==t,n=this.elem("control");return t=i?null===t?"":t.toString():n.val(),this._val!==t&&(this._val=t,n.val()!==t&&n.val(t),this.trigger("change",e)),i?this:t},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var i=document.selection.createRange();if(i&&i.parentElement()===t){var n=t.value.length,o=t.createTextRange();o.moveToBookmark(i.getBookmark());var s=t.createTextRange();s.collapse(!1),e=o.compareEndPoints("EndToEnd",s)>-1?n:-o.moveEnd("character",-n)}}return e},_onFocus:function(){if(parseInt(BEM.blocks["i-ua"].ios,10)>=8&&!this.hasMod("type","textarea")){var t=this.elem("control")[0];t.selectionStart===t.value.length&&(t.scrollLeft=t.scrollWidth)}return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent(function(){this.domElem&&this._focus()}),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){if(this.hasMod("disabled","yes"))return!1;this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},_updateVal:function(){this.val(this.elem("control").val())},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)}),this.liveBindTo("control","input",function(){this._updateVal()})}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.elem("control"),e=$.dom.getActiveElement(),i=this.params.autoFocus&&!e.is("input, textarea");(e[0]===t[0]||i)&&(this.setMod("focused","yes")._focused=!0),this.params.shortcut&&this.bindToDoc("keydown",function(t){t.ctrlKey&&t.which===BEM.blocks.keycodes.UP&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")})}}},_focus:function(){if(!1===this.__base())return!1;var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}},destruct:function(){this.params.shortcut&&this.unbindFromDoc("keydown"),this.__base.apply(this,arguments)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")}},{live:function(){return this.liveBindTo("box","pointerover pointerout",function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.liveBindTo("control","dragenter"),this.__base()}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}}},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible",Boolean(this._val))}},{live:function(){return this.liveBindTo("clear","pointerpress",function(t){this.setMod(this.elem("clear"),"pressed","yes")}).liveBindTo("clear","pointerover",function(t){this.setMod(this.elem("clear"),"hovered","yes")}).liveBindTo("clear","pointerout",function(t){this.delMod(this.elem("clear"),"hovered")}).liveBindTo("clear","pointerclick",function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()}).liveBindTo("control","paste",function(){this.setMod(this.elem("clear"),"visibility","visible")}),this.__base()}}),BEM.DOM.decl("i-ua",{},{placeholder:"placeholder"in document.createElement("input")}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),(this._hasHint=Boolean(this.elem("hint")[0]))&&this.on("change",this._updateHint)._updateHint()}},focused:function(){if(!1===this.__base.apply(this,arguments))return!1;this._hasHint&&this._updateHint()}},_updateHint:function(){this.toggleMod(this.elem("hint"),"visibility","visible",!this.val())}}),BEM.DOM.decl("select2",{onSetMod:{js:{inited:function(){this.button=this.findBlockOn("button","button2"),this.initSelect()}},disabled:{"*":function(t,e){this.button.setMod(t,e)}}},initSelect:$.noop,getVal:$.noop,setPrevVal:$.noop,getPrevVal:$.noop,getClearVal:$.noop,setVal:$.noop,_onControlChange:$.noop,_onButtonKeypress:$.noop,_onButtonKeydown:$.noop,_changeIcon:$.noop,_buildLeftIcon:$.noop,_setMinWidth:$.noop},{live:function(){this.liveInitOnBlockInsideEvent("init","button2"),this.liveBindTo("control","pointerdown").liveBindTo("pointerdown",function(){}),this.liveBindTo("button","keydown",function(t){this._onButtonKeydown(t)}).liveBindTo("button","keypress",function(t){this._onButtonKeypress(t)})}}),BEM.DOM.decl("select2",{redraw:function(){this.popup.redraw()}}),BEM.DOM.decl("select2",{onSetMod:{disabled:{"*":function(t,e){this.__base.apply(this,arguments),this.control.prop("disabled",Boolean(e))}}},initSelect:function(){this.control=this.elem("control");var t=this.getVal();this.initialVal=this.button.getText(),this.setPrevVal(t),BEM.afterCurrentEvent(function(){if(this.control&&this.control.length&&this.domElem){var e=this.getVal();e&&0!==e.length&&e!==t&&this.setVal(e)}},this),this.bindTo("control","change",function(t){this._onControlChange(t)})},getVal:function(){var t=this.control.val();if(!t){var e=this.getOptions();return e.length?e[0].value:[]}return t},setVal:function(t){if(this.getVal()!==t)for(var e=this.getOptions(),i=0;i<e.length;i++){var n=e[i];if(n.value===t){this.control[0].value=t,this.button.setText(n.text),this.triggerChange();break}}},setPrevVal:function(t){this.prevVal=t},getPrevVal:function(){return this.prevVal},getClearVal:function(t){return t&&1===t.length?t[0]:t},triggerChange:function(){this.trigger("change",{prevVal:this.getClearVal(this.getPrevVal()),currVal:this.getClearVal(this.getVal())})},controlChange:function(t){for(var e=this.getOptions(),i=0;i<e.length;i++){var n=e[i];if(n.value===t){this.button.setText(n.text);break}}},_onControlChange:function(t,e){var i=this.getVal();this.controlChange(i),this.triggerChange(),this.setPrevVal(i)},getOptions:function(){return Array.prototype.slice.call(this.control[0].options)},getName:function(){return this.control.attr("name")},setName:function(t){this.control.attr("name",t),this.trigger("setName")},reset:function(){this.setVal(this.initialVal),this.button.setText(this.initialVal),this.trigger("reset")}}),BEM.DOM.decl({block:"select2",modName:"popup",modVal:"yes"},{onSetMod:{focused:{yes:function(){this.button.setMod("focused","yes")},"":function(){this.delMod("opened"),this.button.delMod("focused")}},opened:{"*":function(t,e){if(this.hasMod("disabled"))return!1;var i=Boolean(e);this.button.domElem.attr("aria-expanded",i),this.arrow.toggleMod("direction","top","bottom",i),this.popup.toggleMod("visible","yes",i),i&&this.popup.redraw()},yes:function(){this._setMinWidth(),this._setMaxHeight()}},disabled:{yes:function(){this.popup.delMod("visible")}}},getDefaultParams:function(){return{optionsMaxHeight:Number.POSITIVE_INFINITY}},initSelect:function(){this.menu=this.findBlockOn("menu","menu"),this.__base.apply(this,arguments),this.popup=this.findBlockOn("popup","popup2"),this.arrow=this.findBlockOn("arrow","icon"),this.initialVal=this.getVal(),this.popup.setAnchor(this.button),this.popup.on("beforeClose",this._onPopupHide,this),this.button.on({click:this._onButtonClick,focus:this._onButtonFocus},this),this.bindTo("button","blur",this._onButtonBlur),this.menu.on({change:this._onMenuChange,click:this._onMenuItemClick,"item-hover":this._onMenuItemHover},this),this._preventBlur=null,this.bindTo("menu","pointerdown",this._onMenuPointerdown),document.documentMode&&this.bindTo("menu","focusin focusout",this._preventItemFocus),this._setMaxHeight()},getVal:function(){return this.menu.getVal()},setVal:function(t){return this.menu.setVal(t),this},reset:function(){this.menu.setVal(this.initialVal)},setContent:function(t){return this.menu.setContent(t),this._setMinWidth(),this._setMaxHeight(),this.popup.redraw(),this},destruct:function(){return document.documentMode&&this.unbindFrom("menu","focusin focusout",this._preventItemFocus),this.unbindFrom("menu","pointerup",this._preventButtonBlur),this.unbindFrom("menu","pointerdown",this._onMenuPointerdown),this.unbindFrom("button","blur",this._onButtonBlur),this.__base.apply(this,arguments)},_setMinWidth:function(){this.popup.domElem.css("min-width",this.button.domElem.outerWidth())},_setMaxHeight:function(){var t=this.popup.calcPossibleDrawingParams(),e=this.menu.domElem,i=e.outerWidth(),n=0;t.forEach(function(t){t.width>=i&&t.height>n&&(n=t.height)}),n>0&&e.css("max-height",Math.min(this.params.optionsMaxHeight,n))},_onMenuChange:function(t,e){this._changeIcon(t,e),this.control&&this.control.val(e.currVal),this.trigger("change",e)},_changeIcon:function(t,e){var i,n,o=this.menu,s=this.button,r=o.getItems("checked","yes").filter(function(t){return o.elemParams(t).val===e.currVal}).shift(),a=r&&o.findBlockInside(r,"icon"),c=s.findElem("icon","side","left");a?(c.length||(s.domElem.prepend(this._buildLeftIcon()),c=s.findElem("icon","side","left")),n=s.findBlockInside(c,"icon"),delete(i=a.getMods()).js,Object.keys(i).forEach(function(t){n.setMod(t,i[t])})):c.length&&c.remove()},_buildLeftIcon:function(){return'<i class="icon button2__icon button2__icon_side_left" aria-hidden="true"/>'},_onMenuItemClick:function(t,e){this.delMod("opened")},_onMenuItemHover:function(t,e){var i=this.button.domElem,n=e.item;n?i.attr("aria-activedescendant",n.attr("id")):i.removeAttr("aria-activedescendant")},_onMenuPointerdown:function(t){this._preventBlur=!0},_onButtonClick:function(){this.toggleMod("opened","yes")},_onButtonKeydown:function(t){var e=BEM.blocks.keycodes;!this.hasMod("opened")&&e.is(t.keyCode,"UP","DOWN")&&(t.preventDefault(),this.setMod("opened","yes"))},_onButtonFocus:function(){this.setMod("focused","yes")},_onButtonBlur:function(){this._preventBlur?(this._preventBlur=null,this.bindTo("menu","pointerup",this._preventButtonBlur)):this.delMod("focused")},_onPopupHide:function(){this.delMod("opened")},_preventButtonBlur:function(t){this.unbindFrom("menu","pointerup",this._preventButtonBlur),this.button.domElem.focus()},_preventItemFocus:function(t){t.preventDefault(),t.stopPropagation()},_onControlChange:function(t){var e=this.control.val(),i=[].concat(e),n=this.menu,o=this.getVal();n.getItems().filter(function(t){return n.delMod(t,"checked"),i.indexOf(n.elemParams(t).val)>=0}).forEach(function(t){n.setMod(t,"checked","yes")}),this._onMenuChange(t,{prevVal:o,currVal:e})}}),BEM.DOM.decl({block:"select2",modName:"popup",modVal:"yes"},{onSetMod:{opened:{yes:function(t,e){var i,n=this.__base.apply(this,arguments);return!1===n?n:(this.menu.getItems("hovered","yes").length||((i=this.menu.getItems("checked","yes")).length?this.menu.hoverText(i[0].text()):this.menu.hoverNext()),n)},"":function(){return this._preventToToggleOpened=!1,this.__base.apply(this,arguments)}}},_onButtonKeydown:function(t){this.hasMod("opened","yes")?(this.menu._onKeydown(t,!0),this._keysToMenu=!0,this._preventToToggleOpened=!0):(this._keysToMenu=!1,this._preventToToggleOpened=!1,this.__base.apply(this,arguments))},_onButtonKeyup:function(t){this._keysToMenu&&(this.menu._onKeyup(t),this._keysToMenu=!1,this._preventToToggleOpened=!0)},_onButtonClick:function(){this._preventToToggleOpened?this._preventToToggleOpened=!1:this.__base.apply(this,arguments)},_onButtonKeypress:function(t){var e=BEM.blocks.keycodes;if(e.is(t.keyCode,"UP","DOWN","ENTER","SPACE")||0===t.keyCode&&t.charCode===e.SPACE)this.menu._onKeypress(t);else{var i=this.menu.getItems("hovered","yes");if(i.forEach(function(t){this.menu.delMod(t,"hovered")},this),this.menu._onKeypress(t),this.hasMod("opened"))return;(i=this.menu.getItems("hovered","yes")).length&&this.setVal(this.menu.elemParams(i[0]).val)}}},{live:function(){return this.liveBindTo("button","keyup",function(t){this._onButtonKeyup(t)}),this.__base()}}),BEM.DOM.decl({block:"menu",modName:"type",modVal:"radio"},{getVal:function(){var t=this.getItems("checked","yes")[0];return t&&this.elemParams(t).val},setVal:function(t){return this.getItems().forEach(function(e){this.elemParams(e).val===t?this.setMod(e,"checked","yes"):this.delMod(e,"checked")},this),this._onChange(),this},_onItemClick:function(t,e,i){this.__base.apply(this,arguments),this.hasMod(t,"checked","yes")||(this.delMod(this.elem("item","checked","yes"),"checked"),this.setMod(t,"checked","yes"),this._onChange())}}),BEM.DOM.decl({block:"select2",modName:"width",modVal:"fixed"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._setMinWidth()}}},_setMinWidth:function(){this.button.domElem.css("width",this.button.domElem.outerWidth())}}),BEM.DOM.decl({block:"select2",modName:"text",modVal:"vary"},{_onMenuChange:function(t,e){this.__base.apply(this,arguments),this.button.setText(this.getText()),this._setMinWidth()},_onControlChange:function(){this.__base.apply(this,arguments),this.button.setText(this.getText())},getText:function(){var t=this.params.checkedTexts;return this.menu?this.getTextFromMenu(t):this.control?this.getOptions().filter(function(t){return t.selected}).map(function(e){var i=e.text,n=e.value;return t[n]||i}).join(", ")||this.params.text:void 0},getTextFromMenu:function(t){var e=this.menu;return e.getItems("checked","yes").map(function(i){var n=e.elemParams(i),o=n.text||i.text(),s=n.val||i.val();return t[s]||o}).join(", ")||this.params.text}}),BEM.DOM.decl({block:"select2",modName:"search-input",modVal:!0},{onSetMod:{js:{inited:function(){this.__base(),this.on("change",this._isChangedManualy,this).on("update:before",this._changePrecise,this)}},focused:{"":function(){var t=this;t.__base.apply(t,arguments),t.afterCurrentEvent(function(){t.trigger("blur")})}}},_isChangedManualy:function(){this._changedManualy=!0},_changePrecise:function(t,e){var i=this.menu,n=this.getVal(),o=e.activeVal;$.each(e.enabledItems,function(t,e){var n=i.elem("item","precise",t);i.setMod(n,"disabled",e?"":"yes"),!e&&i.hasMod(n,"checked","yes")&&i.delMod(n,"checked")}),n!==o&&(this._changedManualy&&e.enabledItems[n]||(this._changedManualy=!1,this.un("change",this._isChangedManualy,this).setVal(o).onFirst("change",this._isChangedManualy,this)))}}),BEM.DOM.decl("search2",{clearWizFlag:function(t){if(t.wiz_no_news){var e=global.uri(location.href).getParam("text");t.text!==(e&&e[0])&&delete t.wiz_no_news}}}),BEM.DOM.decl("search2",{onSetMod:{js:function(){this.input=this.findBlockInside("input"),this.findBlockOn("suggest2-form"),this.input.on({focus:this._focus,focusin:this._focus,focusout:this._blur,blur:this._blur},this),this._initCounters()},focused:function(t,e){BEM.DOM.channel("search2").trigger("focused",{isFocused:Boolean(e)})}},submit:function(t){this.domElem.trigger("submit",t||{})},_initCounters:function(){var t=this;t.input.on("clear",function(){Ya.c(t.params.counters.clear)})},_focus:function(){this.setMod("focused",!0)},_blur:function(){this.delMod("focused")},gotoAtSerp:function(){var t=BEM.blocks.uri.parse(global.params.yadomain),e=global.location.getUri(),i=this.domElem.mergeSerialize(!0,!0);i.text&&i.text.trim()&&(t.protocol(e.protocol()).path("search").addParam("text",this.input.val()).addParam("lr",e.getParam("lr")||global.params.lr),location.replace(t.toString()))},_getUrl:function(t){var e,i=t&&t.precise,n=$(".filters"),o=n.add(".search2").mergeSerialize(!0,!0);if(/cl4url/.test(i)?o[i]=this.params[i]:delete o.content,this.clearWizFlag(o),n.length||o.text&&o.text.trim())return(e="nnews2"!==o.rpt?"/yandsearch":this.domElem.attr("action"))+(-1===e.indexOf("?")?"?":"&")+$.param(o);this.input.setMod("focused","yes")},_onSubmit:function(t,e){if(t.preventDefault(),this.findBlockOutside("i-global").params.isSport)this.gotoAtSerp();else{var i=this._getUrl(e);i&&(window.location.href=i)}}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("search","pointerclick",function(){Ya.c(this.params.counters.search)}),!1}}),BEM.DOM.decl("suggest2-form",{onSetMod:{js:{inited:function(){this._isReady=!1,this._nodes=this.initNodes()}}},getDefaultParams:function(){return{inputName:"input",buttonName:"button2",popupName:"popup"}},destruct:function(){this._nodes.forEach(function(t){t.suggest.domElem&&BEM.DOM.destruct(t.suggest.domElem),this.unbindFormEvents(t),t.counter&&t.counter.destruct(),t.proxies.input.destruct(),t.proxies.popup.destruct()},this),this.__base.apply(this,arguments)},getOwner:function(t){},isReady:function(){return this._isReady},initNodes:function(){var t=this.getNodes();return t.forEach(function(t){t.suggest.init()}),this._isReady=!0,this.trigger("ready",{nodes:t}),t},getNodes:function(){return this.getNodeList().map(function(t){var e=t.suggest,i=e.params;return i.form=this,i.input=t.input,i.popup=t.popup,i.button=t.button,t.proxies={},t.proxies.popup=i["suggest2-popup"]=BEM.create({block:"suggest2-popup",mods:$.extend({for:this.params.popupName},this.params.popupMods)},this._getNodePopupParams(e,i)),t.proxies.input=i["suggest2-input"]=BEM.create({block:"suggest2-input",mods:this.params.inputMods},this._getNodeInputParams(e,i)),t.counter&&(t.counter.params.form=this,t.counter.params.suggest=e,i.counter=t.counter),this.bindFormEvents(t),t},this)},_getNodeInputParams:function(t,e){return{suggest:t,input:e.input,updateOnEnterByKeyboard:e.updateOnEnterByKeyboard}},_getNodePopupParams:function(t,e,i){return{suggest:t,popup:e.popup,popupContentElem:this.params.popupContentElem,owner:this.getOwner(i)||e.input}},bindFormEvents:function(t){var e=this;return t.button&&t.button.bindTo("pointerclick",function(t){e._onButtonClick(t)}),e.bindTo("submit",function(t,i){e.onSubmit(t,i)}),e},_onButtonClick:function(t){this.trigger("button-click",{domEvent:t})},unbindFormEvents:function(t){return t.button&&t.button.un("pointerclick"),this.unbindFrom("submit"),this},submit:function(t){return this.domElem.trigger("submit",t||{}),this},onSubmit:function(t,e){t.data=e||{},this.trigger("submit",t)},getNodeList:function(){var t=this,e=[];return t.elem("node").each(function(i,n){var o=$(n),s=t._getFormNodeElems(o);e.push(t._getFormNodeBlocks(s,o))}),e},_getFormNodeElems:function(t){return{input:this.findElem(t,"input"),button:this.findElem(t,"button")}},_getSuggestForNode:function(t){return this.findBlockInside(t,"suggest2")},_getFormNodeBlocks:function(t,e){var i=this._getSuggestForNode(e);return{node:e,suggest:i,counter:this.findBlockOn("suggest2-counter"),input:this.findBlockOn(t.input,"input"),button:this.findBlockOn(t.button,this.params.buttonName),popup:i.findBlockOn(this.params.popupName)}},appendHiddenInputs:function(t){return BEM.DOM.append(this.domElem,BEMHTML.apply(t.map(function(t){return{block:this.__self.getName(),elem:"hidden-input",tag:"input",attrs:{type:"hidden",name:t.name,value:t.value}}},this))),this},removeHiddenInputs:function(){return BEM.DOM.destruct(this.findElem(this.domElem,"hidden-input")),this}},{live:function(){var t=this;return this.liveInitOnBlockInsideEvent("mousedown pointerdown change focus","input"),(!BEM.blocks["i-ua"].ie||BEM.blocks["i-ua"].ie>8)&&(this.liveBindTo("input","mousedown pointerdown change focus",function(e){t.disableNativeAutocomplete(e.target)}),this.disableNativeAutocompleteAll()),this.__base()},disableNativeAutocompleteAll:function(){var t=document.querySelectorAll(".suggest2-form__input .input__control");(t=Array.prototype.slice.call(t)).forEach(this.disableNativeAutocomplete.bind(this))},disableNativeAutocomplete:function(t){if("off"!==t.getAttribute("autocapitalize")){var e={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"};for(var i in e)t.setAttribute(i,e[i]);this.hideNativeAutocomplete(t)}},hideNativeAutocomplete:function(t){var e=document.activeElement===t;e&&t.blur(),e&&t.focus()}}),BEM.DOM.decl("suggest2-form",{onSubmit:function(t,e){return this.findBlockOn("search2")._onSubmit(t,e)}}),BEM.DOM.decl("suggest2",{onSetMod:{js:{inited:function(){this.params.form||this.findBlockOutside("suggest2-form"),this._lastSubmitTime=0,this._lastBlurTime=0,this._clear()}}},_bodyHandler:function(t){if(!this._isDestructing){var e=$(t.target);this.containsDomElem(e)||this.params.form.containsDomElem(e)||(this._freezeInputFocus=!1)}},getDefaultParams:function(){return{submitBySelect:!1,updateOnEnterByKeyboard:!0,onFocus:"request",requestOnEmptyInput:!1,abortQueries:!1,sequentialQueriesTimeout:!1}},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},init:function(){var t=this;t.params.form.on("submit",function(e,i){t._lastSubmitTime=(new Date).getTime(),t._isActualSearchCGIParams?t._isActualSearchCGIParams=!1:"suggest2-counter"!==i.data.block&&!1!==i.data.prevent&&this.removeHiddenInputs(),t._clear(),t._model.reset(),t._popup.hide()}),t._input=t.params["suggest2-input"],t._popup=t.params["suggest2-popup"],t._inputValue=t._input.val(),t._model=t.initModel(),t._view=t.initView(),t._counter=t.initCounter(),t._model.on({response:this.setItems,reject:function(e,i){2===i.code&&(t._popup.hide(),t._clear())}},t),t.bindToDoc("pointerclick",t._bodyHandler),t.bindEvents(),this._input.isFocused()&&this._doRequest();var e=BEM.blocks["i-ua"]&&BEM.blocks["i-ua"].ua.toLowerCase();return e&&e.indexOf("mozilla/5.0")>-1&&e.indexOf("android ")>-1&&e.indexOf("applewebkit")>-1&&!(e.indexOf("chrome")>-1)&&t.setMod("old-flex",!0),t},initModel:function(){return BEM.create("suggest2-model",this.params)},getModel:function(){return this._model},initView:function(t,e){var i=this.getMod("type");return t=$.extend(t,this.params.viewMods||{}),e=$.extend(e,this.params.viewParams||{}),"simple"!==i&&"all"!==i||(t.simple="yes"),"advanced"!==i&&"all"!==i||(t.advanced="yes"),BEM.create({block:"suggest2-view",mods:t||{}},e||{})},getView:function(){return this._view},initCounter:function(){return this.params.counter?this.params.counter.initValues().bindEvents():void 0},getCounter:function(){return this._counter},setDataConverter:function(t){return this.getModel().getProvider().convert=t,this},setRequestData:function(t){return this.getModel().getProvider().getRequestData=t,this},setRequestUrl:function(t){return this.getModel().getProvider().getRequestUrl=t,this},setOwner:function(t){return this._popup.owner(t),this},bindEvents:function(){var t=this;return t._input.bindEvents({change:t._onChange,focus:t._onFocus,blur:t._onBlur},t),t._popup.on({preshow:function(){t.trigger("preshow")},show:function(){t._onShow()},hide:function(e,i){t._onHide(i)}}),t.params.form&&t.params.form.on("button-press",t._onSearchButtonMousedown,t),BEM.blocks["suggest2-item"].on(t.domElem,{"link-click":function(e,i){t._counter&&"_self"===$(i.domEvent.target).attr("target")&&i.domEvent.preventDefault()}}),t},_onShow:function(){this.trigger("show")},_onHide:function(t){this.trigger("hide",t)},_onSearchButtonMousedown:function(){this._input.realVal(this._input.val()),this._popup.hide()},unbindAllEvents:function(){return this.unbindFromDoc("pointerclick"),this._input.unbindAllEvents(),this.params.form.un("submit"),this._model.un("response").un("reject"),this._popup.un("preshow").un("show").un("hide"),this.params.form&&this.params.form.un("button-press",this._onSearchButtonMousedown,this),this},setItems:function(t,e){var i=e.data.items||[];return this._isFormSubmitDurinQuery()||!i.length?(this._popup.hide(),this._clear()):this.params.sequentialQueriesTimeout||this._input.val()===e.val?(this._text=e.val,this._pos=e.pos,this._meta=e.data.meta||{},this._popup.show(this._view.html(i,this._meta)).width(this.getPopupWidth()),this._items=this.findBlocksInside("suggest2-item"),this._clearItems().trigger("update",{val:this._text,pos:this._pos,items:this._items,dataItems:i}),this):this._clear()},getItems:function(){return this._items||[]},isBlur:function(){return this._isBlur&&!this._isMouseDown},getPopupWidth:function(){},getInputWidth:function(){return 0},isNeedSubmitFormOnSelectItem:function(t){return this.params.submitBySelect&&"link"!==t.getMod("interact")},_isFormSubmitDurinQuery:function(){return!!this._lastSubmitTime&&(this._model.filterRequestsByVal(this._input.realVal()),this._model.isTimeInRequestInterval(this._lastSubmitTime))},_onChange:function(t,e){e&&e.hasOwnProperty("suggest")&&!1===e.suggest||this._inputValue!==this._input.val()&&(this._inputValue=this._input.val(),this._doRequest(e))},_doRequest:function(t){var e=this.getCounter();this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition(),t,e&&e.getCurrentReqId())},_onFocus:function(){!this._popup.isShown()&&this._isBlur&&this.params.onFocus&&this._isLastBlurTimeLater(50)&&(this.getItems().length&&this._input.val()===this._text?(this._clearItems(),this._popup.show()):this._isMouseDown||"request"!==this.params.onFocus||this._doRequest())},_onBlur:function(){this._isBlur?(this._clear(),this._popup.hide()):this._freezeInputFocus?(this._clear(),this._input.focus()):this._isMouseDown&&this._input.focus(),this._lastBlurTime=(new Date).getTime(),this._isBlur=!0},_getItemIndex:function(t){return this.getItems().indexOf(t)},_clear:function(){return this._isBlur=!0,this._freezeInputFocus=!1,this._clearItems()},_clearItems:function(){return this._isMouseDown=!1,this._enterItemIndex=-1,this._unselectItems()},_isLastBlurTimeLater:function(t){return(new Date).getTime()-this._lastBlurTime>t},_unselectItems:function(t){return(t?[].slice.call(arguments):this.getItems()).forEach(function(t){t.onLeave()}),this},_onSelectItem:function(t,e){var i=this._getItemIndex(t),n=t.onSelect(e),o=t.valOnSelect();return this._text=this._input.realVal(o),this._isBlur=!0,this._freezeInputFocus=!1,this._setSearchCGIParams(t),this.trigger("select",{val:this._text,pos:this._pos,item:t,meta:this._meta,itemIndex:i,byKeyboard:e,callbackOnSelect:n}),!1!==o&&(this._items=[],this.isNeedSubmitFormOnSelectItem(t)&&this.params.form.submit()),i},_isActualSearchCGIParams:!1,_setSearchCGIParams:function(t){this.params.form.removeHiddenInputs(),t.params.searchCGI&&(this._isActualSearchCGIParams=!0,this.params.form.appendHiddenInputs(t.params.searchCGI.map(function(t){return{name:t[0],value:t[1]}})))},_onDownItem:function(){this._isBlur=!1,this._isMouseDown=!0}}),BEM.DOM.decl("suggest2",{getInputLeft:function(){return 0},getInputWidth:function(){return 0},getContainerWidth:function(){return 0},getMetrics:function(){var t=this.getInputLeft(),e=this.getInputWidth(),i=this.getContainerWidth()-t;return{marginLeft:t,minWidth:e>=i?i:e,maxWidth:i}},adjustView:function(){return this.getMetrics()},_resizeHandler:function(){}}),BEM.DOM.decl("suggest2",{bindEvents:function(){var t=this;return t._input.bindEvents({keydown:t._onKeyDown,keyup:t._onKeyUp,keypress:t._onKeyPress,mousedown:function(){t._input.isFocused()&&t._onFocus()}},t),BEM.blocks["suggest2-item"].on(t.domElem,{mouseover:function(e){t._onEnterItem(e.block,!1)},mouseout:function(e,i){var n=e.block.domElem[0];n===i.relatedTarget||$.contains(n,i.relatedTarget)||t._onLeaveItem(e.block,!1)},mousedown:function(){t._onDownItem()},click:function(e){t._onSelectItem(e.block,!1)}}),t.__base.apply(t,arguments)},_onKeyDown:function(t){var e=this.__self.keyboard,i=t.which;!this._popup.isShown()||i!==e.up&&i!==e.down||(t.preventDefault(),this._enterByKeyboard(i))},_onKeyUp:function(t){var e=this.__self.keyboard;if(t.which!==e.left&&t.which!==e.right||(this.trigger("change-cursor-pos"),this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition())),t.which===e.right&&-1!==this._enterItemIndex&&this._enterItemByKeyboard){var i=this._items[this._enterItemIndex];i&&this.trigger("ahead",{item:i,val:"link"===i.getMod("interact")?i.elem("text").text():i.val()})}},_onKeyPress:function(t){if(t.which===this.__self.keyboard.enter&&-1!==this._enterItemIndex&&this._enterItemByKeyboard){var e=this._items[this._enterItemIndex];e&&(t.preventDefault(),this._onSelectItem(e,!0))}},_enterByKeyboard:function(t){var e=t-39,i=this._items.length,n=this._enterItemIndex+e;if(-1===n||n===i)return this._enterItemIndex=n,this._unselectItems(this._items[n]),this.trigger("out",{val:this._text,byKeyboard:!0});n<0?n=i-1:n>=i&&(n=0),this._onEnterItem(this._items[n],!0)},_onEnterItem:function(t,e){this._enterItemIndex=this._getItemIndex(t),this._enterItemByKeyboard=e,this._unselectItems(),t.onEnter(e)},_onLeaveItem:function(t,e){this._clearItems()._unselectItems(t)}},{keyboard:{enter:13,left:37,up:38,right:39,down:40},live:function(){return this.liveBindTo("mousedown",function(){this._onDownItem()}),this.__base()}}),BEM.decl("suggest2-model",{onSetMod:{js:{inited:function(){this._requests=[]}}},destruct:function(){this._provider&&this._provider.destruct(),this.__base.apply(this,arguments)},getProvider:function(){return this._provider?this._provider:(this._provider=this.setProvider(this.params),this._provider)},setProvider:function(t){return this._provider=BEM.create({block:"suggest2-provider",mods:t.providerMods||{}},t),this._provider},getCancelRequestConditions:function(){return[{block:"suggest2",show:!1},{block:"suggest2",event:"select"},{block:"suggest2-item",event:"select"},{block:"suggest2",event:"out"},{block:"suggest2-item",show:!1},{block:"suggest2-popup",event:"hide"},{suggest:!1},{source:"sample"}]},request:function(t,e,i,n){var o=this,s={val:t,caretPosition:e,reqId:n,data:i};o._requests.push(s);var r=o._isNeedRequest(t,i);return r.need?(s.requestTime=(new Date).getTime(),o.lastSendedRequest=s,o.trigger("request",{val:t,pos:e,request:s}),o.getProvider().get(t,e,n,function(t,e,i,n){s.responseTime=(new Date).getTime(),$.extend(s,{duration:s.responseTime-s.requestTime,error:i.error,fromCache:n,itemsCount:i.items?i.items.length:0}),o._onResponse(t,e,i,s);var r=o._requests[o._requests.length-1];o.params.sequentialQueriesTimeout&&r&&r.val!==t&&o.request(r.val,r.caretPosition,r.data)}),o):o.trigger("reject",{val:t,pos:e,code:r.code,reason:r.reason||{}})},isTimeInRequestInterval:function(t){for(var e=this._requests.length-1;e>=0;e--)if(t>this._requests[e].requestTime&&t<this._requests[e].responseTime)return!0;return!1},filterRequestsByVal:function(t){this._requests=this._requests.filter(function(e){return e.val===t})},_isNeedRequest:function(t,e){if(""===t&&!this.params.requestOnEmptyInput)return{need:!1,code:2};var i;if(this.lastSendedRequest&&this.lastSendedRequest.val===t)return{need:!1,code:4};if(this.params.sequentialQueriesTimeout)for(i=this._requests.length-1;i>=0;i--){var n=this._requests[i];if(void 0===n.responseTime&&(new Date).getTime()-n.requestTime<this.params.sequentialQueriesTimeout)return{need:!1,code:3,reason:{request:n}}}if(!e)return{need:!0};var o,s=this.getCancelRequestConditions();t:for(i=0;i<s.length;i++){for(var r in o=s[i])if(o.hasOwnProperty(r)&&o[r]!==e[r])continue t;return{need:!1,code:1,reason:{condition:o}}}return{need:!0}},_onResponse:function(t,e,i,n){var o={val:t,pos:e,data:i||[],request:n};BEM.channel("suggest2").trigger("response",o),this.trigger("response",o)},reset:function(){this._requests=[],this.lastSendedRequest=null}}),BEM.DOM.decl("suggest2-detect",{onSetMod:{js:{inited:function(){this.bindToDoc("keydown",function(t){this.__self._pressedKeyCode=t.which},this).bindToDoc("keyup",function(){this.__self._pressedKeyCode=null},this),this.__self.isSupportInlineSVG()||this.setMod("inlinesvg","no")}}}},{_pressedKeyCode:null,isPressedEscape:function(){return 27===this._pressedKeyCode},_isSupportInlineSVG:null,isSupportInlineSVG:function(){if(null!==this._isSupportInlineSVG)return this._isSupportInlineSVG;var t=document.createElement("div");return t.innerHTML="<svg/>",this._isSupportInlineSVG="http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI),this._isSupportInlineSVG}}),function(t){if(!t.support.cors&&t.ajaxTransport&&window.XDomainRequest){var e=/^(https?:)?\/\//i,i=/^get|post$/i,n=new RegExp("^(//|"+location.protocol+")","i");t.ajaxTransport("* text html json",function(o,s,r){if(o.crossDomain&&o.async&&i.test(o.type)&&e.test(o.url)&&n.test(o.url)){var a=null;return{send:function(e,i){var n="",r=(s.dataType||"").toLowerCase();a=new XDomainRequest,/^\d+$/.test(s.timeout)&&(a.timeout=s.timeout),a.ontimeout=function(){i(500,"timeout")},a.onload=function(){var e="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,n={code:200,message:"success"},o={text:a.responseText};try{if("html"===r||/text\/html/i.test(a.contentType))o.html=a.responseText;else if("json"===r||"text"!==r&&/\/json/i.test(a.contentType))try{o.json=t.parseJSON(a.responseText)}catch(t){n.code=500,n.message="parseerror"}}catch(t){throw t}finally{i(n.code,n.message,o,e)}},a.onprogress=function(){},a.onerror=function(){i(500,"error",{text:a.responseText})},s.data&&(n="string"===t.type(s.data)?s.data:t.param(s.data)),a.open(o.type,o.url),a.send(n)},abort:function(){a&&a.abort()}}}})}}(jQuery),BEM.decl("suggest2-provider",{getDefaultParams:function(){return{cache:!1,type:"GET",dataType:"jsonp",timeout:2e3}},_cachedResponses:Object.create?Object.create(null):{},_cachingTime:6e4,_lastQuery:null,get:function(t,e,i,n){"function"==typeof i&&(n=i,i=void 0);var o=this,s=o.params.abortQueries,r="jsonp"===this.params.dataType,a=o._extendParamsData(o.getRequestData(t,e,i));n=n.bind(o,t,e),s&&null!==o._lastQuery&&o._lastQuery.abort(),o._lastQuery=$.ajax(a).done(function(t){n(o.convert(t),o._validateCache(this.url))}).fail(function(t,e){!s&&!r&&n({error:e||"error"})})},convert:function(t){return{orig:t[0],items:t[1],meta:t[2]}},getRequestData:function(t,e,i){return $.extend({part:t,pos:e},i&&{suggest_reqid:i},BEM.blocks["suggest2-detect"].isSupportInlineSVG()&&{svg:1})},getRequestUrl:function(){return this.params.url},getSerializedRequest:function(t,e,i){var n=this._extendParamsData(this.getRequestData(t,e,i));return n.url+(/\?/.test(n.url)?"&":"?")+$.param(n.data)},_extendParamsData:function(t){return this.params.url=this.getRequestUrl(),this.params.data=$.extend(this.params.data||{},t),this.params.traditional=!0,this.params},_validateCache:function(t){var e=Boolean(this._cachedResponses[t])&&this._cachedResponses[t]>Date.now();return!e&&this._addToCache(t),e},_addToCache:function(t){this._cachedResponses[t]=Date.now()+this._cachingTime,setTimeout(function(){this._cachedResponses[t]=void 0}.bind(this),this._cachingTime)}}),BEM.DOM.decl("suggest2-item",{val:function(){if(void 0!==this.params.val)return this.params.val;var t=this.elem("text");return(t.length?t:this.domElem).text()},valOnSelect:function(){return this.val()},valOnEnter:function(){return this.val()},valOnLeave:function(){return this.val()},onEnter:function(t){return this.setMod("selected","yes").triggerEvent("enter",{val:this.valOnEnter(),byKeyboard:t})},onLeave:function(t){return this.domElem?this.delMod("selected").triggerEvent("leave",{val:this.valOnLeave(),byKeyboard:t}):this},onSelect:function(t){this.triggerEvent("select",{val:this.valOnSelect(),byKeyboard:t})},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},triggerEvent:function(t,e){return this.trigger(t,{val:e.val,id:this.domElem.attr("id"),show:!1,byKeyboard:e.byKeyboard})}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}),this.__base()}}),BEM.DOM.decl("suggest2-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown pointerclick",function(t){this.trigger("pointerclick"===t.type?"click":t.type,{domEvent:t})}).liveBindTo("link","pointerclick",function(t){this.trigger("link-click",{domEvent:t})}),this.__base()}}),BEM.decl("suggest2-popup",{onSetMod:{js:{inited:function(){this._popup=this.params.popup,this._popupContent=this.params.popupContentElem&&this._popup.findElem(this.params.popupContentElem),this.bindSuggestEvents()}}},show:function(t){return this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),this._popup.domElem?(t&&this.setContent(t),this.isShown()?this:(this.trigger("preshow"),this._setPosition(),this.trigger("show"),this)):this},_setPosition:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},hide:function(t){var e=this;return e.isShown()&&!e.hideTimeout&&(e.hideTimeout=setTimeout(function(){e._doHide(),e.trigger("hide",t||{}),e.hideTimeout=null},300)),e},_doHide:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},setContent:function(t){return this._popupContent?BEM.DOM.update(this._popupContent,t):this._popup.setContent(t),this},isShown:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},owner:function(t){return t?(this.params.owner=t,this):this.params.owner},get:function(){return this._popup},width:function(t){return void 0===t?this._popup.domElem.outerWidth():(this._popup.domElem.outerWidth(t),this)},destruct:function(){this._popup&&(this.unbindAllEvents(),this.__base.apply(this,arguments))},bindSuggestEvents:function(){return this.params.suggest.on({select:this._onSuggestSelect,update:this._onSuggestUpdate},this),this},_onSuggestSelect:function(t,e){this.hide(e)},_onSuggestUpdate:function(t,e){e.items.length||this.hide({response:"empty"})},unbindAllEvents:function(){return this.params.suggest.un("select").un("update"),this}}),BEM.decl("suggest2-view",{html:function(t,e){return BEMHTML.apply(this.build(t,e))},build:function(t,e){return this.buildContent(t,e)},buildContent:function(t,e){return{block:"suggest2",elem:"content",elemMods:{theme:"normal"},content:this.buildItems(t,e)}},buildItems:function(t,e){return t.reduce(function(t,e){return t.push(this.buildItem(e)),t}.bind(this),[])},buildItem:function(t){var e=this.__self._getPrefs(t),i=this.__self._getType(t,e),n="html"===i||"bemjson"===i?{}:{type:i};return this._getItemByType(t,e,i,{text:{elem:"text",content:this.__self._highlight(this.__self._getText(t,e),e)},mods:n,js:e.js||{},props:{},content:[]})},_getItemByType:function(t,e,i,n){var o=n.text,s=n.mods,r=n.js,a=n.props,c=n.content;0===c.length&&c.push(o),this.__self._getPersonal(e)&&(s.personal="yes",c.push({elem:"spacer"},{elem:"cross",elemMods:{type:"delete"}})),e.url&&(s.interact="link",a.url=this.__self._resolveUrl(e.url),e.target&&(a.target=e.target)),e.search_cgi&&(r.searchCGI=e.search_cgi),e.attrs&&(a.attrs=e.attrs);var u,h=BEM.blocks["i-global"];return"nav"===i?u="object"==typeof t[5]?t[5].counter:t[5]:"bemjson"===i&&(u=e.counter),u&&(r.safeclickUrl=h.param("click-host")+u),$.extend({block:"suggest2-item",mods:s,js:r,content:c},a)}},{_getPrefs:function(t){if(!Array.isArray(t))return{};var e=t[t.length-1];return $.isPlainObject(e)?e:{}},_getType:function(t,e){return Array.isArray(t)&&t[0]||"text"},_getText:function(t){return Array.isArray(t)?t[1]:t},_highlight:function(t,e){if(!e.hl)return t;var i,n=e.hl.sort(function(t,e){return t[0]-e[0]}).filter(function(t){return t[0]>=0}),o=[],s=0;return n.length?(n.forEach(function(e){i=s>e[0]?s:e[0],o.push(t.slice(s,i)),o.push({elem:"highlight",content:t.slice(i,s=e[1])})},this),o.push(t.slice(s)),o.filter(function(t){return t})):t},_resolveUrl:function(t){return(/[\/]{2}/.test(t)?"":"http://")+t},_getPersonal:function(t){return Boolean(t.pers)},_getPersonalProps:function(t){var e={pers:1};return t&&(e.label=t),e}}),BEM.decl("suggest2-view",{},{_getGroupType:function(t,e){return t.pers?"nah":-1!==["nav"].indexOf(e)?e:"text"},_getTextLabel:function(t){return BEM.I18N("suggest2",t)}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t._input=t.params.input,t.disableBrowserAutocomplete(),t.realVal(t.val()),t.bindEvents({change:function(e,i){t._onChange(e,i)},clear:$.throttle(function(e,i){t._onClear(e,i)},300)}),t.bindSuggestEvents()}}},_onChange:function(t,e){this.trigger("change",e)},_onClear:function(t,e){this.trigger("clear",e)},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},get:function(){return this._input},isFocused:function(){return this._input.hasMod("focused")},focus:function(){return this._input.setMod("focused","yes"),this},blur:function(){return this._input.delMod("focused"),this},getControl:function(){return this._input.elem("control")},val:function(t,e){return this._input.val.apply(this._input,arguments)},valWithoutSuggest:function(t,e){return this._input.val.call(this._input,t,$.extend(e,{suggest:!1}))},realVal:function(t){return void 0===t?this._realVal:("string"==typeof t&&(this._realVal=t),this._realVal)},width:function(){return this._input.domElem.width()},getCaretPosition:function(){var t,e=this.getControl()[0],i=this.val().length;return document.selection?((t=document.selection.createRange()).moveStart("character",-i),t.text.length):"number"==typeof e.selectionStart?e.selectionStart:i},moveCaretToEnd:function(){var t=this.getControl()[0],e=t.value.length;if(void 0!==t.createTextRange){var i=t.createTextRange();i.collapse(!1),i.select()}else"number"==typeof t.selectionStart&&(t.scrollLeft=999999,t.setSelectionRange(e,e));return this},disableBrowserAutocomplete:function(){this.getControl().attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"})},_bindedEventsNames:[],bindEvents:function(t,e){return Object.keys(t).forEach(function(i){-1===this._bindedEventsNames.indexOf(i)&&this._bindedEventsNames.push(i),this._eventsFilter(i).on(i,t[i].bind(e||this))},this),this},bindSuggestEvents:function(){var t=this.params.suggest;return t.on({out:function(t,e){this.a11yDeactive(),this._changeValueByEvent(t,e)}},this),BEM.blocks["suggest2-item"].on(t.domElem,{tpah:this._onSuggestItemTpah,select:this._onSuggestItemSelect,enter:this._onSuggestItemEnter},this),this},_onSuggestItemTpah:function(t,e){this._changeValueByEvent(t,e),this.moveCaretToEnd()},_onSuggestItemSelect:function(t,e){"link"!==t.block.getMod("interact")&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},_onSuggestItemEnter:function(t,e){this.a11yActive(e.id),e.byKeyboard&&this.params.updateOnEnterByKeyboard&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},unbindAllEvents:function(){return this._input.domElem&&this._bindedEventsNames.forEach(function(t){var e=this._eventsFilter(t);e[e instanceof BEM.DOM?"un":"off"](t)},this),this._bindedEventsNames=[],this.params.suggest.un("out"),this},a11yActive:function(t){this.getControl().attr("aria-activedescendant",t)},a11yDeactive:function(){this.getControl().removeAttr("aria-activedescendant")},_eventsFilter:function(t){return-1!==["blur","focus","change","clear"].indexOf(t)?this._input:this.getControl()},_changeValueByEvent:function(t,e){var i=e&&void 0!==e.val?e.val:this.realVal();this.val(i,$.extend({block:t.block.__self.getName(),event:t.type},e))}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t.__base.apply(this,arguments),t.bindEvents({keydown:function(e){t._onKeyDown(e)}},t)}}},_onKeyDown:function(t){t.which===this.params.suggest.__self.keyboard.enter&&this.trigger("enter")}}),BEM.DOM.decl({block:"suggest2",modName:"theme",modVal:"normal"},{getPopupWidth:function(){return this._input.width()}}),BEM.DOM.decl({block:"suggest2-item",modName:"personal",modVal:"yes"},{onSetMod:{js:{inited:function(){this._catchEvents&&this._crossCatchHandler&&this.bindTo("cross",this._catchEvents,this._crossCatchHandler),this.historyElem=this.elem("text").text()}}},val:function(){return this.params.val?this.params.val:this.elem("text").text()},remove:function(t){var e=this;this.domElem.one("webkitTransitionEnd transitionend",function(){e.domElem.remove(),t&&t()}),this.domElem.css("height",0)}}),BEM.DOM.decl({block:"suggest2-item",modName:"personal",modVal:"yes"},{_catchEvents:"click",_crossCatchHandler:function(t){t.preventDefault(),t.stopImmediatePropagation(),this.trigger("delete")}}),BEM.DOM.decl({block:"suggest2",modName:"group",modVal:"label"},{initView:function(t,e){return this.__base($.extend(t||{},{group:"label"}),$.extend(e||{},{label:this.params.label}))}}),BEM.decl({block:"suggest2-view",modName:"group",modVal:"label"},{buildItems:function(t,e){var i,n;return t.reduce(function(t,e,o){var s,r=this.__self._getPrefs(e).label||"";i!==r&&(i=r,n=[],s=r||(0===o?"":this.params.label||this.__self._getTextLabel("text")),t.push({block:"suggest2",elem:"group",content:[{elem:"title",content:s},{elem:"items",content:n}]}));return n.push(this.buildItem(e)),t}.bind(this),[])}}),BEM.decl({block:"suggest2-view",modName:"simple",modVal:"yes"},{_getType:function(t,e){var i=this.__base.apply(this,arguments);return"icon"!==i||e.icon?i:"text"},_getItemByType:function(t,e,i,n){var o=n.text,s=n.mods,r=n.js,a=n.props,c=n.content;switch(i){case"fact":c.push(o,{elem:"bullet"},{elem:"fact",content:t[2]});break;case"weather":c.push(o,{elem:"icon",elemMods:{weather:t[3]}},{elem:"fact",content:t[2]});break;case"traffic":c.push(o,{elem:"icon",elemMods:{traffic:t[3]}},{elem:"fact",content:t[2]});break;case"nav":r.val=t[1],s.interact="link",a.url=this.__self._resolveUrl(t[4]),c.push({elem:"text",content:t[3]},{elem:"bullet"},{elem:"fact",content:t[2]});break;case"icon":var u={};e.icon.forEach(function(t,e,i){Array.isArray(t)?u[t[0]]=t[1]:0===e&&(u[t]=i[e+1])}),c.push(o,$.extend({elem:"icon",elemMods:{size:"s"}},u)),e.fact&&c.push({elem:"fact",content:e.fact})}return this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"suggest2-item",modName:"interact",modVal:"link"},{onSelect:function(t){var e=this;e.__base.apply(e,arguments);var i=e.elem("link");if(t||"_self"===i.attr("target"))return function(){e._locationChange(i.attr("href"))}},_locationChange:function(t){window.location=t},valOnSelect:function(){return!1}}),BEM.DOM.decl("suggest2-counter",{pointerStartEvent:"pointerdown",onSetMod:{js:{inited:function(){this.clear()}}},destruct:function(){this.unbindAllEvents()},getDefaultParams:function(){return{submitBySelect:!1,suggestReqID:!1,preventSubmit:!0,host:"//yandex.ru",path:"clck/jclck",dataUrl:"http://ya.ru",params:{},timeout:300}},metaProps:{exprt:"exprt",r:"region",log:"log"},clear:function(){return this._params={user_input:"",text:""},this._times=[],this._renderTimes=[],this._renderTime=0,this._path={service:this.params.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:""},this._ratio={len:0,queryLen:0,actionsCount:0},this._firstChange=0,this._lastChange=0,this._sinceChange={first:0,last:0},this._selectedText="",this._session=0,this._reqID=this.__self._generateReqID(),this._meta={},this._afterSendAjaxCallback,this._startClickTime=null,this._startInputTime=null,this._requests=[],this._clicksCount=0,this},submit:function(t){var e=this.params.suggest.params["suggest2-input"],i=e.val();this._params.text=i,this._params.pos=e.getCaretPosition(),this._params.times=this._requests.map(function(t){return!t.error&&t.duration?t.duration:0}).join("."),this.params.suggestReqID&&this.attachReqID(),this._input.elem("control").blur(),this.sendAjax(this.getUrl(),$.extend({submitForm:!0,afterSendAjaxCallback:function(){}},t)),this.trigger("submit",this._getSubmitEventData()).clear(),this._params.prev_query=i},_getSubmitEventData:function(){return{path:this._path,times:this._times,render_times:this._params.times,prev_query:this._params.prev_query,user_input:this._params.user_input,text:this._params.text,pos:this._params.pos,ratio:this._ratio,since_first_change:this._sinceChange.first,since_last_change:this._sinceChange.last,session:this._session,suggest_reqid:this._reqID,meta:this._meta,url:this.getUrl()}},sendAjax:function(t,e){return $.ajax({type:"GET",url:t,dataType:"script",timeout:this._getAjaxTimeout()}).always(this._sendAjaxAlways.bind(this,e)),this},_getAjaxTimeout:function(){return this.params.timeout},afterSendAjax:function(t){return this._afterSendAjaxCallback=t,this},getUrl:function(){return this.params.host+["/",this.params.path].concat(this._getUrlParams()).join("/").replace(/(\/+)/g,"/")},_sendAjaxAlways:function(t){t||(t={}),this.params.preventSubmit&&t.submitForm&&this.params.form.submit({block:this.__self.getName(),prevent:!1}),t.afterSendAjaxCallback&&t.afterSendAjaxCallback(),this._afterSendAjaxCallback&&this._afterSendAjaxCallback()},_getUrlParams:function(){var t=this;return this._getParamsList().concat(t._getData()).reduce(function(e,i){return e.concat(t._getParams(i))},[]).concat(["/"])},_getParamsList:function(){return[this.params.params,this._getPath(),this._params,this._getRatio(),this._getSinceChange(),this._getSession(),this._getResponsesShows(),{suggest_reqid:this._reqID}]},initValues:function(){return this._params.prev_query=this.params.suggest.params["suggest2-input"].val(),this},attachReqID:function(){this._reqID=this.__self._generateReqID(),this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},getCurrentReqId:function(){return this._reqID},bindEvents:function(){var t=this.params,e=t.suggest,i=t.form,n=e.getModel(),o=e.params["suggest2-input"],s=e.params["suggest2-popup"];return i.on({"button-click":this._onFormButtonClick,submit:this._onFormSubmit},this),n.on({request:this._onModelRequest,response:this._onModelResponse},this),o.on({change:this._onInputChange,enter:this._onInputEnter},this),s.on({show:this._onPopupShow},this),BEM.blocks["suggest2-item"].on(e.domElem,"enter",this._onSuggestItemEnter,this),e.on({update:this._onSuggestUpdate,select:this._onSuggestSelect},this),this._input=o._input,this._input.bindTo(this.pointerStartEvent,this._onInputClick.bind(this)).on("focus",this._onInputFocus,this),this},_onInputClick:function(){this._startInputTime||(this._startClickTime=Date.now())},_onClickPopup:function(){this._clicksCount++},_onInputFocus:function(){this._startInputTime||this._startClickTime||(this._startClickTime=Date.now()),this._startInputTime=this._startInputTime||this._startClickTime},_onFormButtonClick:function(){"keyboard"!==this._path.submit&&(this._path.submit="button_by_mouse")},_onFormSubmit:function(t,e){e.data.block!==this.__self.getName()&&!1!==e.data.prevent&&(this.params.preventSubmit&&(e.stopImmediatePropagation(),e.preventDefault()),this._doSubmit())},_doSubmit:function(){this.submit()},_onModelRequest:function(t,e){this._requests.push(e.request)},_onModelResponse:function(t,e){if(Object(e.data).items){var i=e.data.items;this._path.personal=this._hasPersonal(i)?"nah_not_used":"nah_not_shown",this._meta=e.data.meta||{},this._renderTime=new Date,this._setMetaProps(e),this._requests&&delete this._requests[e.val.toLowerCase()]}},_onInputChange:function(t,e){e&&"clear"!==e.source||(this._params.user_input=t.block.val(),this._firstChange=this._firstChange||new Date,this._lastChange=new Date,this._startInputTime||(this._startInputTime=this._firstChange.getTime())),this._selectedText&&(this._path.state="edit"),this._ratio.actionsCount++},_onInputEnter:function(){this._path.submit="keyboard"},_onPopupShow:function(){"not_shown"===this._path.state&&(this._path.state="not_used")},_onSuggestItemEnter:function(t,e){e.byKeyboard&&this.params.suggest.params.updateOnEnterByKeyboard&&(this._selectedText=e.val,this._path.state="suggest")},_onSuggestUpdate:function(){this._addRenderTime(new Date-this._renderTime)},_onSuggestSelect:function(t,e){this._path.state=e.byKeyboard?"keyboard":"mouse",this._path.index=e.itemIndex+1,this._selectedText=e.val,e.item.hasMod("personal")&&(this._path.personal="nah_used"),"link"===e.item.getMod("interact")&&this._safeclickCount(t,e),this.params.submitBySelect&&(this._path.submit=e.byKeyboard?"keyboard":"click_by_mouse",this._params.pos=e.pos,this._params.text=this._selectedText),this.params.suggest.isNeedSubmitFormOnSelectItem(e.item)||this.submit({submitForm:!1,afterSendAjaxCallback:e.callbackOnSelect})},_safeclickCount:function(t,e){var i=t.block&&t.block.params.safeclickUrl||e.item&&e.item.params.safeclickUrl;i&&(this._addMetrikaCookie(e.item||t.block),(new Image).src=i)},_addMetrikaCookie:function(t){var e=this.params.suggest.getModel().lastSendedRequest.val,i=this.params.suggest.getModel().lastSendedRequest.reqId,n=[e,t.elem("link").attr("href"),this._getNavSource(),i].map(encodeURIComponent).join(":"),o=Date.now();document.cookie="sc_"+o+"="+n+";path=/watch;domain=."+location.hostname.replace(/^www\./,"")+";expires="+new Date(o+1e3).toUTCString()+";secure"},_getNavSource:$.noop,unbindAllEvents:function(){var t=this.params,e=t.suggest,i=t.form,n=e.params["suggest2-popup"];return i.un("button-click").un("submit"),e.getModel().un("request").un("response"),e.params["suggest2-input"].un("change").un("enter"),n.un("show").un("hide"),e.un("select"),this},_hasPersonal:function(t){return t.some(function(t){return 1===BEM.blocks["suggest2-view"]._getPrefs(t).pers})},_setMetaProps:function(t){t.data.meta&&Object.keys(this.metaProps).forEach(function(e){this._params[this.metaProps[e]]=t.data.meta[e]||""},this)},_getParams:function(t){return Object.keys(t).reduce(function(e,i){return""===t[i]?e:(e.push(i+"="+encodeURIComponent(t[i]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",").replace(/\*/g,"%2A")),e)},[])},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getSession:function(){return this._session=(new Date).getTime()+Math.round(1e4*((function(){var f=function(){return ((Date.now()*73)%9949)/9950;};try{if (Math.random.toString().indexOf("native code") !== -1){f = Math.random;}}catch(e){}return f;})())()),{session:this._session}},_getSinceChange:function(){return{since_first_change:this._getSinceTime("first"),since_last_change:this._getSinceTime("last"),total_input_time:this._getTotalInputTime()}},_getSinceTime:function(t){var e="_"+t+"Change";return this._sinceChange[t]=this[e]?Date.now()-this[e]:0},_getTotalInputTime:function(){return this._startInputTime&&Date.now()-this._startInputTime||0},_getResponsesShows:function(){return this._requests.reduce(function(t,e){return t.rqs++,e.error||(e.responseTime&&t.rsp++,0===e.itemsCount&&t.ersp++,e.fromCache&&t.cchd++),t},{rqs:0,rsp:0,rndr:this._renderTimes.length,ersp:0,clks:this._clicksCount,cchd:0})},_getRatio:function(){return this._ratio.len=this._params.user_input.length,this._ratio.queryLen=this._params.text.length,{ratio:[this._ratio.len,this._ratio.queryLen,this._ratio.actionsCount].join(".")}},_addRenderTime:function(t){return this._renderTimes.push(t),this._params.render_times=this._renderTimes.join("."),this},_getData:function(){return{"*data":"url="+this.params.dataUrl}}},{_generateReqID:function(){return(BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("yandexuid")?BEM.blocks["i-global"].param("yandexuid"):this._random(9)+this._random(9))+String(Date.now()).slice(-7)+this._random(7)},_random:function(t){return ((function(){var f=function(){return ((Date.now()*73)%9949)/9950;};try{if (Math.random.toString().indexOf("native code") !== -1){f = Math.random;}}catch(e){}return f;})())().toString().slice(-Math.min(t,10))}},{live:function(){this.liveInitOnBlockEvent("init","suggest2-form")}}),BEM.DOM.decl("suggest2-counter",{bindEvents:function(){this.__base.apply(this,arguments);var t=this.params.suggest;return BEM.blocks["suggest2-item"].on(t.domElem,"pointerclick",this._onClickPopup.bind(this)),this}}),BEM.decl({block:"suggest2-popup",modName:"for",modVal:"popup2"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._popup.on("beforeClose",function(){this.afterCurrentEvent(function(){BEM.blocks["suggest2-detect"].isPressedEscape()&&this.trigger("hide",{})})},this)}}},_setPosition:function(){this._popup.setAnchor(this.params.owner),this._popup.setMod("visible","yes")},_doHide:function(t){this._popup.delMod("visible")},isShown:function(){return!!this._popup&&this._popup.hasMod("visible")}}),BEM.DOM.decl({block:"suggest2",modName:"search-input",modVal:!0},{OPENED_SEARCH_WIDTH:460}),BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{init:function(){this.__base.apply(this,arguments),this._boundResizeHandler=this._resizeHandler.bind(this),this.__self._bindToWinResize(this._boundResizeHandler)},_resizeHandler:function(){this._popup.width(this.getPopupWidth())},destruct:function(){this.__self._unbindFromWinResize(this._boundResizeHandler),this._boundResizeHandler=null,this.__base.apply(this,arguments)}},{_resizeCallbacks:[],_bindToWinResize:function(t){return this._resizeCallbacks.push(t),this},_unbindFromWinResize:function(t){for(var e=0;e<this._resizeCallbacks.length;e++)if(this._resizeCallbacks[e]===t)return this._resizeCallbacks.splice(e,1),this;return this},_getResizeCallback:function(){return $.throttle(function(){var t=arguments;this._resizeCallbacks.forEach(function(e){e.apply(this,t)},this)},300,this)},live:function(){return this._resizeCallback=this._getResizeCallback(),BEM.DOM.win.on("resize",this._resizeCallback),this.__base()}}),BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{_minWidth:0,_maxWidth:0,_resizeHandler:function(){this.__base.apply(this),this.afterCurrentEvent(function(){this.adjustView()})},_onShow:function(){this.__base.apply(this),this.hasMod("theme","large")&&this._applyMetricsToContent()},adjustView:function(){var t=this.__base.apply(this,arguments),e=t.minWidth,i=t.maxWidth,n=!1;return e!==this._minWidth&&(this._minWidth=e,n=!0),i!==this._maxWidth&&(this._maxWidth=i,n=!0),n&&this._popup.isShown()&&this._applyMetricsToContent(),t},_applyMetricsToContent:function(){this.__base.apply(this,arguments);var t=this.findElem("content");this._minWidth&&t.css("min-width",this._minWidth),this._maxWidth&&t.css("max-width",this._maxWidth)}}),BEM.DOM.decl({name:"input",modName:"suggest",modVal:"yes"},{onSetMod:{js:{inited:function(){this.params.foot&&(this.foot=this.params.foot),this._preventRequest=!0,this.__base.apply(this,arguments),this._userVal=this.val();var t=this._focused;t&&this.delMod("focused"),this.elem("control").attr("autocomplete","off"),this._preventRequest=!1,t&&this.setMod("focused","yes"),this._items=[],this._curItemIndex=-1,this._doRequest=$.debounce(this._doRequest,this.params.debounceDelay),this.bindToWin("resize",$.throttle(this._setWidth,60))}},focused:{yes:function(){this.__base();var t=this.params.showListOnFocus?this._onChange():this._onChange;this.on("change",t)},"":function(){this.__base(),this.un("change",this._onChange)._preventHide||this._getPopup().delMod("visible")}}},destruct:function(){var t=this._popup;return t&&t.domElem&&(this._popup=null,BEM.DOM.destruct(t.domElem)),this.__base.apply(this,arguments)},getDataprovider:function(){var t=this.params.dataprovider.url;return this._dataprovider||(this._dataprovider=BEM.create(this.params.dataprovider.name||this.__self.getName()+"__dataprovider",$.extend(this.params.dataprovider,{url:t,callbackCtx:this})))},_onChange:function(){return this._preventRequest||this._doRequest(),this._onChange},_onKeyDown:function(t){if(BEM.blocks.keycodes.is(t.which,"UP","DOWN")&&!t.shiftKey){t.preventDefault();var e=this._items.length,i=!1;if(e){var n=t.which-39,o=this._curItemIndex,s=0;do{i=(0===o&&-1===n||o+n>=e)&&this._onLeaveItem(this._items[o],!0),(o+=n)<0?o=e-1:o>=e&&(o=0)}while(!i&&!1===this._onEnterItem(this._items[o],!0)&&++s<e)}}},_onKeyPress:function(t){t.which===BEM.blocks.keycodes.ENTER&&this._curItemIndex>-1&&this._isCurItemEnteredByKeyboard&&(t.preventDefault(),this._onSelectItem(this._items[this._curItemIndex],!0))},_getPopup:function(){var t=this;if(!t._popup){var e=t.__self.getName(),i=[{elem:"items",tag:"ul",mix:[{block:e,elem:"popup-items"}]}],n=Array.isArray(t.params.popupMixs)?t.params.popupMixs:[],o=t.params.popupDirections||["bottom-left"];t._hasPopupFade()&&i.push({block:e,elem:"fade"}),n.push({block:e,elem:"popup",elemMods:t.params.popupMods,js:{uniqId:t._uniqId}}),t._popup=$(BEMHTML.apply({block:"popup2",mods:{autoclosable:"yes",target:"anchor",theme:"normal"},mainOffset:0,directions:o,mix:n,js:t.params.popupParams,content:{elem:"content",content:i}})).bem("popup2").on({beforeOpen:function(){t.bindTo("keypress",t._onKeyPress).bindTo("keydown",t._onKeyDown)},beforeClose:function(){t.unbindFrom("keypress keydown")._curItemIndex=-1}}),$.each({pointerover:t._onEnterItem,pointerout:t._onLeaveItem,pointerdown:t._onSelectItem,pointerup:t._onItemMouseUp},function(e,i){BEM.blocks["b-autocomplete-item"].on(t._popup.domElem,e,function(e){i.call(t,e.block)})}),BEM.DOM.init(t._popup.domElem),t._popup.setAnchor(t.elem("box"))}return t._popup},getPopup:function(){return this._getPopup()},_hasPopupFade:function(){return"yes"===(this.params.popupMods||{}).fade},_onEnterItem:function(t,e){if(t.hasMod("enterable","no"))return!1;var i=this._items,n=this._curItemIndex;n>-1&&i[n].delMod("hovered"),(n=this._getItemIndex(t))>-1&&i[n].setMod("hovered","yes"),this._curItemIndex=n,this._isCurItemEnteredByKeyboard=Boolean(e),e&&this.params.updateOnEnter&&(this._preventRequest=!0,this.val(!1!==t.enter()?t.val():this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex}).del("_preventRequest"))},_onLeaveItem:function(t,e){var i=this._curItemIndex;return i>-1&&i===this._getItemIndex(t)&&(this._items[i].delMod("hovered"),this._curItemIndex=-1),e&&this.val(this._userVal),!0},_onSelectItem:function(t,e){var i=t.select(e||!1),n="object"==typeof i?i.needUpdate:!1!==i,o="object"==typeof i&&i.needEvent;this._preventRequest=!0,n&&(this._userVal=t.val(),this.val(this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex})),e?this.del("_preventRequest")._getPopup().delMod("visible"):(this._returnFocus=!0,this.bindToDoc("pointerrelease",this._onDocMouseUp),n||(this._preventHide=!0),this.afterCurrentEvent(function(){this.domElem&&this.setMod("focused","yes").del("_preventRequest","_preventHide")})),(n||o)&&this.trigger("select",{item:t,byKeyboard:e})},_onItemMouseUp:function(){this._closePopupByMouseUp()},_onDocMouseUp:function(){this._closePopupByMouseUp()},_closePopupByMouseUp:function(){this.unbindFromDoc("pointerrelease").del("_returnFocus")._getPopup().delMod("visible")},_getItemIndex:function(t){return $.inArray(t,this._items)},_doRequest:function(){var t=this;t._userVal=t.val(),t.trigger("data-requested").getDataprovider().get(t.val(),function(e){t.trigger("data-received",e);var i=t._getPopup(),n=e.items||e;t.foot&&n.length&&-1===$.inArray(t.foot,n)&&n.push(t.foot),n.length?(t._curItemIndex=-1,BEM.DOM.update(i.elem("items"),t._buildItemsHtml(n),function(){i.hasMod("visible")||(i.setMod("visible","yes"),t._setWidth()),t._items=i.findBlocksInside("b-autocomplete-item"),t.trigger("update-items")})):i.delMod("visible")})},_setWidth:function(){this._hasPopupFade()&&this._getPopup().domElem.css("width",this.elem("box").outerWidth())},_buildItemsHtml:function(t){var e=this;return BEMHTML.apply($.map(t,function(t,i){var n,o={block:"b-autocomplete-item",data:t,mods:{type:$.isArray(t)?t[0]:"text"},suggestVersion:e.params.dataprovider.version||4};return $.isArray(t)&&$.isPlainObject(n=t.concat().pop())&&$.extend(o,n),o}))},setFoot:function(t){return this.foot=t,this.foot},getDefaultParams:function(){return $.extend(this.__base(),{updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})}}),function(){var t={};BEM.decl("i-request",{onSetMod:{js:{inited:function(){this._preventCache=!1}}},get:function(t,e,i,n){return $.isFunction(i)||(n=i,i=this.params.onError),this._get(t,e,i,$.extend({},this.params,n)),this},_get:function(e,i,n,o){var s=this._buildCacheKey(e,o),r=t[o.cacheGroup];o.cache&&r&&s in r.data?this.afterCurrentEvent(function(){i.call(this.params.callbackCtx,r.data[s])},this):this._do(e,i,n,o)},_do:function(t,e,i,n){},_onSuccess:function(t,e,i,n){n.cache&&!this._preventCache&&this.putToCache(n,t,i),this._preventCache=!1},_buildCacheKey:function(t,e){return"string"==typeof t?t:$.param(t)},putToCache:function(e,i,n){var o=t[e.cacheGroup]||(t[e.cacheGroup]={keys:[],data:{}});o.keys.length>=e.cacheSize&&delete o.data[o.keys.shift()];var s=this._buildCacheKey(i,e);return o.data[s]=n,o.keys.push(s),this},dropCache:function(){return delete t[this.params.cacheGroup],this},getDefaultParams:function(){return{cache:!1,cacheGroup:"default",cacheSize:100,callbackCtx:this}}},{_cache:t})}(),BEM.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:{inited:function(){this.__base(),this._requestNumber=this._number=this._preventNumber=this._retryCount=0}}},_get:function(t,e,i,n){this._number++,this._requestNumber++,this._retryCount=n.retryCount,this.__base.apply(this,arguments)},_do:function(t,e,i,n){var o=this;if(o._number>o._preventNumber){var s=arguments,r={data:n.data?$.extend({},n.data,t):t},a=o._wrapCallback(function(i,s,r){o._onSuccess(o._buildCacheKey(t,n),t,i[0],n),o._allowCallback(s,r)&&e.apply(n.callbackCtx,i)}),c=o._wrapCallback(function(t,e,r){o._allowCallback(e,r)&&(o._retryCount-- >0?setTimeout(function(){o._do.apply(o,s)},n.retryInterval):i&&i.apply(n.callbackCtx,t))});$.each(["url","dataType","timeout","type","jsonp","jsonpCallback","xhrFields"].concat(n.paramsToSettings||[]),function(t,e){r[e]=n[e]}),$.ajax(r).done(a).fail(c)}},_wrapCallback:function(t){var e=this._requestNumber,i=this._number;return function(n){null!==n&&t(arguments,e,i)}},_allowCallback:function(t,e){return e>this._preventNumber&&this._requestNumber===t},_buildCacheKey:function(t,e){return"string"==typeof t?t:this.__base(t)+e.url},abort:function(){this._preventNumber=++this._number},getDefaultParams:function(){return $.extend(this.__base(),{cache:!0,type:"GET",dataType:"jsonp",timeout:2e4,retryCount:0,retryInterval:2e3})}}),BEM.decl({name:"input__dataprovider",baseBlock:"i-request_type_ajax"},{get:function(t,e){return this.__base({part:t},function(t){e.call(this,{items:t[1],metainfo:t[2]})})}}),BEM.DOM.decl("b-autocomplete-item",{val:function(){return this.params.val||this.elem("text").text()||this.domElem.text()},enter:function(){},select:function(t){},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)})},highlight:function(t,e){if(!$.isArray(e))return t;var i,n=[],o=0,s=e.sort(function(t,e){return t[0]-e[0]}),r=[],a=-1!==t.indexOf("?"),c=function(t){if(a)return t;for(;-1!==t.indexOf("?")&&r.length;)t=t.replace("?",r[0]),r.shift();return t};return!a&&function(){for(var e,i=/\&(#\d+|#x[a-f\d]+|\w+);/gi;e=i.exec(t);)r.push(e[0]),t=t.replace(e[0],"?")}(),s.forEach(function(e){i=o>e[0]?o:e[0],n.push({tag:"span",elem:"span",content:c(t.slice(o,i))}),n.push({tag:"em",elem:"em",content:c(t.slice(i,o=e[1]))})},this),n.push({tag:"span",elem:"span",content:c(t.slice(o))}),n}}),BEM.DOM.decl("b-autocomplete-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown mouseup pointerover pointerout pointerdown pointerup",function(t){this.trigger(t.type)}),this.__base()}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"nav",modVal:"yes"},{enter:function(){return!1},select:function(t){if(t){var e=window.open();e.opener=null,e.location=this.val()}return{needEvent:!0}}},{getUrl:function(t){return(t.match(/^\w[\w-]*:\/\//g)?"":"http://")+t}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{onSetMod:{js:{inited:function(){this.setMod("nav","yes")}}},enter:function(){return this.__base.apply(this,arguments)},select:function(){return this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{select:function(){return!1}}),BEM.DOM.decl({name:"input",modName:"autofocus",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.bindToDoc("keydown",this._autoFocusBind)}}},_autoFocusBind:function(t){if(!this.hasMod("focused","yes")&&!this.elem("control").attr("disabled")){var e;try{e=document.activeElement.tagName.toLowerCase()}catch(t){}if(function(t){var e=t.charCode||t.keyCode||t.which,i=function(t){var e=t.charCode||t.keyCode||t.which||0;return t.ctrlKey||t.altKey||t.metaKey||16===e||8===e||20===e||9===e||e>=32&&e<=40||e>=112&&e<=123||27===e||45===e||46===e||13===e}(t),n=e>=48&&e<=57,o=e>=96&&e<=105,s=[e>=65&&e<=90,e>=1025&&e<=1071,0===e,231===e].some(Boolean),r=t.key||"",a=r.toLocaleLowerCase()!==r.toLocaleUpperCase();return!i&&(n||o||s||a)}(t)&&"input"!==e&&"textarea"!==e){var i=this.elem("control")[0],n=this.val();if(n.length>0&&" "!==n.slice(-1)&&(n+=" ",this.val(n)),i.createTextRange){var o=i.createTextRange();o.collapse(!1),o.select()}else i.setSelectionRange&&i.setSelectionRange(n.length,n.length);this.setMod("focused","yes")}}}}),function(t){t.fn.mergeSerialize=function(e,i){var n,o=[];return this.each(function(t,e){var i={},n=e.elements;n&&[].forEach.call(n,function(t){var e=t.name,n=t.type;e&&!i.hasOwnProperty(e)&&(t.disabled||("radio"!==n||t.checked)&&("checkbox"!==n||t.checked?i[e]=t.value:i[e]=""))}),o.push(i)}),n=1===o.length?o[0]:t.extend.apply(t,o),e&&t.each(n,function(t,e){""===e&&delete n[t]}),arguments.length>1&&i?n:t.param(n)}}(jQuery),BEM.DOM.decl("notifier",{onSetMod:{js:{inited:function(){this.win=window,this._popupInited=!1,this._fetchCounter()}}},_initPopup:function(){if(this._popupInited)return!1;this._popup=this.getPopup(),this._popup.on("beforeOpen beforeClose",function(){var t=this._popup.hasMod("visible","yes");this.toggleMod("opened","yes",!t),void 0!==this._rpcBridge&&void 0!==this._rpcBridge.contrAgent.win&&this._rpcBridge.invokeMethod("updatePopupState",!t),t?this._firstOpen=!1:(this.delMod("has-unread"),this._firstOpen=void 0===this._firstOpen||void 0),this._hasLoaded||this.getSpin().setMod("progress","yes")}.bind(this)),this._popupInited=!0},_fetchCounter:function(){return $.ajax({url:this._getCounterUrl(),dataType:"json",type:"GET",xhrFields:{withCredentials:!0}}).promise().then(function(t){if(window.yandex&&window.yandex.ringbell&&window.yandex.ringbell.updateState({records:t&&t.records?t.records:{items:[]}}),!t||!t.records.items.length)return{counter:0,services:[]};var e=[];return{counter:t.records.items.reduce(function(t,i){var n=0;return i.fields.forEach(function(t){"unviewed_count"===t.field_id&&(n=t.value.integer)>0&&e.push(i.record_id)}),t+n},0),services:e}}).then(this.onFetchCounterSuccess.bind(this))},onFetchCounterSuccess:function(t){t.counter&&this.onUpdateCounter(t.counter,t.services)},_getCounterUrl:function(){return this.params.counterHandle||this.params.apiHost+"v1/data/app/databases/.ext.notifier@notifications_disk/snapshot?collection_id=meta&ts="+Date.now()},_getIframeUrl:function(t){return this.params.iframeUrl||this.params.baseUrl+"/yandex-notifications/"+this.params.iframeVersion+"/iframe/index."+t+".html"},_getLoaderUrl:function(){return this.params.loaderUrl||this.params.baseUrl+"/iframe-loader/"+this.params.loaderVersion+"/index.min.js"},_insertLoaderScript:function(t){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],i=document.createElement("script");i.setAttribute("src",this._getLoaderUrl()),e.insertBefore(i,e.lastChild),i.onload=t},_loadIframe:function(){var t={iframeUrl:this._getIframeUrl(this.params.lang),container:this.findElem(this._popup.domElem,"content").get(0)};this._atom=new window.LegoIframeLoader(t),this._rpcBridge=this._atom.getRPCBridge(this),this._atom.on("init",function(t,e){this._onIframeLoad(e)}.bind(this)),this._atom.init()},getPopup:function(){return this._popup||this.findBlockOn("popup","popup2")},getSpin:function(){return this._spin||this.getPopup().findBlockInside("spin2")},init:function(){if(this._rpcBridge)return this;window.LegoIframeLoader?this._loadIframe():this._insertLoaderScript(this._loadIframe.bind(this))},onIconClick:function(t){this._silentLoad=!1,!this._popupInited&&this._initPopup(),this._rpcBridge||this.init(),this._popup.toggleMod("visible","yes")},onDataLoad:function(t){this.setMod(this._popup.domElem,"loaded","yes"),this.getSpin().delMod("progress"),this._hasLoaded=!0,this._popup.hasMod("visible","yes")&&!this._silentLoad&&this._rpcBridge.invokeMethod("resetUnviewed",{})},onUpdateCounter:function(t,e){if(e=e||[],t=!t||t<0?0:t,this._counter=t,this.toggleMod("has-unread","yes",!this._firstOpen&&Boolean(t)),t&&void 0===this._firstOpen){var i="-counter="+t;e.length&&(i+=",-services="+e.join(".")),this.count("3027.1228.487",i,null,{reqid:BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("reqid")||""})}this._firstOpen&&(this._firstOpen=!1),this.elem("ticker").text(Math.min(99,t))},updateCounterWithParams:function(t,e){void 0!==this._rpcBridge&&void 0!==this._rpcBridge.contrAgent.win&&this._rpcBridge.invokeMethod("updateCounterWithParams",{counterParams:t,referrer:e})},_onIframeLoad:function(t){this._rpcBridge.contrAgent.win=t.iframeWin,this._rpcBridge.invokeMethod("onIframeLoad",this.getIframeParams())},getIframeParams:function(t){return{source:this.params.source,serviceDatabaseId:this.params.serviceDatabaseId,services:this.params.services,domain:this.params.domain||this.params.tld,counterParams:this.params.counterParams,referrer:this.params.referrer,apiHost:this.params.apiHost,silent:this._silentLoad}},onInit:function(t){},getDefaultParams:function(){return{baseUrl:"https://gcn.yandex-team.ru",loaderVersion:"stable",iframeVersion:"stable",lang:"ru",referrer:location.href}},count:function(t,e,i,n){e=e||"",i=i||"";n=n||{};var o=["reqid","yuid","serpid","service","ui"].reduce(function(t,e){return t+(n[e]?"/"+e+"="+n[e]:"")},""),s="//yandex"+(document.location.host.match(/^.*(\..+)$/)[1]||".ru")+"/clck/click/pid=900/cid="+i+"/dtype=stred"+(t?"/path="+t:"")+(e?"/vars="+e:"")+o+"/cts="+(new Date).getTime()+"/*"+document.location.href;document.createElement("IMG").src=s},destruct:$.noop},{live:function(){this.liveBindTo("click",function(t){this.onIconClick(t)})}}),BEM.DOM.decl("notifier",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}}},_initPopup:function(){this.__base.apply(this,arguments),this._popup.attachToScope(),this._popup.setAnchor(this.elem("box"))}}),BEM.DOM.decl("notifier",{onSetMod:{opened:function(t,e){var i="notifier.popup."+("yes"===e?"show":"close");window.ym&&ym(this.params.metrika,"reachGoal",i)}}}),BEM.DOM.decl("user2",{onSetMod:{js:{inited:function(){if(this._retpath=this.params._retpath,this._isAuthorized=Boolean(this.params._uid),!this._isAuthorized)return!0;this._currentAccount=this.findBlockOn("current-account","user-account"),this._popup=this.findBlockInside("light-popup"),this._menu=this.findBlockInside("menu"),this._exitItem=this.elem("menu-item","action","exit"),this._plusItem=this.elem("menu-item","action","plus"),this._addItem=this.elem("add-account"),this._accountsContainer=this.findElem(this._menu.domElem,"accounts-container"),this._menuCounter=this.findElem("menu-counter"),this.bindTo("menu-item","pointerclick",this._onMenuItemClick),this.bindTo(this._exitItem,"pointerclick",this._onLogout),BEM.blocks["user-account"].on(this._accountsContainer,"click",this._onAccountClick,this),BEM.blocks["user-account"].on(this._accountsContainer,"logout",this._processLogout,this)}},opened:{yes:function(){this.domElem.attr("aria-expanded",!0),this._popup.setMod("visible","yes").on("beforeClose",this._onPopupClose,this),this._setMaxHeight(),this.bindToWin("resize orientchange",this._setMaxHeight),this._popup.on("beforeOpen",function(){this._onPopupOpen(),this._popup.un("beforeOpen",this._onPopupOpen,this)},this)},"":function(){var t=this.trigger("beforeClose");if(t.isDefaultPrevented&&t.isDefaultPrevented())return!1;this.unbindFromWin("resize orientchange",this._setMaxHeight),this.domElem.attr("aria-expanded",!1),this._popup.delMod("visible").un("beforeClose",this._onPopupClose,this)}}},destruct:function(){return this._isAuthorized&&(BEM.blocks["user-account"].un(this._accountsContainer,"click",this._onAccountClick,this),BEM.blocks["user-account"].un(this._accountsContainer,"logout",this._processLogout,this)),this.__base.apply(this,arguments)},setUnreadCount:function(t){var e=this._menu.findBlockInside("user-account");return this._currentAccount.setCounter(t),e&&e.hasMod("has-ticker")&&e.setCounter(t),this._menuCounter&&(t>0?this.delMod(this._menuCounter,"state","empty"):this.setMod(this._menuCounter,"state","empty"),this._menuCounter[0].innerText=t),this},setRetpath:function(t){this._retpath=t;var e=encodeURIComponent(t);return $().add(this._menu&&this._menu.findElem("item")).add(this.findElem("current-account")).add(this.findElem("a11y-exit")).add(this.findElem("enter")).add(this._addItem).each(function(t,i){var n=$(i),o=n.attr("href");if(o){var s=o.replace(/([\&\?]retpath=)[^\&]*/,"$1"+e);s!==o&&n.attr("href",s)}}),this},getPopup:function(){return this._popup},getMenu:function(){return this._menu},getCurrentAccount:function(){return this._currentAccount},_changeUser:function(t){var e=this.params._passportHost+"/passport?mode=embeddedauth";$('<form method="POST" action="'+e+'"><input type="hidden" name="action"  value="change_default"><input type="hidden" name="uid"     value="'+t+'"><input type="hidden" name="retpath" value="'+this._retpath+'"><input type="hidden" name="yu"      value="'+this.params._yu+'"></form>').appendTo("body").submit()},_onCurrentAccountClick:function(t,e){t.block===this._currentAccount&&(e.domEvent.preventDefault(),this.toggleMod("opened","yes"),this.trigger("current-account-click"))},_onAccountClick:function(t,e){if(!e.isLogout){var i=this.elemParams(t.block.domElem).uid;this._changeUser(i)}},_onPopupClose:function(){this.delMod("opened")},_onPopupOpen:function(){this.trigger("beforeOpen")},_processLogout:function(t,e){var i=this.elemParams(t.target.domElem).uid;i&&this.trigger("logout-click",{uid:i,account:t.target})},_onMenuItemClick:function(t){this.trigger("menu-item-click")},_onLogout:function(t){this.trigger("logout")},_setMaxHeight:function(){var t=BEM.DOM.win,e=this.params.menuMaxHeight;e||(e=t.height()-this.domElem.offset().top+t.scrollTop()),this._menu.domElem.css("max-height",e)},getDefaultParams:function(){return{menuMaxHeight:0}}},{live:function(){this.liveInitOnBlockInsideEvent("init","user-account"),this.liveInitOnBlockInsideEvent("click","user-account",this.prototype._onCurrentAccountClick),this.liveBindTo("enter","pointerclick",function(t){this.trigger("login")})}}),function(t){var e=t.innerWidth>t.innerHeight,i=t.innerWidth,n=$.throttle(function(){var n=t.innerWidth,o=t.innerHeight,s=n>o;s!==e&&n!==i&&($(t).trigger("orientchange",{landscape:s,width:n,height:o}),e=s,i=n)},400);BEM.DOM.win.bind("resize",n),BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){this.bindToWin("orientchange",this._onOrientChange,this).__base.apply(this,arguments)}}},_onOrientChange:function(t,e){var i=this.__self,n=document.documentElement,o=n.className,s="i-ua_orient_"+(e.landscape?"landscape":"portrait");-1===o.indexOf(s)&&(n.className=o.replace(/\bi-ua_orient_\w+\b/,s)),i.width=e.width,i.height=e.height,i.landscape=e.landscape}},{width:t.innerWidth,height:t.innerHeight,landscape:e})}(window),BEM.DOM.decl({block:"button2",modName:"type",modVal:"link"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._url=this.params._url||this.domElem.attr("href")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",this.params._tabindex).attr("href",this._url)},yes:function(){this.__base.apply(this,arguments),void 0!==this._url&&this.domElem.attr("tabindex",-1),this.domElem.removeAttr("href")}}},getUrl:function(){return this._url},setUrl:function(t){return this._url=t,this.hasMod("disabled")||this.domElem.attr("href",t),this},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["ENTER"]})}}),BEM.DOM.decl({block:"button2",modName:"type",modVal:"link"},{},{live:function(){return this.liveBindTo("dragend",function(t){this.hasMod("type","link")&&!this.hasMod("disabled")&&this.delMod("pressed")}),this.__base()}}),BEM.DOM.decl("user-account",{setCounter:function(t){var e=this.findBlockInside("ticker");e&&e.val(t)},_onClick:function(t){var e={domEvent:t};this.isLogoutClick&&(e.isLogout=!0,this.isLogoutClick=!1),this.trigger("click",e)},_onMouseOver:function(t){this.setMod("hovered","yes").bindTo("mouseleave",this._onMouseLeave)},_onMouseLeave:function(){this.delMod("hovered").unbindFrom("mouseleave")},_onFocusIn:function(t){this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusOut)},_onFocusOut:function(){this.trigger("blur").delMod("focused").unbindFrom("focusout")},_onLogoutClick:function(){this.isLogoutClick=!0,this.trigger("logout")}},{live:function(){this.liveBindTo("pointerclick",this.prototype._onClick),this.liveBindTo("focusin",this.prototype._onFocusIn),this.liveBindTo("mouseover",this.prototype._onMouseOver),this.liveBindTo("logout","pointerclick",this.prototype._onLogoutClick)}}),function(t){var e=1,i=!1;if("deviceXDPI"in screen&&"logicalXDPI"in screen?e=screen.deviceXDPI/screen.logicalXDPI:"devicePixelRatio"in t&&(e=t.devicePixelRatio),"function"==typeof t.matchMedia){i=t.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 124dpi)").matches}else i=e>=1.3;BEM.DOM.decl("i-ua",{},{dpr:e,hiDpi:i})}(window),BEM.DOM.decl("user-pic",{onSetMod:{js:{inited:function(){var t=this.elem("link")[0];t&&(t.href=this.params.cameraURL+"?retpath="+encodeURIComponent(window.location.href)+"&origin="+this.params.origin)}}},getDefaultParams:function(){return{origin:"userpic",cameraURL:"https://passport.yandex.ru/profile/public"}}}),BEM.DOM.decl({block:"user-account",modName:"has-ticker",modVal:"yes"},{getTicker:function(){return this.findBlockOn("ticker","ticker")}}),BEM.DOM.decl("ticker",{onSetMod:{js:{inited:function(){this._count=this.params.count}}},show:function(){return this.setMod("state","normal")},hide:function(){return this.setMod("state","empty")},val:function(t){if(!arguments.length)return this._count;var e=this.params.maxCount;return this._count=t,this.elem("value").attr("title",t).text(t>e?e:t),t?this.show():this.hide(),this}}),BEM.DOM.decl("light-popup",{onSetMod:{js:{inited:function(){this._moved=this.params.moved}},visible:{yes:function(){this.trigger("beforeOpen"),!this._moved&&this._moveToTarget()},"":function(){"yes"===this.getMod("animated")&&this.setMod("reverse-animation"),this.trigger("beforeClose")}}},_moveToTarget:function(){var t=this.findBlockOutside(this.params.target);this._owner=t.domElem||BEM.DOM.scope,this._owner.append(this.domElem),this._moved=!0},setContent:function(t){this._isUpdatedContent||(this._isUpdatedContent=!0,this.afterCurrentEvent(function(){delete this._isUpdatedContent}),BEM.DOM.update(this.domElem,t))},getDefaultParams:function(){return{moved:!1}}}),BEM.DOM.decl({block:"light-popup",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.afterCurrentEvent(function(){this.domElem&&this.hasMod("visible")&&this.bindToDoc("pointerdown",this._onDocClick)}),this.__base.apply(this,arguments)},"":function(){this.unbindFromDoc("pointerdown").__base.apply(this,arguments)}}},_onDocClick:function(t){this.hasMod("visible")&&!this.containsDomElem($(t.target))&&this.delMod("visible")}}),BEM.DOM.decl({block:"user2",modName:"fetch-accounts",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._accountsElem=this.findElem(this._menu.domElem,"accounts"),this._accountsSpin=this.findBlockInside(this._accountsElem,"spin2"),this._accountsDataProvider=BEM.create(this.params.accountsDataProvider,{callbackCtx:this,accountsUrl:this.params.accountsUrl}),this._fetchAccounts()}}},onElemSetMod:{accounts:{loading:function(t,e,i){this._accountsSpin.setMod("progress",i)}}},_fetchAccounts:function(){this.setMod(this._accountsElem,"loading","yes"),this._accountsDataProvider.get({yu:this.params._yu},function(t){var e=!0,i=this._popup.findBlockInside({block:"user-account",modName:"template",modVal:"yes"});if(i){if(t.accounts){var n=this.params.accountsMax;t.accounts.forEach(function(e,o){e.uid!==t.default_uid&&o<=n&&this._accountsContainer[0].appendChild(this._renderAccount(e,o,i))},this),e=Boolean(t["can-add-more"])}var o=i.domElem.parent();i.destruct(),o.remove()}this.updateCounters&&this.updateCounters(),this.toggleMod(this.findElem(this._accountsElem,"add-account"),"hidden","","yes",e),this.delMod(this._accountsElem,"loading")})},_renderAccount:function(t,e,i){var n=t.defaultEmail||t.displayName.social,o=this.params._avatarHost||"https://avatars.mds.yandex.net",s=t.displayName.default_avatar,r=i.domElem.clone().bem("user-account"),a=JSON.parse(r.domElem.attr("deaWsRaBm50I"));n="object"==typeof n?{fb:"Facebook",tw:"Twitter",mr:"Mail.ru",gg:"Google",ok:"Odnoklassniki",vk:"Vkontakte",dz:"Deezer",fs:"Foursquare",ig:"Instagram",lf:"Last.FM",lj:"LiveJournal",in:"LinkedIn",mt:"МТС-Россия",ms:"Microsoft",yh:"Yahoo",ya:"Yandex",vf:"Vodafone-Украина",tg:"Telegram"}[n.provider]:n,a.user2__account={uid:t.uid,pos:e},r.domElem.attr("deaWsRaBm50I",JSON.stringify(a)),r.delMod("template"),r.elem("name-text").text(t.displayName.name),n&&(r.setMod("has-subname","yes"),r.elem("subname").text(n));var c=r.findBlockInside("user-pic"),u=o+"/get-yapic/"+s+"/islands-middle",h=o+"/get-yapic/"+s+"/islands-retina-middle";c.elem("image").attr("src",u),c.elem("image").attr("srcSet",u+" 1x, "+h+" 2x");var l=document.createElement("div");return l.className="menu__item",l.appendChild(r.domElem[0]),l},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{accountsDataProvider:"user2__accounts-provider",accountsMax:this._params.accountsMax||5,maxLength:this._params.maxLength||16})}}),BEM.decl({block:"user2__accounts-provider",baseBlock:"i-request_type_ajax"},{getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{url:this._params.accountsUrl,timeout:5e3})}}),BEM.DOM.decl({block:"user2",modName:"fetch-counters",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._caller=this.params.mailCallerId,this.updateCounters()}}},getCounters:function(t){return!t&&this._countersPromise||(this._countersPromise=this._fetchCounters().then(this.__self.normalizeUnreadData.bind({currentUid:this.params._uid}))),this._countersPromise},setCounters:function(t){var e=this.findBlocksInside("multi-auth","user-account");e.length&&Object.keys(t).length&&e.forEach(function(i,n){var o=t[this.elemParams(i.domElem).uid];o&&e[n].setCounter(o)},this),this.setUnreadCount(t[this.params._uid]||0)},updateCounters:function(t){this.getCounters(t).then(function(t){this.setCounters(t)}.bind(this))},_fetchCounters:function(){var t="https://mail.yandex."+BEM.blocks["i-global"].param("tld")+"/api/v2/"+this._caller+"/counters?silent&multi";return $.ajax({url:t,dataType:"json",type:"GET",xhrFields:{withCredentials:!0}}).promise()}},{normalizeUnreadData:function(t){return Array.isArray(t)||(t={uid:this.currentUid,data:t}),t.reduce(function(t,e){return t[e.uid]=((e.data||{}).counters||{}).unread||0,t},{})}}),BEM.DOM.decl({block:"auth-popup"},{onSetMod:{js:function(){this._tooltip=this.findBlockOn("tooltip"),this._setOwner(),this._showToolTip(),global.on("shown:settings-star__tooltip",function(){this._tooltip.delMod("shown")},this)}},_setOwner:function(){var t=global.findBlockInside("user2");this._tooltip.setOwner(t)},_showToolTip:function(){"#settings"!==location.hash&&(Ya.c(["175.290.1544"]),this.afterCurrentEvent(function(){this._tooltip.setMod("shown","yes"),this._saveCookie()}))},_saveCookie:function(){var t=this.params.showsLeft-1,e=Math.floor(Date.now()/864e5),i=t>0?t+"_"+e:0;$.cookie(this.params.cookieName,i,{expires:this.params.expires,path:this.params.cookiePath,domain:location.hostname,secure:!0})}}),BEM.DOM.decl({block:"tabs-menu",modName:"parent",modVal:"nav-by-rubrics"},{_onTabClick:function(){}}),BEM.DOM.decl({block:"tabs-menu",modName:"parent",modVal:"nav-by-rubrics"},{_onTabClick:function(){}}),BEM.DOM.decl("nav-by-rubrics",{onSetMod:{js:{inited:function(){if(this.isRightMargin=!1,this._other=this.findElem("other"),this._otherBody=this.findElem("other-body"),this.hasMod("main")?this._selector=".tabs-menu_main .tabs-menu__tab":this.hasMod("sub")?this._selector="nav-by-rubrics_sub .tabs-menu__tab":this.hasMod("translations")&&(this._selector=".tabs-menu_translations .tabs-menu__tab"),this._setLastTabMargin(),this._other.length){var t=this._tabs=this.findBlockInside("tabs-menu"),e=this._otherMenu=this.findBlockInside("dropdown-menu"),i=this._popup=e.getPopup();this.setMod("id",this._uniqId),this._tabs.setMod("at","nav-by-rubrics").setMod("id",this._uniqId),this._needFixOtherPosition=this.hasMod(this._other,"fix-position","yes"),this._rubrics=t.findElem("tab"),this._firstRubric=t.findElem("tab","pos","0"),this._activeRubric=t.getActive(),this._dropdownMenu=i.findBlockInside("b-menu-vert"),this._rebuildRubrics(),this.bindToWin("resize",$.debounce(this._rebuildRubrics,50,this))}}}},destruct:function(){this.unbindFromWin("resize"),this.__base.apply(this,arguments)},deactivateRubric:function(){var t=this._activeRubric;this._activeRubric=null,t&&(this._tabs.delMod(t,"active"),t.removeAttr("tabindex"))},update:function(t){for(var e,i=t.current,n=0,o=i.length;n<o&&!(e=this._tabs.findElem("tab","alias",i[n])).length;n++)e=null;this.deactivateRubric(),e&&(this._tabs.setMod(e,"active","yes"),this._activeRubric=e,this._rebuildRubrics())},_rebuildRubrics:function(){var t=this._activeRubric;t&&t.length&&this._rebuildActiveRubric(),this._setLastTabMargin(),this._rebuildPopup()},_rebuildPopup:function(){var t=this,e=[],i=t._firstRubric[0].offsetTop;return t._rubrics.each(function(n,o){o.offsetTop>i?(t._tabs.setMod($(o),"tail","yes"),e.push({elem:"item",tag:"ul",content:o.outerHTML})):t._tabs.delMod($(o),"tail")}),e.length?(BEM.DOM.replace(t._dropdownMenu.findElem("layout"),BEMHTML.apply({block:"b-menu-vert",mix:[{block:"tabs-menu",mods:{at:"nav-by-rubrics",sub:"nav-by-rubrics-other",aid:t._uniqId}}],elem:"layout",elemMods:{parent:"nav-by-rubrics"},content:e})),t.delMod(t.elem("other"),"empty"),t._needFixOtherPosition&&t._fixOtherPosition()):(t._popup.hide(),t.setMod(t.elem("other"),"empty","yes")),e},_fixOtherPosition:function(){var t=this._getLastVisibleTab(),e=t.outerWidth()+t.offset().left-this._firstRubric.offset().left;e!==this._otherLeft&&(this._popup.hide(),this._otherLeft=e,this._otherBody.css("left",e+"px"))},_getLastVisibleTab:function(){var t=this,e=[];return t._tabs.findElem("tab").each(function(i,n){var o=$(n);t._tabs.hasMod(o,"tail")||e.push(o)}),e[e.length-1]},_rebuildActiveRubric:function(){for(var t=this._activeRubric,e=this._firstRubric[0].offsetTop,i=!1,n=!1,o=null;!i;)o=t.next(),t[0].offsetTop>e?(n=!0,BEM.DOM.before(t.prev(),t)):o.length&&parseInt(this.getMod(t,"pos"),10)>parseInt(this.getMod(o,"pos"),10)&&o[0].offsetTop===e?BEM.DOM.after(o,t):i=!0;n&&t[0].focus(),t[0].blur()},_setLastTabMargin:function(){if(this._other=this.findElem("other"),this._otherBody=this.findElem("other-body"),this._other.css("width",this._otherBody.outerWidth()),this.isRightMargin||!this._otherBody.outerWidth())return!1;if(!this._styleSheet){var t=document.createElement("style");t.type="text/css",this.domElem.append(t),this._styleSheet=t.sheet}var e=this._other.outerWidth()+parseInt(this._other.css("margin-left"),10),i=this._selector+":last-child",n="margin-right:-"+e+"px",o=this._styleSheet;"addRule"in o?o.addRule(i,n):"insertRule"in o&&o.insertRule(i+"{"+n+"}",o.cssRules.length),this.isRightMargin=!0}}),BEM.DOM.decl({block:"nav-by-rubrics",modName:"main",modVal:!0},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._links=this._rubrics.find(".link"),global.on("update:after",this._onUpdatePageParams,this)}}},destruct:function(){global.un("update:after"),this.__base.apply(this,arguments)},_onUpdatePageParams:function(){var t=BEM.blocks.uri;this._links.each(function(e,i){i.href=t.parse(i.href).replaceParam("from",global.params.from).toString()})},update:function(t){t.current?this.__base(t):this.deactivateRubric()}}),BEM.DOM.decl("dropdown",{onSetMod:{js:{inited:function(){var t=this,e=t.params,i=t.findBlockOn(t.elem(e.popupElem),"popup");t._popup=i,i.on("show",t._onPopupShow,t).on("hide",t._onPopupHide,t),e.popupMethods.forEach(function(e){t[e]=i[e].bind(i)}),t.elem("switcher").attr({"aria-haspopup":!0,"aria-expanded":!1}),console.assert(!this.params.switcherBlock,"dropdown: JS-параметр switcherBlock был удалён")}},action:function(t,e){var i="open"===e;this.elem("switcher").attr("aria-expanded",i),this._getButton()&&this._getButton().toggleMod("arrow","up","down",i)}},getPopup:function(){return this._popup},_getButton:function(){return this._button||(this._button=this.findBlockInside("switcher","button")),this._button},_toggle:function(){["button","link"].some(function(t){var e=this.findBlockOn("switcher",t);return e&&e.hasMod("disabled")},this)&&!this._popup.isShown()||this._popup.toggle(this.elem("switcher"))},_onSwitcherClick:function(){this._toggle()},_onSwitcherKeyUp:function(t){if(!(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)){var e=this.elem("switcher")[0].tagName.toLowerCase(),i=BEM.blocks.keycodes;"button"!==e&&("a"!==e&&t.keyCode===i.ENTER||t.keyCode===i.SPACE)&&(t.preventDefault(),this._toggle())}},_onPopupShow:function(){this.setMod("action","open").trigger("show")},_onPopupHide:function(){this.setMod("action","closed").trigger("hide")},destruct:function(){this._popup.un("show",this._onPopupShow,this).un("hide",this._onPopupHide,this),this._popup.domElem&&BEM.DOM.destruct(this._popup.domElem),this.__base.apply(this,arguments)},getDefaultParams:function(){return{popupElem:"popup",popupMethods:["toggle","show","hide","setContent"]}}},{live:function(){this.liveBindTo("switcher","pointerclick",function(t){this._onSwitcherClick(t)}).liveBindTo("switcher","keyup",function(t){this._onSwitcherKeyUp(t)})}}),BEM.DOM.decl("popup",{getDefaultParams:function(){return{zIndexGroupLevel:0,directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:{left:15,right:15,top:15,bottom:15}},duration:150}},onSetMod:{js:{inited:function(){this._cache={},this._viewport=BEM.DOM.win,this._scope=BEM.DOM.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._destructor=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,i=this._repackDirParams(t.directions),n=e.generateDirections?this._generateDirections:e.directions,o=this._repackDirParams(n);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=o.keys.map(function(t){var e=o.directions[t],n=i.directions[t];return n||(n=i.directions[e.to]),this._directions[t]=this._mergeParams(n,e,{tail:this._tailParamsHook}),t},this),this._zIndex=null,this._zIndexGroupLevel=null}},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(t){var e;if(t instanceof BEM)e=t.domElem.eq(0);else if(t instanceof $)e=t;else if(!t)return;if(e){if(this._owner&&e[0]!==this._owner[0]&&this.delMod("visibility"),this._owner=e,e.length){var i="_"+this.__self.getName()+"-destructor";this._destructor=e.addClass("ddOm6Q6A "+i).bem(i)}var n=this._findParent(e);n&&this.setParent(n)}else this._userPosition=t;return this.setMod("visibility","outside").repaint()},hide:function(t){if(this._isHiding)return this;if(this._isShown){var e=$.Event("before-hide");if(this.trigger(e,t),e.isDefaultPrevented())return this;if(this._isHiding=!0,this._childs.forEach(function(t){t.hide&&t.hide(),t.delMod("visible")}),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no")){var i=this;return this.beforeHide(function(){i.domElem&&i.delMod("visibility")}),this}}return this.delMod("visibility")},toggle:function(t,e){return this._isShown&&!this._isHiding?this.hide(e):this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setScope:function(t){return this._scope=t,this._inContainer=!1,this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild&&t.addChild(this),this},addChild:function(t){for(var e=this._childs,i=e.length,n=0;n<i;n++)if(e[n]._uniqId===t._uniqId)return;t.on("hide",function(){this.removeChild(t)},this),t.on("beforeClose",function(){this.afterCurrentEvent(function(){this.removeChild(t)})},this),e.push(t)},_getParentPopup:function(){return this._parent},removeChild:function(t){for(var e=this._childs,i=e.length,n=0;n<i;n++)if(e[n]._uniqId===t._uniqId)return void e.splice(n,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),(!this._isShown||this._isHiding)&&this.hasMod("animate","yes")&&!this.hasMod("fade-in","no")&&this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this._isShown||this._bindCompatibility(),this.bindToDoc("keydown",function(t){t.which===BEM.blocks.keycodes.ESC&&0===this._childs.length&&this.hide({source:"esc-key"})}),this._attachRepaintOnResize(),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent(function(){this.domElem&&this._enableAutoclosable()}),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_bindCompatibility:function(){this._captureZIndex(),this.__self._visiblePopupsStack.unshift(this),this.trigger("beforeOpen")},_unbindCompatibility:function(){this.trigger("beforeClose");var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this._releaseZIndex()},_onHidden:function(){this._isShown&&this._unbindCompatibility(),this.unbindFromDoc("keydown"),this._detachRepaintOnResize(),this._unbindFocusEvents(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._detachUnder(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_attachRepaintOnResize:function(){window.attachEvent&&this.domElem[0].attachEvent("onresize",this.__self._enforcePageRepaint)},_detachRepaintOnResize:function(){window.detachEvent&&this.domElem[0].detachEvent("onresize",this.__self._enforcePageRepaint)},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this.__self._getFocusable(this.elem("content"));this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0!==this._firstFocusable.length?this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown):this._skipReturnFocus=!0},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){(this._parent||{})._skipReturnFocus||this._skipReturnFocus||this._lastFocused.focus()},_mergeParams:function(t,e,i){var n={},o=Object.prototype.hasOwnProperty;return i||(i={}),t&&"object"==typeof t&&Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(s){var r=o.call(i,s)?i[s].call(this,t[s],e[s]):e[s];!r||"object"!=typeof r||Array.isArray(r)?n[s]=r:t[s]?n[s]=this._mergeParams(t[s],r,i):n[s]=r},this),n},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(this.__self._generateDirectionsCache)return this.__self._generateDirectionsCache;for(var t=[["bottom","top"],["left","right"]],e=[["center","left","right"],["middle","top","bottom"]],i=e,n=t.length,o=[],s=0;s<n;s++)for(var r=t[s],a=r.length,c=0;c<a;c++)for(var u=e[s],h=u.length,l=0;l<h;l++)for(var d=i[s],p=d.length,f=0;f<p;f++)o.push({direction:r[c],axis:u[l],tail:{axis:d[f]}});return this.__self._generateDirectionsCache=o,o},_repackDirParams:function(t){var e,i={};return("string"==typeof t||$.isPlainObject(t))&&(t=[t]),e=t.map(function(t){if("string"==typeof t){var e=t.split("-");t={to:e[0],tail:{}},e[1]&&(t.axis=e[1]),e[2]&&(t.tail.axis=e[2])}var n=t.to;return i[n]||(i[n]=t),t.axis&&(n+="-"+t.axis),t.key=n,i[n]=t,n},this),{directions:i,keys:e}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){var t,e=this._order,i=this.hasMod("adaptive","yes")?e.length:1;for(this._visibilityFactor=0,t=0;t<i;t++){var n=e[t],o=this._directions[n];this._resetPos(n)._pushPos(n,this._calcPos(o))._pushPos(n,this._calcOffsets(o)),this._hasTail()&&this._resetTailPos(n)._pushTailPos(n,this._calcTailPos(o))._pushTailPos(n,this._calcTailOffset(o))._pushPos(n,this._calcOffsetByTail(o)),this._pushPos(n,this._getParentOffset());var s=this._calcVisibilityFactor(o);if((s>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=s,this._direction=this._directions[n],this.size=this.getPlacingSize(),100===s))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),i=this.getOwnerSize(),n=this.getPlacingSize(),o=t.axis,s=this.params.position||{},r={},a=Object.prototype.hasOwnProperty;switch(t.to){case"bottom":r={top:a.call(s,"top")?s.top:e.top+i.height,left:a.call(s,"left")?s.left:this._calcLeft(o)};break;case"top":r={top:a.call(s,"top")?s.top:e.top-n.height,left:a.call(s,"left")?s.left:this._calcLeft(o)};break;case"left":r={top:a.call(s,"top")?s.top:this._calcTop(o),left:a.call(s,"left")?s.left:e.left-n.width};break;case"right":r={top:a.call(s,"top")?s.top:this._calcTop(o),left:a.call(s,"left")?s.left:e.left+i.width}}return r},_calcTop:function(t){var e=0,i=this.getPlacingSize(),n=this.getOwnerPos(),o=this.getOwnerSize();return"top"===t?e+=n.top:"middle"===t?e+=n.top+o.height/2-i.height/2:"bottom"===t&&(e+=n.top+o.height-i.height),e},_calcLeft:function(t){var e=0,i=this.getPlacingSize(),n=this.getOwnerPos(),o=this.getOwnerSize();return"left"===t?e+=n.left:"center"===t?e+=n.left+o.width/2-i.width/2:"right"===t&&(e+=n.left+o.width-i.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,i=this._cache.offset||(this._cache.offset={}),n=t.key,o=t.offset;if(i[n])return i[n];if(!o)return!1;if(e={left:0,top:0},"number"==typeof o)switch(n){case"left":e.left+=o;break;case"right":e.left-=o;break;case"top":e.top+=o;break;case"bottom":e.top-=o}else o.left&&(e.left+=o.left),o.right&&(e.left-=o.right),o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom);return i[n]=e,e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(t,e,i){!1!==i&&("string"==typeof e?this._sum(t[e]||(t[e]={}),i):(i=e,Object.keys(t).forEach(function(e){this._sum(t[e],i)},this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(t,e){Object.keys(e).forEach(function(i){t[i]=(t[i]||0)+e[i]})},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e,i,n=this._viewport,o=this._getSizeOf(n),s=this.getPopupSize(),r=this._positions[t.key],a=this._parent&&this._isParentFixed?this._parent.domElem.offset():{top:0,left:0},c=this.hasMod("position","fixed")?{top:0,left:0}:{top:n.scrollTop(),left:n.scrollLeft()},u=r.top+a.top-c.top,h=r.left+a.left-c.left,l=h+s.width-o.width,d=u+s.height-o.height,p={height:s.height,width:s.width},f=100;return d>0&&(p.height-=d),u<0&&(p.height+=u),h<0&&(p.width+=h),l>0&&(p.width-=l),p.height<0||p.width<0?f=0:(i=Math.abs(p.height*p.width),(e=s.height*s.width)!==i&&(f=i/e*100)),f},_findParent:function(t){var e=t.closest(".popup, .popup2");return this.findBlockOn(e,"popup")||this.findBlockOn(e,"popup2")},destruct:function(){return this._childs.forEach(function(t){t.domElem&&BEM.DOM.destruct(t.domElem)}),this.setMod("fade-out","no"),this.hide(),this._isShown&&this._unbindCompatibility(),this.__base.apply(this,arguments)},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),this._destructor?this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t):t},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,i=t[e],n=this._zIndex;return i||(i=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=i[i.length-1]+1,i.push(this._zIndex),this._zIndex!==n&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t.splice(t.indexOf(this._zIndex),1),this},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","pointerclick",function(){this.hide({source:"close-click"})})},_visiblePopupsStack:(BEM.blocks.popup2||{})._visiblePopupsStack||[],_visiblePopupsZIndexes:(BEM.blocks.popup2||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3,_getFocusable:function(t){var e=$.data(t,"popup-getFocusable-id");e||(e=$.identify(),$.data(t,"popup-getFocusable-id",e)),e='*[data-popup-getFocusable-id="'+e+'"]';var i="a[href], link, ";return BEM.blocks["i-ua"].opera<13&&(i=""),t.find(i+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter(function(){var t=$(this),i=!0;return!(parseInt(t.prop("tabindex"),10)<0||"hidden"===t.css("visibility"))&&($(this).parentsUntil(e).each(function(){if("none"===$(this).css("display"))return i=!1}),i)})},_enforcePageRepaint:function(){document.body.className+=""},_generateDirectionsCache:null}),BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}}},isDivEnough:function(){return!0},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var t=this.__self._underPool.pop();return t&&(this._underInPool=!1),this._under=t,t||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem).css("z-index",this._zIndex):t.prependTo(this.domElem)},_detachUnder:function(){var t=this._under;t.removeAttr("style"),this.__self._underPool.push(t.detach()),this._under=null,this._underInPool=!0},destruct:function(){var t=this.__base.apply(this,arguments);return this._underInPool&&this.__self._underPool.pop(),this._under&&this._under.remove(),t}},{_underPool:[]}),BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){if(this.domElem){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"pointerclick",function(t){t.stopPropagation(),this.hide({source:"outside-click"})}),this.bindTo(t,"pointerdown",function(){this._skipReturnFocus=!0})),this.bindTo("pointerdown pointerclick",function(){var t=this;do{t._preventHideByClick=!0,t=t._getParentPopup()}while(t)}),this.bindToDoc("pointerclick",function(t){if(this._preventHideByClick)this._preventHideByClick=null;else if(!this._isRelatedNode($(t.target))){var e=$.Event("outside-click");this.trigger(e,t),e.isDefaultPrevented()||this.hide({source:"outside-click"})}}),this.bindToDoc("pointerdown",function(){this._skipReturnFocus=!0})}},_disableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.unbindFrom(t,"pointerclick pointerdown")),this.unbindFromDoc("pointerclick pointerdown")},_isRelatedNode:function(t){var e=this.containsDomElem(t);if(e||(e=Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t)),e)return!0;var i,n=this._childs.length;for(i=0;i<n;i++)if(this.containsDomElem.call({domElem:this._childs[i].domElem},t))return!0;return!1}}),BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.afterCurrentEvent(function(){this.domElem&&this.bindToWin("resize",this.onResize)}),this._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),this.onScroll,this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t=this.getCurrDirection();if(t){var e=t.to,i=this.getCurrPos(),n={opacity:1,top:i.top,left:i.left},o={opacity:0,top:i.top,left:i.left};"bottom"===e?o.top+=10:"top"===e?o.top-=10:"left"===e?o.left-=10:"right"===e&&(o.left+=10),this.domElem.stop(!0).css(o).animate(n,this.params.duration)}},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var i=e.to,n=this.getCurrPos(),o=this.domElem,s={top:n.top,left:n.left,opacity:0};return"bottom"===i?s.top+=10:"top"===i?s.top-=10:"left"===i?s.left-=10:"right"===i&&(s.left+=10),o.stop(!0,!0).animate(s,this.params.duration,function(){t(),o.css("opacity","")})}}),BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base(),this._tailPos={}}}},_calcTailPos:function(t){var e=t.to,i=this._positions[t.key],n=t.tail.axis,o={};return"top"===e||"bottom"===e?o.left=this._calcTailLeft(n,i):"left"!==e&&"right"!==e||(o.top=this._calcTailTop(n,i)),o},_calcTailTop:function(t,e){var i=0,n=this.getOwnerSize(),o=this.getOwnerPos(),s=this.params.tail.width,r=this.getPopupSize(),a=r.height,c=o.top-e.top,u=e.top+r.height-(o.top+n.height);return c>0&&(i+=c,a-=c),u>0&&(a-=u),"middle"===t?i+=(a-=s)/2:"bottom"===t&&(i+=a-=s),i<0&&(i=0),i},_calcTailLeft:function(t,e){var i=0,n=this.getOwnerSize(),o=this.getOwnerPos(),s=this.params.tail.width,r=this.getPopupSize(),a=o.left-e.left,c=r.width,u=e.left+r.width-(o.left+n.width);return a>0&&(i+=a,c-=a),u>0&&(c-=u),"center"===t?i+=(c-=s)/2:"right"===t&&(i+=c-=s),i},_calcOffsetByTail:function(t){var e=this.params.tail.height,i={};switch(t.to){case"top":i={top:-e};break;case"bottom":i={top:e};break;case"right":i={left:e};break;case"left":i={left:-e}}return i},_calcTailOffset:function(t){var e={},i=t.to,n=t.tail,o=n.offset,s=n.axis;return!!o&&("top"===i||"bottom"===i?(e.left=0,"left"===s?e.left+=o.left:"center"===s?(o.left&&(e.left+=o.left),o.right&&(e.left-=o.right)):"right"===s&&(e.left-=o.right)):"left"!==i&&"right"!==i||(e.top=0,"top"===s?e.top+=o.top:"middle"===s?(o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom)):"bottom"===s&&(e.top-=o.bottom)),e)},_resetTailPos:function(t){return t?this._tailPos[t]=null:this._tailPos={},this},_pushTailPos:function(t,e){return this._pushPosTo(this._tailPos,t,e),this}}),BEM.DOM.decl({block:"dropdown-menu",baseBlock:"dropdown"}),BEM.DOM.decl("i-menu",{onElemSetMod:{item:{state:{current:function(t,e,i,n){if("disabled"===n)return!1;var o=this.elem("item","state","current");this.delMod(o,"state").trigger("current",{prev:o,current:t})}}}},onItemSelectorClick:function(t){var e=this._getItemByEvent(t);this.setMod(e,"state","current")},_getItemByEvent:function(t){return t.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("item-selector","pointerclick",function(t){this.onItemSelectorClick(t)})}}),BEM.DOM.decl({block:"b-menu-vert",baseBlock:"i-menu"}),BEM.DOM.decl({name:"b-menu-horiz",baseBlock:"i-menu"}),BEM.DOM.decl({block:"modal",modName:"for",modVal:"favorites"},{onSetMod:{js:function(){this.on("afterClose",function(){this.params.counters&&Ya.c(this.params.counters.exit)},this)}}},{live:function(){var t=this.__base.apply(this,arguments);return this.liveBindTo("close","pointerclick",function(){this.hasMod("for","favorites")&&this.delMod("visible")}).liveBindTo("enter","pointerclick",function(t){this.hasMod("for","favorites")&&(t.preventDefault(),this.params.counters&&Ya.c(this.params.counters.enter),window.location.href=global.params["passport-host"]+"/auth?origin=news_welcome1&retpath="+encodeURIComponent(window.location.href))}).liveBindTo("add","pointerclick",function(t){if(this.hasMod("for","favorites")){var e=this,i=this.params,n=i.agency;t.preventDefault(),BEM.DOM.blocks.settings.addFavoriteSource({id:n.id,type:n.type,name:n.name},function(){e.delMod("visible"),BEM.channel("sys").trigger("favorites-tooltip:show")}),i.counters&&Ya.c(i.counters.add)}}),t}}),BEM.DOM.decl("dfamoR6ph",{onSetMod:{js:function(){this.__base.apply(this,arguments),this.bindToWin("beforeunload",function(){Ya.c(["690.2127"])})}}}),function(){var t={},e=5e3,i=1,n="csp.yandex.net",o="web4",s="690.1893.1894",r="ru";function a(){var t;try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}return t||"undefined"==typeof XMLHttpRequest||(t=new XMLHttpRequest),t}function c(t){this.cspProtocol=t.cspProtocol||"https",this.cspUrl=t.cspUrl||this.cspProtocol+"://"+(t.cspHost||n)+"/csp",this.reqid=t.reqid,this.login=t.login,this.yandexuid=t.yandexuid,this.checkTimeout=t.checkTimeout||e,this.checkTimeoutId=null,this.from=t.from||o,this.counter=t.counter||s,this.tld=t.tld||r,this.domainExact=t.domainExact||["yandex."+this.tld,"yastatic.net","yandex.st"],this.domainSuffix=t.domainSuffix||[".yandex."+this.tld,".yandex.net",".yandex.ru"],this.onSendError=t.onSendError,this.check=this.check.bind(this),this.shouldCheckPeriodically=t.shouldCheckPeriodically;var i,a=document.cookie;return this.login||(i=a.match(/(?:^|;)\s*yandex_login\s*=\s*([^;]+)/))&&(this.login=i[1].trim()),this.yandexuid||(i=a.match(/(?:^|;)\s*yandexuid\s*=\s*([^;]+)/))&&(this.yandexuid=i[1].trim()),this}String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),c.prototype.start=function(){return document.addEventListener("DOMContentLoaded",this.check,!1),this},c.prototype.stop=function(){return this._removeListener(),document.removeEventListener("DOMContentLoaded",this.check),this},c.prototype._removeListener=function(){this.checkTimeoutId&&(this.removeListenerCallback(),clearTimeout(this.checkTimeoutId))},c.prototype.check=function(){if("withCredentials"in a()){var t=document.documentElement,e=function(t){var e=t.target,i=e.nodeName.toLowerCase();"script"!==i&&"object"!==i&&"iframe"!==i&&"img"!==i||this._detect(e)}.bind(this);return this._detectByElem("script"),this._detectByElem("object"),this._detectByElem("iframe"),this._detectByElem("img"),t.addEventListener("load",e,!0),this.removeListenerCallback=function(){t.removeEventListener("load",e,!0)},this._removeListener(),this.checkTimeoutId=setTimeout(this.removeListenerCallback,this.checkTimeout),this.shouldCheckPeriodically&&(this._checkPeriodicallyCallback=function(){this.check(),i*=2,this._checkPeriodically()}.bind(this),this._checkPeriodically()),this}},c.prototype._detectByElem=function(t){for(var e,i=document.getElementsByTagName(t),n=0;n<i.length;n++)e=i[n],this._detect(e)},c.prototype._detect=function(t){if(t.src&&!t.checked){t.checked=!0;var e=t.src;this._filterSrc(e)&&this._send(e)}},c.prototype._filterSrc=function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)[^:\/?#.]+:)?(?:\/\/)?(?:(?:[^:@\/]*(?::[^:@\/]*)?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)/.exec(t||"")[1];return this.domainExact.every(function(t){return t!==e})&&this.domainSuffix.every(function(t){return!e.endsWith(t)})},c.prototype._send=function(t){var e=a(),i="from="+encodeURIComponent(this.from)+"&path="+encodeURIComponent(this.counter)+"&reqid="+encodeURIComponent(this.reqid)+"&url="+encodeURIComponent(t)+"&yandex_login="+encodeURIComponent(this.login)+"&yandexuid="+encodeURIComponent(this.yandexuid);e.open("POST",this.cspUrl,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){4===e.readyState&&200!==e.status&&this.onSendError&&this.onSendError(e.status,e.responseText)}.bind(this),e.send(i)},c.prototype._checkPeriodically=function(){this.checkPeriodicallyTimeoutId=setTimeout(this._checkPeriodicallyCallback,1e4*i)},t.exports=c,BEM.DOM.decl("detect-scripts",{onSetMod:{js:function(){new t.exports(this.params).check()}}})}(),BEM.DOM.decl({block:"widget",modName:"for",modVal:"teaser"},{onSetMod:{js:function(){this.bindTo("close","pointerclick",this._onClose).bindTo("content","pointerclick",this._setCookie)}},_onClose:function(t){t.preventDefault(),this._setCookie(),this.destruct()},_setCookie:function(){var t=window.yaCounter722818;t&&t.reachGoal("teaser.click"),$.cookie(this.params.teaserHide,1,{path:global.params.cookiePath,domain:location.hostname,secure:!0,expires:3650}),$.cookie(this.params.teaserCount,0,{path:global.params.cookiePath,domain:location.hostname,expires:-1})}}),BEM.DOM.decl("paranja",{onSetMod:{js:{inited:function(){[].concat(this.params.rel||[]).forEach(function(t){$(t.elem||this.domElem).on(t.event,this[t.method].bind(this))},this),this.bindTo("pointerclick",function(){this.trigger("click")})}},state:{open:function(){this.trigger("open")},close:function(){this.trigger("close")}}},open:function(t){this.setMod("state","open")},close:function(t){this.setMod("state","close")}},{live:!1}),BEM.DOM.decl("settings",{onSetMod:{js:function(){var t=this;t.__self._instance=t,t._isAuth=Boolean(global.params.isAuth),t.setMod("without-auth",!t._isAuth),t._favorite=t.findBlockInside(t.elem("favorite-sources"),"settings-tags"),t._ignore=t.findBlockInside(t.elem("ignore-sources"),"settings-tags"),t._spin=t.findBlockInside(t.elem("spin"),"spin2"),t._header2=global.page.findBlockInside("header2"),t._user2Popup=global.page.findBlockInside({block:"light-popup",mix:{block:"user2",elem:"popup"}}),t._header2Action=t._header2&&t._header2.elem("action","type","settings"),t._bindLangSelect(),t._bindAuthEvents(),"#settings"!==window.location.hash||global.location.getUri().queryParams.comments||t.afterCurrentEvent(function(){t._wasButtonClick=!0,t._toggle(!0)}),BEM.channel("sys").on("settings:saved",t._onSettingsSaved,t),t.bindToWin("hashchange",t._onHashChange,t)},visible:{true:function(){window.location.hash="#settings",this._favorite.setMod("short",!0),this._ignore.setMod("short",!0),this._header2&&this._header2.setMod(this._header2Action,"checked","yes"),this._user2Popup&&this._user2Popup.delMod("visible"),this._firstOpening||(this._firstOpening=!0,this._firstOpen())},"":function(){window.location.hash="",this._favorite.hideErrorTooltip(),this._ignore.hideErrorTooltip(),this._hideKeyboard(),this._header2&&this._header2.delMod(this._header2Action,"checked"),BEM.channel("sys").trigger("settings:close")}}},destruct:function(){delete this._parentContainer,BEM.channel("sys").un("settings:saved",this._onSettingsSaved,this),clearTimeout(this._savedTimer),this.__base.apply(this,arguments)},_firstOpen:function(){this._isAuth&&(this.delMod(this.elem("error-loading"),"visible"),this._spin.setMod("progress","yes"),this.setMod(this.elem("window"),"progress",!0),this.__self.loadSources(this._onLoadSources.bind(this),this._onErrorSources.bind(this)))},_onLoadSources:function(t){this._spin.delMod("progress"),this.delMod(this.elem("window"),"progress"),this._resetFocus()},_onErrorSources:function(){this._firstOpening=!1,this._spin.delMod("progress"),this.setMod(this.elem("error-loading"),"visible",!0),this.setMod(this.elem("window"),"progress",!0),this._resetFocus()},_onSettingsSaved:function(t){var e=this,i=e.elem("saved");e.setMod(i,"visible",!0),clearTimeout(e._savedTimer),e._savedTimer=setTimeout(function(){e.delMod(i,"visible")},1e3)},_counter:function(t){Ya.c(this.params.langs.counters[t])},_bindParanjaEvents:function(){var t=this;t._paranja=t.findBlockOn(t.elem("paranja"),"paranja"),t._paranja&&t.bindTo("close","pointerclick",t._close).bindTo("pointerclick",function(e){$.contains(t.elem("window-content")[0],e.target)||t._close()})},_bindLangSelect:function(){var t=this,e=t.findBlockInside(t.elem("lang"),"select2");e&&(e.findBlockInside("button2").on("click",function(){t._counter("button")}),e.on("change",function(e){var i=this.getVal();t._counter(i),window.location=t.params.langs.paths[i]+"#settings"}),t._selectLang=e)},_bindAuthEvents:function(){this.findBlockInside(this.elem("need-auth-action"),"button2").on("click",function(){window.location.href=global.params["passport-host"]+"/auth?origin=news_welcome4&retpath="+encodeURIComponent(window.location.href)})},_toggle:function(t){this.setMod("visible",t),t&&this._resetFocus()},_hideKeyboard:function(){null!==navigator.userAgent.match(/iPad/i)&&$('<input type="button" value="" style="position:absolute;left:-9999px;"/>').appendTo("body").focus().blur().remove()},_resetFocus:function(){this.domElem.find("button:visible:enabled:eq(0)").focus().focusin()},_close:function(){this.delMod("visible")},_onHashChange:function(){"#settings"===window.location.hash?this.setMod("visible"):this.delMod("visible")}},{_sources:{lastTimestamp:0,loaded:!1,favorite:[],ignore:[]},PATH:(0===location.host.indexOf("yandex")?"https://news."+location.host:"")+"/api/v2/settings",getInstance:function(){return this._instance},getSources:function(t){return this._sources[t]},hasSource:function(t,e){return void 0!==this._findSourceById(t,e)},loadSources:function(t,e){var i=this;i._sources.lastTimestamp=Date.now(),$.ajax(i.PATH,{xhrFields:{withCredentials:!0},method:"GET",dataType:"json",cache:!1}).done(function(n){if(!n||!n.mynews)return Ya.c(["690.3.1030","-action=load,-type=success,-data=empty"]),void e();i._sources._loaded=!0;var o=n.mynews.sources.favorites;i._sources.favorite=o.list.sort(i._sortSources),i._sources.ignore=o.ignore.sort(i._sortSources),i._triggerChange("favorite"),i._triggerChange("ignore"),t(n)}).fail(function(t){Ya.c(["690.3.1030","-action=load,-type=fail"]),e()})},addFavoriteSource:function(t,e,i){this.doRequest({action:"add",typeSource:"favorite",name:t.name,type:t.type,id:t.id},e,i)},deleteFavoriteSource:function(t,e,i){this.doRequest({action:"delete",typeSource:"favorite",type:t.type,id:t.id},e,i)},doRequest:function(t,e,i){var n=this,o=n._getQuery(t),s=t.action,r=Number(t.id),a=t.typeSource,c=function(e){"add"===s&&n._delSource(a,r),n._delProgress(a,r),n._setError(a,r),n._triggerChange(a,s,r),i&&i(e),Ya.c(["690.3.1030","-type="+t.type+",-action="+t.action+",-typeSource="+t.typeSource])};"add"===s&&n._addSource(a,{id:r,type:t.type,name:t.name}),n._setProgress(s,a,r),BEM.channel("sys").trigger("settings:request"),$.ajax(n.PATH,{xhrFields:{withCredentials:!0},method:"POST",data:o,dataType:"json"}).done(function(t){t&&(t.success||"ERROR_SETTINGS_CANT_ADD_DUPLICATE"===t.error||"ERROR_SETTINGS_CANT_REMOVE"===t.error)?("delete"===s?n._delSource(a,r):"add"===s&&(n._delProgress(a,r),n._delError(a,r)),n._triggerChange(a,s,r),n._triggerSaved(),e&&e(t)):c()}).fail(function(){c()})},_getQuery:function(t){var e={form_key:global.params.sk,id:t.id,type:t.type};return e[t.action]="favorite","ignore"===t.typeSource&&(e.ignore=1),e},_triggerChange:function(t,e,i){BEM.channel("sys").trigger("settings:change",{typeSource:t,action:e,id:i,sources:JSON.parse(JSON.stringify(this._sources[t]))})},_triggerSaved:function(){BEM.channel("sys").trigger("settings:saved")},_findSourceById:function(t,e){var i;return this._sources[t].some(function(t){return t.id===e&&(i=t,!0)}),i},_addSource:function(t,e){this._delSource(t,e.id),this._sources[t].unshift(e)},_delSource:function(t,e){this._sources[t]=this._sources[t].filter(function(t){return t.id!==e})},_setError:function(t,e){var i=this._findSourceById(t,e);void 0!==i&&(i.error=!0)},_delError:function(t,e){var i=this._findSourceById(t,e);void 0!==i&&(i.error=!0)},_setProgress:function(t,e,i){var n=this._findSourceById(e,i);void 0!==n&&(n.action=t,n.progress=!0)},_delProgress:function(t,e){var i=this._findSourceById(t,e);void 0!==i&&(i.progress=!1)},_sortSources:function(t,e){return t.name>e.name?1:t.name<e.name?-1:0}}),BEM.DOM.decl("settings",{onSetMod:{js:function(){var t=this;t.__base.apply(t,arguments),t._bindParanjaEvents(),t._parentContainer=this.domElem.parent(),t._header2&&t._header2.on("action-change",function(e,i){"settings"===i.type&&t._toggle(i.checked)})},visible:{true:function(){this.__base.apply(this,arguments),global.page.setMod("hide-scroll","yes"),BEM.DOM.scope.append(this.domElem),this._paranja.setMod("state","open"),this.bindToDoc("keydown",this._onKeyDown)},"":function(){this.__base.apply(this,arguments),global.page.delMod("hide-scroll"),this._parentContainer.append(this.domElem),this._paranja.setMod("state","close"),this.unbindFromDoc("keydown",this._onKeyDown),window.scrollTo(0,0)}}},destruct:function(){delete this._parentContainer,this.__base.apply(this,arguments)},_bindParanjaEvents:function(){var t=this;t._paranja=t.findBlockOn(t.elem("paranja"),"paranja"),t._paranja&&(t._close=function(){t.delMod("visible")},t.bindTo("close","pointerclick",t._close).bindTo("pointerclick",function(e){$.contains(t.elem("window-content")[0],e.target)||t._close()}))},_close:function(){this.delMod("visible")},_onKeyDown:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._close()}}),BEM.DOM.decl("settings-tags",{onSetMod:{js:function(){var t=this;t._tags=[],t._settings=BEM.blocks.settings,t.findBlockOn("add-source","button2").on("click",function(){t.setMod("editable",!0),t._input.setMod("focused","yes")}),t._tooltip=t.findBlockInside("tooltip"),t._input=t.findBlockInside("input").on("data-received",function(e,i){t.__self.addSuggestData(i)}).on("change",t._onChange,t).on("select",t._onClick,t).on("release",t._onRelease,t).bindTo("pointerclick",t.hideErrorTooltip.bind(t)),t._add=t.findBlockOn("add","button2").on("click",t._onClick.bind(this)),global.params.isAuth&&t.channel("sys").on("settings:change",t._onSettingsChange,t).on("settings:close",t._onSettingsClose,t),t._disableAddButton()}},destruct:function(){clearTimeout(this._timerForErrorTooltip),this.channel("sys").un("settings:change",this._onSettingsChange,this).un("settings:close",this._onSettingsClose,this)},TIMEOUT_ERROR_TOOLTIP:7e3,addTag:function(t){var e=this,i=e.hasTag(t.id);e._removeTag(t),e._tags.unshift(t),e.update("add"),!i&&e._settings.doRequest({action:"add",typeSource:e.params.typeSource,name:t.name,id:t.id,type:t.type},function(){},function(){e.showErrorTooltip(BEM.I18N("settings-tags","error-saving"),e._input.domElem)})},hasTag:function(t){return this._tags.some(function(e){return e.id===t})},removeTag:function(t){var e=this,i=e.hasTag(t.id);e._removeTag(t),e.update("remove"),i&&e._settings.doRequest({action:"delete",typeSource:e.params.typeSource,id:t.id,type:t.type},null,function(){e.showErrorTooltip(BEM.I18N("settings-tags","error-saving"),e.elem("tags"))})},_removeTag:function(t){this._tags=this._tags.filter(function(e){return e.id!==t.id})},getTags:function(){return this._tags},getTagById:function(t){var e=null;return this._tags.some(function(i){return i.id===t&&(e=i),e}),e},set:function(t){this._tags=t,this.update("set")},update:function(t){var e=this.params.countVisible,i=this._tags.filter(function(t){return!("delete"===t.action&&t.progress)}).length,n=[],o=this._tags.map(function(i,o){return n.push(i.name,i.id),{block:"tag",mods:{active:"add"===t&&!o},mix:{block:"settings-tags",elem:"tag",js:{id:i.id},elemMods:{hidden:o>=e}},title:i.name}});n=n.join(","),i>e&&o.push({block:"settings-tags",elem:"more",tag:"a",attrs:{tabindex:0},content:BEM.I18N("settings-tags","more",{count:i-e})}),this._lastTagValues===n&&"set"===t||(BEM.DOM.update(this.elem("tags"),BEMHTML.apply(o)),this._lastTagValues=n)},showErrorTooltip:function(t,e,i){var n=this;n._tooltip.setOwner(e).setContent(t).setMod("shown","yes"),i||(clearTimeout(n._timerForErrorTooltip),n._timerForErrorTooltip=setTimeout(function(){n.hideErrorTooltip()},n.TIMEOUT_ERROR_TOOLTIP))},showErrorDuplicateTooltip:function(){this.showErrorTooltip("favorite"===this.params.typeSource?BEM.I18N("settings-tags","error-duplicate-ignore"):BEM.I18N("settings-tags","error-duplicate-favorite"),this._getErrorTooltipOwner())},hideErrorTooltip:function(){clearTimeout(this._timerForErrorTooltip),this._tooltip.delMod("shown")},_counter:function(t,e){Ya.c([this.params.counters[t][0],e])},_disableAddButton:function(){var t=!this.__self.hasSuggestTagByName(this._input.val());this._add.toggleMod("disabled","yes","",t)},_onDocPointerRelease:function(){this.showErrorDuplicateTooltip(),this.unbindFromDoc("pointerrelease",this._onDocPointerRelease)},_onChange:function(){this._disableAddButton(),this.hideErrorTooltip()},_onClick:function(t,e){var i=this._input.val().trim(),n=this.__self.getSuggestTagByName(i),o="favorite"===this.params.typeSource?"ignore":"favorite";void 0!==n&&(this._input.val(""),this.hideErrorTooltip(),this._settings.hasSource(o,n.id)?"select"!==t.type||e.byKeyboard?this.showErrorDuplicateTooltip():this.bindToDoc("pointerrelease",this._onDocPointerRelease):(this.addTag(n),this._counter("add","-aid="+n.id)))},_onSettingsChange:function(t,e){e.typeSource===this.params.typeSource&&this.set(e.sources)},_onSettingsClose:function(t,e){this._input.getPopup().delMod("visible")}},{live:function(){return this.liveInitOnBlockInsideEvent("remove","tag",function(t){var e=this.elemParams(t.target.domElem).id;this.removeTag(this.getTagById(e)),this._counter("remove","-aid="+e)}).liveBindTo("more","pointerclick",this._onMoreClick).liveBindTo("tag more","keydown",function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&t.target.click()}),!1},_onMoreClick:function(){this.delMod("short"),this._counter("more")},_prepareName:function(t){return t.toLowerCase().trim()},_suggestDataById:{},_suggestDataByName:{},addSuggestData:function(t){var e=this;t&&t.items&&t.metainfo&&t.items.forEach(function(i,n){if(i){var o=t.metainfo[n].split(":"),s=Number(o[0]),r=o[2];e._addSuggestData(i,r,s)}})},_addSuggestData:function(t,e,i){var n={name:t,type:e,id:i};this._suggestDataByName[this._prepareName(t)]=n,this._suggestDataById[i]=n},getSuggestTagByName:function(t){return this._suggestDataByName[this._prepareName(t)]},getSuggestTagById:function(t){return this._suggestDataById[t]},hasSuggestTagByName:function(t){return void 0!==this.getSuggestTagByName(this._prepareName(t))}}),BEM.DOM.decl("settings-tags",{getDefaultParams:function(){return{countVisible:3}},_getErrorTooltipOwner:function(){return this._add.domElem}}),BEM.DOM.decl("tag",{},{live:function(){this.liveBindTo("remove","pointerclick",function(){this.trigger("remove")}).liveBindTo("remove","mouseover",function(){this.setMod("hovered",!0)}).liveBindTo("remove","mouseout",function(){this.delMod("hovered")})}}),BEM.decl({name:"input__settings-dataprovider",baseBlock:"i-request_type_ajax"},{get:function(t,e){var i=this;return i.__base({part:t},function(t){e.call(this,i._prepareItems(t))})},_prepareItems:function(t){var e=[],i=[],n=t[1];return(t[2]||[]).forEach(function(t,o){var s=t.split(":")[2];"agency"!==s&&"feed"!==s||(e.push(n[o]),i.push(t))}),this.MAX_ITEMS&&(e=e.slice(0,this.MAX_ITEMS),i=i.slice(0,this.MAX_ITEMS)),{items:e,metainfo:i}}}),BEM.DOM.decl({name:"input",modName:"settings-suggest",modVal:!0},{onSetMod:{js:{inited:function(){this._preventRequest=!0,this.__base.apply(this,arguments),this._userVal=this.val();var t=this._focused;t&&this.delMod("focused"),this.elem("control").attr("autocomplete","off"),this._preventRequest=!1,t&&this.setMod("focused","yes"),this._items=[],this._curItemIndex=-1,this.__self._faviconPrefix++,this._faviconPrefix=this.__self._faviconPrefix,this._doRequest=$.debounce(this._doRequest,this.params.debounceDelay),this.bindToWin("resize",$.throttle(this._setWidth,60))}},focused:{yes:function(){this.__base();var t=this.params.showListOnFocus?this._onChange():this._onChange;this.on("change",t)},"":function(){this.__base(),this.un("change",this._onChange)._preventHide||this._getPopup().delMod("visible")}}},destruct:function(){var t=this._popup;return t&&t.domElem&&(this._popup=null,BEM.DOM.destruct(t.domElem)),this.__base.apply(this,arguments)},getDataprovider:function(){var t=this.params.dataprovider.url;return this._dataprovider||(this._dataprovider=BEM.create(this.params.dataprovider.name||this.__self.getName()+"__dataprovider",$.extend(this.params.dataprovider,{url:t,callbackCtx:this})))},_onChange:function(){return this._preventRequest||this._doRequest(),this._onChange},_onKeyDown:function(t){if(BEM.blocks.keycodes.is(t.which,"UP","DOWN")&&!t.shiftKey){t.preventDefault();var e=this._items.length,i=!1;if(e){var n=t.which-39,o=this._curItemIndex,s=0;do{i=(0===o&&-1===n||o+n>=e)&&this._onLeaveItem(this._items[o],!0),(o+=n)<0?o=e-1:o>=e&&(o=0)}while(!i&&!1===this._onEnterItem(this._items[o],!0)&&++s<e)}}},_onKeyPress:function(t){t.which===BEM.blocks.keycodes.ENTER&&this._curItemIndex>-1&&this._isCurItemEnteredByKeyboard&&(t.preventDefault(),this._onSelectItem(this._items[this._curItemIndex],!0))},_getPopup:function(){var t=this;if(!t._popup){var e=t.__self.getName(),i=[{elem:"items",tag:"ul",mix:[{block:e,elem:"settings-suggest-items"}]}];t._popup=$(BEMHTML.apply({block:"popup2",mods:{theme:"normal",target:"anchor"},mix:{block:e,elem:"popup2"},directions:["bottom-left"],viewportOffset:0,mainOffset:0,zIndexGroupLevel:10,content:{elem:"content",content:i}})).bem("popup2").on({beforeOpen:function(){t.bindTo("keypress",t._onKeyPress).bindTo("keydown",t._onKeyDown)},beforeClose:function(){t.unbindFrom("keypress keydown")._curItemIndex=-1}}),$.each(this._getSuggestItemEvents(),function(e,i){BEM.blocks["settings-suggest-item"].on(t._popup.domElem,e,function(e){i.call(t,e.block)})}),BEM.DOM.init(t._popup.domElem),t._popup.setAnchor(t.domElem)}return t._popup},getPopup:function(){return this._getPopup()},_onEnterItem:function(t,e){if(t.hasMod("enterable","no"))return!1;var i=this._items,n=this._curItemIndex;n>-1&&i[n].delMod("hovered"),(n=this._getItemIndex(t))>-1&&i[n].setMod("hovered",!0),this._curItemIndex=n,this._isCurItemEnteredByKeyboard=Boolean(e),e&&this.params.updateOnEnter&&(this._preventRequest=!0,this.val(!1!==t.enter()?t.val():this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex}).del("_preventRequest"))},_onLeaveItem:function(t,e){var i=this._curItemIndex;return i>-1&&i===this._getItemIndex(t)&&(this._items[i].delMod("hovered"),this._curItemIndex=-1),e&&this.val(this._userVal),!0},_onSelectItem:function(t,e){var i=t.select(e||!1),n="object"==typeof i?i.needUpdate:!1!==i,o="object"==typeof i&&i.needEvent;this._preventRequest=!0,n&&(this._userVal=t.val(),this.val(this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex})),e?this.del("_preventRequest")._getPopup().delMod("visible"):(this._returnFocus=!0,this.bindToDoc("pointerrelease",this._onDocMouseUp),n||(this._preventHide=!0),this.afterCurrentEvent(function(){this.domElem&&(this._getPopup().delMod("visible"),this.setMod("focused","yes").del("_preventRequest","_preventHide"))})),(n||o)&&this.trigger("select",{item:t,byKeyboard:e})},_onItemMouseUp:function(){this._closePopupByMouseUp()},_onDocMouseUp:function(){this._closePopupByMouseUp()},_closePopupByMouseUp:function(){this.unbindFromDoc("pointerrelease").del("_returnFocus")._getPopup().delMod("visible")},_getItemIndex:function(t){return $.inArray(t,this._items)},_doRequest:function(){var t=this;t._userVal=t.val(),t.trigger("data-requested").getDataprovider().get(t.val(),function(e){t.trigger("data-received",e);var i=t._getPopup(),n=e.items.map(function(t,i){return{text:t,domain:e.metainfo[i].split(":")[1]}});n.length?(t._curItemIndex=-1,BEM.DOM.update(i.elem("items"),t._buildItemsHtml(n),function(){i.hasMod("visible")||i.setMod("visible","yes"),t._setWidth(),t._items=i.findBlocksInside("settings-suggest-item"),t.trigger("update-items")})):i.delMod("visible")})},_setWidth:function(){var t=this._getPopup();t.domElem.css("width",this.elem("box").outerWidth()),t.redraw()},_buildItemsHtml:function(t){var e=[],i=document.documentMode&&document.documentMode<9,n=t.map(function(t,i){var n=(t.domain||"").replace(/[^a-z]/g,"-");return e.push(t.domain),{block:"settings-suggest-item",mods:{prefix:this._faviconPrefix},data:{pos:i,text:t.text,domain:t.domain,preparedDomain:n}}},this);return n.push({tag:"style",content:[".settings-suggest-item_prefix_"+this._faviconPrefix+' .settings-suggest-item__icon {background-image: url("//favicon.yandex.net/favicon/'+e.join("/").replace(/(^|\/)www\./,"$1")+(i?"":"?size=32")+'");}']}),BEMHTML.apply(n)},getDefaultParams:function(){return $.extend(this.__base(),{updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})}},{_faviconPrefix:0}),BEM.DOM.decl({name:"input",modName:"settings-suggest",modVal:!0},{_getSuggestItemEvents:function(){return{pointerover:this._onEnterItem,pointerout:this._onLeaveItem,pointerdown:this._onSelectItem,pointerup:this._onItemMouseUp}}}),BEM.DOM.decl("settings-suggest-item",{val:function(){return this.params.val||this.elem("text").text()||this.domElem.text()},enter:function(){},select:function(t){},_onPointerpress:function(t){this.setMod("pressed",!0).bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)})},highlight:function(t,e){if(!$.isArray(e))return t;var i,n=[],o=0,s=e.sort(function(t,e){return t[0]-e[0]}),r=[],a=-1!==t.indexOf("?"),c=function(t){if(a)return t;for(;-1!==t.indexOf("?")&&r.length;)t=t.replace("?",r[0]),r.shift();return t};return!a&&function(){for(var e=/&(#\d+|#x[a-f\d]+|\w+);/gi,i=e.exec(t);i;)r.push(i[0]),t=t.replace(i[0],"?"),i=e.exec(t)}(),s.forEach(function(e){i=o>e[0]?o:e[0],n.push({tag:"span",elem:"span",content:c(t.slice(o,i))}),n.push({tag:"em",elem:"em",content:c(t.slice(i,o=e[1]))})},this),n.push({tag:"span",elem:"span",content:c(t.slice(o))}),n}}),BEM.DOM.decl("settings-suggest-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown mouseup pointerover pointerout pointerdown pointerup pointerclick",function(t){this.trigger(t.type)}),this.__base()}}),function(){BEM.DOM.decl("dfamoR6ph",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._scrollWidth=null}},"hide-scroll":{"":function(){e()||this._setStruts(0)},yes:function(){e()||this._setStruts(this._getCurrentScrollWidth())}}},_setStruts:function(t){this.domElem.css("margin-right",t)},_getCurrentScrollWidth:function(){var t=document.documentElement;return"number"==typeof window.innerWidth?window.innerWidth-t.clientWidth:t.scrollHeight>t.clientHeight?this._getScrollWidth():0},_getScrollWidth:function(){if(null!==this._scrollWidth)return this._scrollWidth;var t=$("<div>").css({position:"absoulte",left:-9999,top:-9999,overflow:"scroll",width:200,height:200}).appendTo("body");return this._scrollWidth=200-t[0].scrollWidth,t.remove(),this._scrollWidth}},{live:!1});var t=null;function e(){if(null===t){var e=window.navigator.userAgent.toLowerCase(),i=[void 0!==window.orientation,/iemobile/.test(e),/trident/.test(e)&&!function(){try{return Boolean(new ActiveXObject("htmlfile"))}catch(t){return!1}}()];t=i.some(function(t){return t})}return t}}(),BEM.DOM.decl("radiobox",{onSetMod:{js:{inited:function(){this._val=this.findElem(this.elem("radio","checked","yes"),"control").val(),this.elem("control").each(function(t,e){var i=$(e),n=this.__self._getRadioByElem(i);i.isFocused()&&this.setMod(n,"focused","yes"),i.prop("checked")&&this.setMod(n,"checked","yes")}.bind(this))}},disabled:{yes:function(){this.setMod(this.elem("radio"),"disabled","yes")},"":function(){this.delMod(this.elem("radio"),"disabled")}}},onElemSetMod:{radio:{focused:{yes:function(t){this.delMod(this.elem("radio","focused","yes"),"focused");var e=this.findElem(t,"control");e.isFocused()||e.focus(),this.afterCurrentEvent(function(){this.domElem&&this.trigger("focus",{current:t})})},"":function(t){this.afterCurrentEvent(function(){this.domElem&&this.trigger("blur",{prev:t})})}},checked:{yes:function(t){var e=this.elem("radio","checked","yes"),i=this.findElem(t,"control"),n=this._val;this._willSwitch=!0,this.delMod(e,"checked"),this._willSwitch=!1,i.prop("checked",!0),this._val=i.val(),this.trigger("change",{current:t,currentVal:this._val,prev:e,prevVal:n})},"":function(t){var e=this.findElem(t,"control"),i=this._val;e.prop("checked",!1),this._val=void 0,this._willSwitch||this.trigger("change",{current:$(),currentVal:void 0,prev:t,prevVal:i})}},hovered:function(t){return!this.isDisabled(t)},pressed:function(t){return!this.isDisabled(t)},disabled:function(t,e,i){t.find(this.buildSelector("control")).prop("disabled",i),i&&this.delMod(t,"hovered").delMod(t,"pressed")}}},isDisabled:function(t){return this.hasMod(t,"disabled","yes")},val:function(t){if(void 0===t)return this._val;var e=this;return this.elem("control").each(function(i,n){if(n.value===t)return e.setMod(e.__self._getRadioByElem($(n)),"checked","yes"),!1}),e},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getCurrent:function(){return this.findElem("radio","checked","yes")},uncheckAll:function(){return this.delMod(this.elem("radio","checked","yes"),"checked"),this},_onRadioEnter:function(t){this.setMod(t.data.domElem,"hovered","yes")},_onRadioLeave:function(t){this.delMod(t.data.domElem,"hovered")},_onRadioClick:function(t,e){this.isDisabled(t)||this.setMod(t,"focused","yes")},_onChange:function(t){this.setMod(this.__self._getRadioByElem(t.data.domElem),"checked","yes")},_onPointerpress:function(t){var e=t.data.domElem;this.setMod(e,"pressed","yes").bindToDoc("pointerrelease",function(){this.delMod(e,"pressed").unbindFromDoc("pointerrelease")})}},{live:function(){this.liveBindTo("radio","pointerclick",function(t){this._onRadioClick(t.data.domElem,t)}).liveBindTo("control","change",function(t){this._onChange(t)}).liveBindTo("radio","pointerover pointerout",function(t){t.data.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onRadioEnter(t):this._onRadioLeave(t))}).liveBindTo("control","focusin focusout",function(t){var e=this.__self._getRadioByElem(t.data.domElem);this.setMod(e,"focused","focusin"===t.type?"yes":""),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&t.preventDefault()}).liveBindTo("radio","pointerpress",function(t){this.hasMod(t.data.domElem,"disabled")||this._onPointerpress(t)})},_getRadioByElem:function(t){return t.closest(this.buildSelector("radio"))}}),BEM.DOM.decl({block:"radio-button",baseBlock:"radiobox"},{onSetMod:{disabled:{yes:function(){this.delMod("focused"),this.__base.apply(this,arguments)}}},onElemSetMod:{radio:{pressed:{yes:function(){this.delMod(this.elem("radio","pressed","yes"),"pressed")}}}},_onPointerPress:function(t){this._pressedRadio=t.data.domElem,this.isDisabled(this._pressedRadio)||(this.setMod(this._pressedRadio,"pressed","yes"),this.bindToDoc("pointerrelease",this._onPointerRelease))},_onPointerRelease:function(t){var e=this._pressedRadio;delete this._pressedRadio,this.delMod(e,"pressed"),this.afterCurrentEvent(function(){if(this.domElem){var i=this.findElem(e,"control");i.prop("checked")||!e.is(t.target)&&!e.find(t.target).length||i.trigger("change").focus()}}),this.unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("radio","pointerpress",function(t){this._onPointerPress(t)}).liveBindTo("control","focusin focusout",function(t){!this.hasMod("disabled")&&this.toggleMod("focused","yes","focusin"===t.type)}),this.__base()}}),function(){var t,e=["YmxvY2tz","aS1nbG9iYWw=","cGFyYW0=","eWFk","aGFzT3duUHJvcGVydHk=","Y29tLnRy","Y29tLmdl","Y29tLmFt","Y28uaWw=","bXNrLnJ1","WERvbWFpblJlcXVlc3Q=","WE1MSHR0cFJlcXVlc3Q=","c3Jj","Y29va2ll","dGltZQ==","Y29udGV4dA==","Y2FsbGJhY2s=","YmVlcmth","bHVkY2E=","YkhWa1kyRT0=","aHR0cHM6Ly9hbi55YW5kZXgucnUvanN0cmFjZXI=","dGltZW91dA==","Ymx0c3I=","dG9TdHJpbmc=","Y2FsbA==","W29iamVjdCBBcnJheV0=","RW1wdHkgY29uZmlnLnNyYw==","cHVzaA==","ZnVuY3Rpb24=","bGVuZ3Ro","Y2hhckNvZGVBdA==","U3RyaW5n","ZnJvbUNoYXJDb2Rl","am9pbg==","TnVtYmVy","RGF0ZQ==","dG9GaXhlZA==","c2xpY2U=","Y2xlYXJUaW1lb3V0","c2V0VGltZW91dA==","bG9jYWxTdG9yYWdl","YnRvYQ==","c2V0SXRlbQ==","MS40LjA=","dG9VVENTdHJpbmc=","bG9jYXRpb24=","aG9zdG5hbWU=","aW5kZXhPZg==","c3BsaXQ=","PTE7IGV4cGlyZXM9","OyBwYXRoPS87IGRvbWFpbj0u","YWRkRXZlbnRMaXN0ZW5lcg==","YmVmb3JldW5sb2Fk","cGFnZWhpZGU=","VU5LTk9XTg==","YmxvY2tlZA==","YmxvY2tlcg==","U1RBUlQ=","RE9NIExPQURFRA==","cmVtb3ZlRXZlbnRMaXN0ZW5lcg==","RE9NQ29udGVudExvYWRlZA==","cmVhZHlTdGF0ZQ==","Y29tcGxldGU=","bG9hZGluZw==","ZG9jdW1lbnRFbGVtZW50","ZG9TY3JvbGw=","RE9DIFJFQURZ","ZGF0YQ==","bGFiZWxz","dGFncw==","dGltZXN0YW1w","c2VydmljZQ==","YWFiX2RldGVjdA==","ZXZlbnROYW1l","ZGV0ZWN0X0lOTElORQ==","ZXZlbnRUeXBl","ZXZlbnQ=","dmFsdWU=","dmVyc2lvbg==","ZXZlbnRfZGV0ZWN0X0lOTElORQ==","YnJvd3Nlcg==","VW5rbm93bg==","ZGV2aWNl","SU5MSU5F","cGlk","ZWxlbWVudA==","aW5mcmFtZQ==","c3RlcHM=","SlNPTg==","c3RyaW5naWZ5","bmF2aWdhdG9y","c2VuZEJlYWNvbg==","b3Blbg==","UE9TVA==","c2VuZA==","WEhSIGNvbnN0cnVjdG9yIGVycm9y","R0VU","cHJvdG90eXBl","WEhSIGZ1bmN0aW9ucyB3ZXJlIHJlYXNzaWduZWQ=","d2l0aENyZWRlbnRpYWxz","b25sb2Fk","Z2V0UmVzcG9uc2VIZWFkZXI=","Y29udGVudC1sZW5naHQ=","cmVzcG9uc2VUZXh0","SGVhZGVyIGxlbmd0aCBkb2Vzbid0IG1hdGNo","bWVzc2FnZQ==","b25lcnJvcg==","WEhSIHJlcXVlc3QgZXJyb3IuIFN0YXR1czog","c3RhdHVzVGV4dA==","Z2V0Q29tcHV0ZWRTdHlsZQ==","RnVuY3Rpb24=","YmluZA==","ZG9jdW1lbnRNb2Rl","Tk9UX0JMT0NLRUQ=","ZGlzYWJsZVRpbWVvdXQ=","VElNRU9VVA==","VGltZW91dA==","WEhSIFJFUVVFU1Q=","WEhSIEFOU1dFUg==","aW5pdA==","WEhSIEVSUk9S","c3RhY2s=","QkVN"];t=e,function(e){for(;--e;)t.push(t.shift())}(251);var i=function(t,n){var o=e[t-=0];void 0===i.bpaJHX&&(i.RcCGrl=function(t){for(var e=function(t){t=String(t).replace(/=+$/,"");for(var e,i,n=0,o=0,s="";i=t.charAt(o++);~i&&(e=n%4?64*e+i:i,n++%4)&&(s+=String.fromCharCode(255&e>>(-2*n&6))))i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s}(t),i=[],n=0,o=e.length;n<o;n++)i+="%"+("00"+e.charCodeAt(n).toString(16)).slice(-2);return decodeURIComponent(i)},i.HKDxhi={},i.bpaJHX=!0);var s=i.HKDxhi[t];return void 0===s?(o=i.RcCGrl(o),i.HKDxhi[t]=o):o=s,o};!function(t,e,n){var o={};for(var s in n)n[i("0x0")](s)&&(o[s]=n[s]);var r=[i("0x1"),i("0x2"),i("0x3"),i("0x4"),i("0x5")],a=t[i("0x6")]||t[i("0x7")],c=i("0x8"),u=i("0x9"),h=i("0xa"),l=i("0xb"),d=i("0xc"),p=i("0xd"),f=i("0xe"),m=i("0xf"),_=i("0x10"),g=n[i("0x11")]||2e4;o[u]=o[u]||i("0x12");try{({})[i("0x13")][i("0x14")](o[u])!==i("0x15")&&(o[u]=[o[u]])}catch(n){}o[h]=o[h]||336,o[l]=o[l]||{};var v=o[d];if(o[d]=A,o[c]){var b,y,M,E,k,x,w=o[c],B=[],C=P();try{if(!I(t[i("0x2f")])||!I(t[i("0x69")])||!I(t[i("0x6a")][i("0x5d")][i("0x6b")])||e[i("0x6c")]&&e[i("0x6c")]<=10){var T={};return T[i("0x33")]=!1,T[i("0x34")]=i("0x6d"),A(T)}}catch(n){}if(!o[i("0x6e")])var S=(b=function(){D(i("0x6f")),R(i("0x70"))},y=g,M=P(),E=null,k=!1,function e(){k||(P()-M>=y?b():E=t[i("0x23")](function(){e()},100))}(),function(){k=!0,t[i("0x22")](E)});x=function(){t[i("0x76")][i("0x77")][i("0x78")].on(i("0x73"),function(){var n=this[i("0x79")](i("0x7a"));n&&o[u][i("0x17")](n),function(){try{var n=P();D(i("0x71")),function(t,e,n,o){var s=new a;if(0!==s[i("0x39")])throw new Error(i("0x5b"));if(s[i("0x58")](i("0x5c"),t,!0),1!==s[i("0x39")]||s[i("0x5a")]!==a[i("0x5d")][i("0x5a")])throw new Error(i("0x5e"));s[i("0x5f")]=!0,s[i("0x60")]=function(){try{var t=e[i("0x1e")](s[i("0x61")](i("0x62"))),r=s[i("0x63")][i("0x19")];if(!t||t<32e3||t!==r)return o(i("0x64"))}catch(t){return o(t&&t[i("0x65")])}n(s[i("0x63")])},s[i("0x66")]=function(){o(i("0x67")+s[i("0x68")])},s[i("0x5a")]()}(w,t,function(n){try{S&&S(),D(i("0x72")),new(t[i("0x6a")])(n)[i("0x14")](o[l]),o[l][i("0x73")](t,e,o)}catch(n){R(n&&n[i("0x65")])}},function(t,e){if(S&&S(),D(i("0x74")),P()-n<2e3)R(t);else{var o={};o[i("0x33")]=!1,o[i("0x34")]=i("0x6d"),A(o)}})}catch(t){R(t&&t[i("0x75")])}}()})},D(i("0x35")),e[i("0x39")]===i("0x3a")||e[i("0x39")]!==i("0x3b")&&!e[i("0x3c")][i("0x3d")]?(D(i("0x3e")),x()):e[i("0x2f")]&&e[i("0x2f")](i("0x38"),function t(){D(i("0x36")),e[i("0x37")](i("0x38"),t),x()})}else R(i("0x16"));function D(t){B[i("0x17")]({d:t,t:P()-C})}function I(t){return typeof t===i("0x18")}function P(){return t[i("0x1e")](new(t[i("0x1f")]))}function O(e,n,o){try{if(t[i("0x24")]){if(o){var s=(24e5*(P()/24e5)[i("0x20")]())[i("0x13")](36)[i("0x21")](0,10);n=t[i("0x25")](s)+m+t[i("0x25")](function(e,n){for(var o=[],s=0;s<e[i("0x19")];s++){var r=e[i("0x1a")](s)^n[i("0x1a")](s%n[i("0x19")]);o[i("0x17")](t[i("0x1b")][i("0x1c")](r))}return o[i("0x1d")]("")}(n,s))}t[i("0x24")][i("0x26")](e,n)}}catch(e){}}function A(t){var e=i("0x27");v&&v(t,e),O(p,e)}function R(n){var s=P(),c=new(t[i("0x1f")])(s+36e5*o[h])[i("0x28")](),l=d(t[i("0x29")][i("0x2a")],2);function d(t,e){return e?t[i("0x2c")](".")[i("0x21")](-e)[i("0x1d")]("."):t}function p(){for(var t=o[u],n=0;n<t[i("0x19")];n++){var s=t[n];s&&(e[i("0x9")]=s+i("0x2d")+c+i("0x2e")+l)}}-1!==r[i("0x2b")](l)&&(l=d(t[i("0x29")][i("0x2a")],3));try{t[i("0x2f")](i("0x30"),p),t[i("0x2f")](i("0x31"),p)}catch(n){p()}try{!function(e){var n={};n[i("0x3f")]={},n[i("0x40")]={},n[i("0x41")]={},n[i("0x29")]=t.location.href,n[i("0x42")]=P(),n[i("0x43")]=i("0x44"),n[i("0x45")]=i("0x46"),n[i("0x47")]=i("0x48"),n[i("0x49")]=1,n[i("0x4a")]="1",n[i("0x41")][i("0x4b")]=1,n[i("0x40")][i("0x4c")]=i("0x4d"),n[i("0x40")][i("0x4e")]=i("0x4d"),n[i("0x40")][i("0x34")]=i("0x4f"),n[i("0x40")][i("0x50")]=i("0x4d"),n[i("0x40")][i("0x51")]="i0",n[i("0x40")][i("0x4a")]="1",n[i("0x3f")][i("0x4a")]=i("0x27"),n[i("0x3f")][i("0x51")]=e,n[i("0x3f")][i("0x52")]=t.top!==t.self,n[i("0x3f")][i("0x53")]=B;var o=t[i("0x54")][i("0x55")](n);if(I(t[i("0x56")][i("0x57")]))t[i("0x56")][i("0x57")](_,o);else{var s=new a;s[i("0x58")](i("0x59"),_,!0),s[i("0x5a")](o)}}(n),O(f,[(new(t[i("0x1f")]))[i("0x28")](),i("0x32"),n][i("0x1d")]("\n"),!0)}catch(n){}var m={};m[i("0x33")]=!0,m[i("0x34")]=i("0x32"),A(m)}}(window,document,{src:"news"===Ya._s?"https://yandex.com/news/_nzp/1EIn34184/60adefdbCs/Vr4-rQD6-Zh7JEI7RHtrx4mICCGN8O9o7Au2rAOAh72wDhY2OTMBm6sXDC5ArYi-kEP2rRLNYEtibm2OJHKmk2OKb-9d5_quQylVZ2hVVb2VkA8Hi_KMVt008ZsRmL2Su1gPARMwSZ2dSTgoXdK7uJdw6qYY93J3RRlqjQpMjaJjimHrQ87dgF4DUXB6ZlSPm6UAFp7FknTbBtCYApmnhp97KC81FXahgU0MJn7miYawZNCRP9FIblY4d6cDVq6UUal1z3jT2pRAJlF1fmRAj5qOMQCD4KtX7gncjgaSp4W5cikkBQVknZFaLh50-aK8jmD3sxnPaGxnNleVBW2qrWCAYMp329WjaCZyX1p8U56-mD8qo_K4f-oF4YsTpqKHlWk4JCQMVrSbQwYfft-JtbBdw58v2Wh9dglAkThki65Hj3DUSt3bjV4vaXdlX2KBhIAQAYT7g1DIPO6mH7O8sYBMHic3PkOgvlkqEm3BgpKKbuGBF-BOfXUPRZErWquvcIlN4WfK_pVJBUVAQ2Jdmoi4EBaZ47BzywXXkiG5u7mpVgknEQddn5lyPSpx4rSSqXLAsjnKUXp1DHySE3GIlkuJZ8dJ7dyzVQp3fXBSTrmcjgMkgt2HQ-gG87cNiZedn1YJPRctVoSJWAkvcMS8lZpt26we9X9acgFtjjR6o7Jxnknzfcfcu0k1bFB6ZU2GlYQXLIHZuFTENf2HAqCUoblTGRMiOV6_qF0kBUzTp7WcTfq-D-ZEXlwUcIIIf4qWartJznzbwL5mJWxST2dpnZmNFzap44lLxCf7lwKGp4SeZzE-EwRgkrNbMR9d3KS8iWDXrC_OfHFFFlOZD3S0qHasQe1j_uCqWgtqQn9Bf6yyrAQuqsevSNk7zZYnq7iYm0ovNCkUdbiQeRoAUMK0irpl5Z0ZzU1_ZQlGtBBYprlXnkfpeurVkWgJaUNbXV2et6wXNLjPskPNC-qKH6-7soJzLRsXGEWmrnoPIF3EibySd926FfREVlgpbIokeKKIR6d18Hvt7LFcAVlPfHJCv5GKHA6DwqNy2inQkSOSqZOAdg8HJxBWtZlxNQ9UxJCIrU7dhRzQZF1eL2OhNGSPsE-7cup6-PmJZi5EXlpNY4q6myoJm9-rQ98-_pQbj6GFtUcSEwA7V5WcUiUMZd6gnKhk_rgs2XxzewlnuhJ4vJRTrEv1SvDlsksseUdeWleIqoA2DpLqiE3sEMmcGJultaF0GBYTH0actX46DnXhl4-Qdsa7GOdValQaTIkWa6WgR6lu5Uv7wLFJN3RVTlhyvaCkIAiv26lewjr1tjuMoI2jUxoeJCVXq6lZPR1C8aO2mnHLkjXGb0hAPEePAHOivGGqYPBE5e-vaAhSVF1dcZ6_kxcOofiMZ_wJyokcloqasns-BR4bRIKOZxgucvOjrLN-95Qh90BYWAVoqThZhaxht0XQVuvhk3k7VHVcRneNuaIQL6rNhlDgCdSvBpWcvr5JLCIkHGWwkm81MnfZg62cZOCRONZNVWkKdIsDfLafUoNGyHnLxKl8BlVffm1As7urFDaCxoN13inflwSngYagTR0zKT9IvIx7ECJM5KOUtX_jhCzqfFtSA3S3JFW0om27S-92xPWqSiZVfW18VKyRuAAin-CiSNgq6J0Sk6mFkkUXIRYlZYC1fAwhdfyGqZhA-JYM2mFzfjx-pilXt4FBgU7Nasvvsm4pUkVEZ3KKso0zNavHi2LPO8ueA66km7JWFz8dLV-wv00mNW_Rv7atZPmCC8lmUHsmSIk1f46CT7tvzmHzy6lgKmRhR3ZWq6G5DR-A74Bo2TvRsxGZupKRUzc9GTZKkKxHEgFh5LSdmkbypjXwU1FrCEyEIEiRolOhQNF7-uO4fj9rQEt7Tp2DhREjpcy0YeQbwZcahZiEmWA_Hx8TV76tcDQNa_ylm5Z29ZoP1VRoUxp0rBhqrq9inUvQWPH_qH8hUFFPUUChkr42EKrZj2f8Js-4L4ubv59IMAcmG2KXs28QDVXymLmNQvmHKOpfUksvTqowVKa6XKJKwHXB4bFqGVhRXWZ8r5WKFjG_5Ixy_ArAmQaHiZmqVxwwIzdunZpRORJh9L-ninPRgyzFSXhlJkaJKVW8jH-cbe5C__eebB1Pe2Zfda66sxU2nMCDdP0y1YYmmYe7hmYdNTURX7mWbjYEd_SnjKx1xZk4z1xRZjhgtRh7qqtOp2HpQvn3v3UhQnViUG2Gmp0_EbLDilzqG-2mNaOkkqVuDAUpGEGeqUYEIWPhgq6yTvyfCMhhSVklQqUqfraqSox39kz-_5FLO3FlUXp1qqCmKz-K5K9PzRPguxyUppGRUSstBwRnnZdCMAFy35mWiFDgmyzudE91CVKKNFW2rHS8Q8d349q4dQpnZmBhXbG5hyUAmN2HVO014bU8p5ugmFsQHCUkYoSNfzI9UMeGlKhP9JEHxXVoehx0sxZIvbVUg2s":"https://yandex.com/news/_nzp/1EIn34184/60adefdbCs/Vr4-rQD6-Zh7JEI7RHtrx4mICCGN8O9o7Au2rAOAh72wDhY2OTMBm6sXDC5ArYi-kEP2rRLQdVNjOgSpD1irum2IQ-lC--OOWAFFYlhVRLmkjB8squu7S9kr0rczh4qalUkCIwYeQpe0bR0DS-mzlZlOxKw-9lFLWhpzrgx2lZFciEPnRuXKqXYcb2ZPR3e4loIqI7v-jFX7LeCWMJSLgIFtIQQoOGeoiHEZN0XKh6enadCWCdF3cUMJUrMmf4-yarpg82Le165iAkpmSkN1rJaDARKt46ls2BjvmiaQgICCSygFIwh3urRhDhV9wJiMnVfUsSv3aVFBOFyTFHm0tlOLSeZn0d-hVSpKRWBnbb-Hpxcch8O7f_Ac46cjhbSFgGczFCMpfoidaxc9fMq-p5Rp6YUHwX9RUCljhBBEvZdQrEb2eezZr3scQ15IWE6OmJ0PM6zkskTfPtqoDomhm7ZyFjIgOkydiU4NEXHZoKyzU9qnGflGd1AqZYEQV4O3UZtAy0zBzopjC2lyf35zsYORNzO7-ap3_D3jkTq3q5y-WwwlIBx1g7ZpJgZJxYOas3DGhirXbGhXKma4E2-olGigQOFq7-moRRdmQEJNQ6KghQEgieKUQMwe4LUfm5uwmm0MJToaX4iteQwyTMSlkrRD2Z008FNGdy1rqQ9Io79MmlfPXtvDqE0LWVtvR3Shn4wLNIHhkH_bMtO7L5Sys6ZLCTUUL0uAllgJH2b4somURfm8JuFAfXMDfrQDdKaWaIFyz2Pa37RIJElbbXJ2hYSAAjSbyapOxDLBvT-UlICDbD0dOR52vrtDDwp86b2KnVDUkTTBaEVcGnyXGHOtqFadZcdAxfqUXBhnXX1CUJO1qyMng8qOaMcv3Ys-sbmfn2kQAzMkZquRYC0hY-Sjmqtj0aMF92t0UjpjgjVsgbpHvFfBRNzuoWcqZV58Zkyxh64jNJnYhnXMO-2sIom9nLVwKQEcGmqbj14uNEPppaedS8ObIvtSfXsHQ6gLWKG-dqxu813d6ZhHHm1ucEFjrqaIBT-j44tk_SzPljm1gI6UciwjACpiiJxpJQ5s4KW-qXT6mx3ydl1wAUWnIEi9k06kcvRH3PyNfyRCc2FnXI-ToxQJpPuWbMwp2Lg8jZ2GgkcdPhQNSYm8bAYeb9G_jr1x0Lggwn9FXiRjoztuoaBquGXNWOz0kUQJQE54Y0u7kbMPFaPyo0_CGvaPNI6JgrJTLjQRHm2YtUUqAW3BgLmuScKAI_ZBbEcLcIgIarK5Xqxg6Ejt_7RHC1tDanNJnqS5KwOlz5Ju0TTcsx6tnoeKUQk2GSlXiYJZDQZ-9pCNl0PFjQrbYFZlH1aDDnyqvkKKY-Zd4uGbWSpkZWtgTJ2Hphw0o8GxS-gK74whioStnUAhEgITaZqrfjMjTcaSjY1qyrEMz1F5dQdvrChEgJlSin7DffDvlWU7V2NKYVeblKAtM4LKhEHfFu-SB5CHu7lMEwAlKW67mWI7DlHDuK2MRdCmCdZwdHg2YLAKf6WqYblKwGXfz7BfPmpiYEN8rKqiJDeb4o9E-ijPmT-StaaBUhcxNCRNlpV8LytB-IWNtWzLpRzCTEV2DWmwNliMqFyGcs1C0MCBXAhKYkJQbbi1iDcjj_-pZccuzK41hIGOgmAfOyYbV7upRSg3QsGdqIhB9L4O4nxYXiFWuidVjqt_qkjIYMzPm0QsRWV6eXaek6sCEJjLjkztOd2NNpW8g5xADDs4EF-BmU8ZHVbbsJGXdNC_GuVvX30kTIwISaaSfKRy6WPH979fIkZTXnpnurK4Ni6y4KZH5y_dlxuHi52VYwkbOhRElLlcEyli1YWavEPytD7bVmp8NGKIBVyRjVy4aMZ83f6XTjxTXH92aqKEmgoyjsWFc-4S_Yc_jJe_g2s6ExgSYYmXXSQPbt-di7pPwrMC4XNtRQxwsC1ks7JRiVTNff71i149TWduckCsuIsxFb3KkEjoCsCJELmZvLhtEhwAK2m8vkM7K27hk7aYVPa_H8ZMZn8URYorTI26RLdrzG3TxZVHKHVvbmB3kLaMBTWc361L_QrshjGQla6eWA0wNy5FsLRqBQJx1ZWRhlPHlxvCY3BVOkyCCFWMoHKUVetD5PuDaC5xeERbTpm3ozw2m_yJRPsL1JMusIugvHQ8MTI4Y4GQZjoNZ8OVia11wYMB1mllfDlSpDRkorZVpW7nROT9g0k3TXVKX0GBn4MSHLzSik3THP2rDqOxg5VXNCACJGqft1kSP0LXgKyPa_q6B-ZuWGQGT4YkVqeqVKFF8Vvq-otnCVdGWmxrmbO5KQiS6q1owDv1phOKhoGWYwsHKgp2ubRnFgtixr63t1HkpgPCSE1iKmOWC0iMqlKfdcVq0eeuTjdmUFldcLGooAgGrfiUQNsb06cdqrW8p2oBPBsoVrytfSsJXuSmqLVx-7IJ6WNMRSV2sDJqkaFLv0o"})}(),function(t){if("function"==typeof t.I18N&&t.I18N._proto)return t.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=t;var e="_",i="__",n={},o=[],s="",r="lego",a="",c="",u=!1,h="undefined"!=typeof console&&"function"==typeof console.log;function l(t){u&&h&&console.log(t,"keyset: "+a+" key: "+c+" (lang: "+s+")")}function d(t){return"string"==typeof t?t:t.block+(t.elem?i+t.elem:"")+(t.modName?e+t.modName+e+t.modVal:"")}function p(t){var o=function(t){var n={};return t.split(i).forEach(function(t,i){var o=[i?"elem":"block","mod","val"];t.split(e).forEach(function(t,e){n[o[e]]=t})}),n}(a),u="i-tanker"===o.block?"tanker":r,h=o.elem||a;(h=(u=i18n[u]||(i18n[u]={}))[h]||(u[h]={}))[c]="function"==typeof t?t:function(){return t};var l=n[s]||(n[s]={});(l[a]||(l[a]={}))[c]=t}var f=function(t,e,i){return f.keyset(t).key(e,i)};f._proto=!0,f.project=function(t){return r=t,this},f.keyset=function(t){return a&&o.push(a),a=d(t),this},f.key=function(t,e){s=this._lang,c=t;var i=function(t,e){var i=n[s]&&n[s][a];if(!i)return l("[I18N_NO_KEYSET] %s"),"";var o=typeof(i=i[c]);return"undefined"===o?(l("[I18N_NO_VALUE] %s"),""):"string"===o?i:i.call(e||this,t)}(e,f),r=o.length&&o.pop();return r&&(a=d(r)),i},f.decl=function(t,e,i){for(var n in i&&i.lang&&(s=i.lang),a=d(t),e)e.hasOwnProperty(n)&&(c=n,p(e[n]));return this},f.lang=function(t){return void 0!==t&&(this._lang=t),this._lang},f.debug=function(t){u=!!t},f.lang("ru"),t.I18N=f}("undefined"==typeof BEM?{}:BEM),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("auth-popup",{close:"Закрыть",description:"Авторизуйтесь, чтобы видеть больше того, что вам интересно",enter:"Войти"},{lang:"ru"}),BEM.I18N.decl("auto-update",{"update-time":function(t){return this.keyset("i-tanker__dynamic").key("plural",{one:t["update-type"]+" обработан "+t.count+" источник, обновлено "+t.time+", "+t.city,some:t["update-type"]+" обработаны "+t.count+" источника, обновлено "+t.time+", "+t.city,many:t["update-type"]+" обработано "+t.count+" источников, обновлено "+t.time+", "+t.city,count:t.count})},"update-type":"Автоматически"},{lang:"ru"}),BEM.I18N.decl("best-players",{assists:"Ассистенты",bombardiers:"Бомбардиры","col-assists":"Голевые передачи","col-assists-short":"ГП","col-clean_sheets":"Сухие матчи","col-clean_sheets-short":"СМ","col-goals":"Голы","col-goals-short":"Г","col-goals_against":"Пропущенные голы","col-goals_against-short":"ПГ","col-matches_played":"Матчи","col-matches_played-short":"М","col-minutes_played":"Суммарное число минут на поле","col-minutes_played-short":"Мин.","col-penalties_scored":"Пенальти","col-penalties_scored-short":"П",goalkeepers:"Вратари",guards:"Гвардейцы",hide:"Свернуть игроков",person:"Спортсмен","see-more":"Показать больше игроков",team:"Страна",title:"Лучшие игроки"},{lang:"ru"}),BEM.I18N.decl("copyright",{link:function(t){return"ООО «"+t.content+"»"},yandex:"ЯНДЕКС"},{lang:"ru"}),BEM.I18N.decl("event_type_sport",{postponed:"матч отложен",started:"матч идёт",tomorrow:"завтра"},{lang:"ru"}),BEM.I18N.decl("footer",{about:"О компании","about-url":"//company.yandex.ru",advert:"Реклама","advert-url":"//advertising.yandex.ru/kupislova.xml?advertising",apps:"Мобильные приложения","apps-url":"//mobile.yandex.ru",stat:"Статистика",termsofuse:"Лицензия на поиск","termsofuse-url":"//legal.yandex.ru/termsofuse/",agreement:"Пользовательское соглашение",export:"Новости на вашем сайте",feedback:"Обратная связь",help:"Помощь",info4smi:"Информация для СМИ",mobile:"Мобильная версия",smi:"База данных СМИ",stat_news:"Топ-5 новостных сюжетов: статистика",subscribe:"Подписка на новости",howitworks:"Как работают Яндекс.Новости"},{lang:"ru"}),BEM.I18N.decl("footer2",{termsofuse:"Пользовательское соглашение",confidential:"Политика конфиденциальности"},{lang:"ru"}),BEM.I18N.decl("header2",{settings:"Настройки"},{lang:"ru"}),BEM.I18N.decl("header2__action",{"action-filter-title":"Настройки поиска","action-settings-title":"Настройки","action-tableau-title":"Табло сервисов"},{lang:"ru"}),BEM.I18N.decl("i-global",{date:function(t){return function(t){var e=new Date(t.timestamp),i=e.getFullYear(),n=new Date;return e.getDate()+" "+this.keyset("i-tanker__months").key("g"+(1+e.getMonth())).toLowerCase()+(i!==n.getFullYear()?" "+i:"")}.call(this,t)},dateOrTime:function(t){return function(t){var e=new Date(t.timestamp),i=new Date;return e.toDateString()===i.toDateString()?t.textTime:e.getDate()+" "+this.keyset("i-tanker__months").key("short"+(1+e.getMonth()))+"."}.call(this,t)},"news-title":function(t){return"Новости "+t.title},"page-unavailable":"В данный момент страница недоступна.","page-unavailable-text":"Попробуйте обновить страницу или зайти позднее.","project-name":function(t){return this.keyset("i-tanker__projects").key("news.short",{})},"project-title":function(t){return this.keyset("i-tanker__projects").key("news",{})},"service-logo":"//yandex.com/news/_nzp/1EIn34184/60adefMuuh/R75w41vg7tdhKFU5R3Fymt-2SXayw6Jh-kze7SWjy5m5VU4ZGwcew-tiBT1T49-vkECznCPmal5aC2OLDG-qr3GBYPZeyMypWyhYf2t3f6SgvS0trO64SM8X4Kshop6yv2QaEz8kbbu_QSs-V8WlqLVzxJsgyFR1awtjhQhxg4hfnErySdr_qGkmbXB6Yki6grsfDK_9uVLbM8OMD4S7jYN4HicxB1mJgWY_BGDig5KsYOWGCsFOVl05QJEsSp6PS4Jv8kze_bxpJ0ZBbH9tg6GOEAC5-bJS2BXKjQS0q5-_aAkFCQ1GortYOyNCxJ2yrlHrpjjHdVJkCGmEKUWWgHyqb9Fm-uWveANQT0Zff5CJihw9vOyGV9o50ZwElaKtlmIQLQgHYImyZgYXbvKLsr9A1LE8-nxzZy9mlDd4kI5SnGbKTsXGnmc5SGBteHarpqglMpHgk0nsLPS6B4aQuIJHCgEFFH6ClVw1NXDKspS_Q9K0POlCU2YYYKkCVYerSotM5nnj-6F8NXBgemVumIWrHAul3plO5AXurQegqaa9YCEWPQhdtJV_KRRD5JiLuEPRjT_RaXBfI2CDJHugiWyXQ9RE0MuyXyFGc0h-UK-1iB8vgPKpYsAz7q0dpoOtpnALIjgJe7ySTDYPXcOnpZhE3Jwj9mJbexl3rRBPiolki3zPadr8sWAoTGdAfVSQoqQsIbD9gGH8Feu9M5OXpZ1RDg8SNWynskoWLk_StJ6casmBL8pncl8CUq0tTpaVYaRsz2vv_pV7JEVnWlVuob2kPieg_aZS2TLflR6iqpuwSggaCCRjpLtfOwNd8pyms3PLojTNbExhHkWlDlGztXWYQsl739iDSg9kdEJWSoe-uSIRodiLTcU38osUmLqOmmkqMRcpfbSNbD4xbMSfl71T1LcZ0kBecD93owpIp4BOqkDKevvEoXgKZGdYREKata0SNr3gj07vLsuJO6a2voRXKSQ3JHuJu0QsCUvIpp6UbvSdJ-ZgWkEvTpETSaC5bp5I-nbc675ZLEJsYn9Pi4S6MAym3LJczizOqyeWvq2XYCIeGC17kI97FQl0wYK-n2jykgz2fHd5J1KWCUi1rFakZ-dn-tSfbAdTWmVnUoO1vycio-SvVNgZ_7YzsZWst2UBDhscYaCbfj8qSfGLprFN1JYX0GBEXTtFrxZ4vbBtiWXafv7Dq24XSEZibmegu4wJFavnu1DoDcy8NqKxvb5MLREZDF6XiEYtEkrFtY-oYse9JNRzXWkvQIoGebaVbot-12zuwY5bHWxQZFNWgaiiIymBxKxV0A_rvj6Vi6yJUAoWCjtOo7FMKh9j6JS1inbhtiLCa1p1CUOEE3aounCqQfFt_cSNeAJbZ2JddaSRnBAWvuO2f8cew5olr7W_oHc0MzkLTKOrZSUjZfylmppu2JkE-kF9ZQleoTNkprRMu3L3TPzfi2sEamBDVkCupoAQCJj5tWnjEvGIApWynpJrPB4lDmaDqko_NGDlhJeXX9eFJsFkTlY6aqIrS4aRdr5P9mbe9LxVBmNkWn5Lq4O-MAOg-4d02wz1uROYkbOedSg7NTVbo5NjJDd18bimmWTehRrmTUxrBVKvDESJoHWIb_ZEzeWoSixwcE5jbYq-uDM0qu2zXNg-_bMBp4ueokwvJzYMQ4auThssZ9GIu7FI4Y8L609PSCloqi5YhrptrGDxfOT-jmwPRUNZV0qjlK8iF6n8jlHGHu6zH6yDpJJGHg0iFm6_sXs_LXPWm7ySTfu5JPdndksnUostU76edqJjx1jn76pNHHF9c3xiqJ65Ig2E7rlPzz3rkx2omLGyVRQ5FhhbtJpMHSZX6KKJk13VvSniUGlrO0ikMkm3tme8dsh56-Kyez5NYU9ZQZyXhAIdoOWlbdk12Js_rr2snFQjHxoSQ6WcQC0ha9KHjqplx4UB2nJWZgp0rzNqvKp3vWjzaO_IvEcvdkZ8VlSnkZw_E4_Qq27iM_CUJ5e1mbVKPDsaLE2YvlsZLXb1uIWQffK_B_JMXnM0S64jR4y0bqhQ-2j9_4BJKEJmXUNppIScExyu-ad8xAbvuBCSmZW_YwISBRhLv6BcKAVy8ZeTulP7tyTrTURFF3WJDXCyokGuVOxCxsaJSAd7ZVpgTauCnSsJsdm5cuYq3rkVhL-km289HRMOS6eLei4RaOWdhpNQ5ZEY2mNSYiZOhQpwtKJgt2jhTMLJkWAnVU99Tk6iqooCMZHKg1HPCdaoJZi2urxQFS82Gl6CqWQVKG7VmruLb_izCOhmTmMiZZMVfrOqToly0lzx44lMHW5bU3Zph7mtCjyM47RTzD3pjw22qpy_bhEbFgtgmZFeCzRq8byujUPUoyf2TU5lHFWnJEWuj2e3Q8RfwPihVwRPVWxkUK-ijSw9gsOHbv0047Q8lIqZpnQsGSopeIaTfhQgYNqXr6pMwYUe1FBFfDxqjw1Os61Ct3U","service-logo-height":"78","service-logo-width":"119","project-title-sport":"Яндекс.Спорт",index:"Главное",football:"Футбол",hockey:"Хоккей",index_genitive:"Новости спорта",football_genitive:"Новости футбола",hockey_genitive:"Новости хоккея"},{lang:"ru"}),BEM.I18N.decl("i-global__tools",{"smart-at":function(t){return"в "+t.time},yesterday:function(t){return"вчера "+t.time}},{lang:"ru"}),BEM.I18N.decl("i-services",{404:"404",adresa:"Адреса",advertising:"Реклама",afisha:"Афиша",all:"Все сервисы",api:"API",appmetrica:"AppMetrica",appsearch:"Приложения",audience:"Аудитории",auto:"Авто",autoru:"Авто.ру",avia:"Авиабилеты",aziada:"Азиада",ba:"Баян",backapv:"Партнер Я.Карт",balance:"Баланс",bar:"Бар","bar-ie":"Бар для ИЕ","bar-ie9":"Бар для ИЕ9",bayan:"Баннеры Яндекса",blogs:"Блоги",books:"Книги",browser:"Браузер",calendar:"Календарь",captcha:"ой...",catalogwdgt:"Каталог виджетов",chrome:"Хром с поиском Яндекса",city:"Города",cityday:"День города",clickhouse:"ClickHouse",collection:"Коллекция",company:"Компания",contest:"Contest",delivery:"Доставка",desktop:"Персональный поиск",direct:"Директ","direct.market":"Маркет",disk:"Диск",display:"Дисплей",ege:"ЕГЭ",ether:"Эфир",expert:"Эксперт",feedback:"Обратная связь",feedback2:"Обратная связь",ff:"ФФ с поиском Яндекса",fotki:"Фотки",fresh:"Свежее",games:"Игрушки",geocontext:"Геоконтекст",goroda:"Города",help:"Помощь",i:"Мои сервисы",ie:"ИЕ с поиском Яндекса",images:"Картинки","images-com":"Картинки",interests:"Интересы",internet:"Интернет",kassa:"Касса",keyboard:"Клавиатура",kraski:"Краски",kuda:"Куда все идут",large:"Яндекс для слабовидящих",legal:"Правовые документы",lenta:"Лента",libra:"Библиотека",literacy:"Неделя борьбы за грамотность",local:"Локальная сеть",lost:"Незабудки",love:"День взаимного тяготения — 13 августа",mail:"Почта",maps:"Карты","maps-wiki":"Народная карта",market:"Маркет","market.advertising":"Маркет",master:"Мастер",metrika:"Метрика",metro:"Метро",mirror:"Зеркало",mobile:"Мобильный",moikrug:"Мой Круг",money:"Деньги",museums:"Дни исторического и культурного наследия",music:"Музыка","music-partner":"Музыка: статистика",nahodki:"Мои находки",nano:"Нано",newhire:"Наниматор",news:"Новости",notifications:"Нотификационная панель",oauth:"Авторизация",online:"Онлайн",openid:"OpenID",opera:"Opera Software",opinion:"Цитаты",partners:"Рекламная сеть",partnersearch:"Поиск для партнеров",passport:"Паспорт",pdd:"Почта для домена",peoplesearch:"Люди",perevod:"Переводчик",plus:"Плюс",probki:"Пробки",pulse:"блоги: пульс",punto:"Punto switcher",pvo:"Ответы",rabota:"Работа",radar:"Радар",ramazan:"",rasp:"Расписания",realty:"Недвижимость",referats:"Рефераты",rk:"Есть вопросы?",root:"Яндекс.Олимпиада для Unix администраторов",school:"Школа",search:"Поиск",server:"Сервер",shtrafi:"Штрафы",site:"Поиск для сайта",slovari:"Словари",so:"Самооборона",social:"Социализм",soft:"Программы",sport:"Спорт",sprav:"Справочник",start:"Стартовая страница",stat:"Статистика",subs:"Подписки",taxi:"Такси",telephony:"Телефония",terms:"Разговорник",tests:"Тесты и опросы",tickets:"Билеты",time:"Яндекс.Время",toloka:"Яндекс.Толока",toster:"Тосты",translate:"Переводчик",tune:"Настройки",tv:"ТВ",ugc:"Отзывы",uslugi:"Услуги",video:"Видео","video-com":"Видео",vno:"ВНО",wdgt:"Виджеты",weather:"Погода",webmaster:"Вебмастер","webmaster-api":"API Вебмастера",widgets:"Виджеты",wordstat:"Статистика",wow:"Я.ру",www:"Поиск",xmlsearch:"XML",yaca:"Каталог",yamb:"Медийные баннеры",zakladki:"Закладки"},{lang:"ru"}),BEM.I18N.decl("i-tanker__days",{acc1:"в понедельник",acc2:"во вторник",acc3:"в среду",acc4:"в четверг",acc5:"в пятницу",acc6:"в субботу",acc7:"в воскресенье",n1:"понедельник",n2:"вторник",n3:"среда",n4:"четверг",n5:"пятница",n6:"суббота",n7:"воскресенье",name:function(t){return function(t){return i18n.tanker.days[(t.short?"short":"n")+t.day]()}.call(this,t)},short1:"пн",short2:"вт",short3:"ср",short4:"чт",short5:"пт",short6:"сб",short7:"вс",today:"сегодня",tomorrow:"завтра",yesterday:"вчера"},{lang:"ru"}),BEM.I18N.decl("i-tanker__dynamic",{gender:function(t){return function(t){return t[t.gender]}.call(this,t)},plural:function(t){return function(t){var e=isNaN(parseInt(t.count))?0:t.count,i=e%10,n=e%100;return 1==i&&11!=n?t.one:i>1&&i<5&&(n<10||n>20)?t.some:t.many}.call(this,t)},plural_adv:function(t){return function(t){return 0===(isNaN(parseInt(t.count))?0:t.count)?t.none:this.keyset("i-tanker__dynamic").key("plural",{count:t.count,one:t.one,some:t.some,many:t.many})}.call(this,t)},toggle:function(t){return function(t){return Boolean(t.condition)?t.true:t.false}.call(this,t)}},{lang:"ru"}),BEM.I18N.decl("i-tanker__languages",{be:"By",be_full:"Белорусский",en:"En",en_full:"Английский",kk:"Kz",kk_full:"Казахский",ru:"Ru",ru_full:"Русский",tt:"Tat",tt_full:"Татарский",uk:"Ua",uk_full:"Украинский"},{lang:"ru"}),BEM.I18N.decl("i-tanker__months",{g1:"Января",g10:"Октября",g11:"Ноября",g12:"Декабря",g2:"Февраля",g3:"Марта",g4:"Апреля",g5:"Мая",g6:"Июня",g7:"Июля",g8:"Августа",g9:"Сентября",n1:"Январь",n10:"Октябрь",n11:"Ноябрь",n12:"Декабрь",n2:"Февраль",n3:"Март",n4:"Апрель",n5:"Май",n6:"Июнь",n7:"Июль",n8:"Август",n9:"Сентябрь",name:function(t){return function(t){var e=i18n.tanker.months[(t.case||"n")+t.month]();return Boolean(t.lowercase)?e.toLowerCase():e}.call(this,t)},short1:"янв",short10:"окт",short11:"ноя",short12:"дек",short2:"фев",short3:"мар",short4:"апр",short5:"май",short6:"июн",short7:"июл",short8:"авг",short9:"сен"},{lang:"ru"}),BEM.I18N.decl("i-tanker__projects",{admins:"Админы",adresa:"Яндекс.Адреса","adresa.short":"Адреса",afisha:"Яндекс.Афиша","afisha.short":"Афиша",all:"Все сервисы",auto:"Яндекс.Авто","auto.short":"Авто",blogs:"Яндекс.Блоги","blogs.short":"Блоги",bond:"Брак",calendar:"Яндекс.Календарь","calendar.short":"Календарь",cloud:"Яндекс.Диск","cloud.short":"Диск",diary:"Этушка",direct:"Яндекс.Директ","direct.short":"Директ",doc:"Документация",gazeta:"Яндекс.Газета","gazeta.short":"Газета",images:"Яндекс.Картинки","images.short":"Картинки",jing:"Джинг",jira:"Jira",job:"Job-jira",lego:"Лего",libra:"Библиотека",mail:"Яндекс.Почта","mail.short":"Почта",maillists:"Рассылки",maps:"Яндекс.Карты","maps.short":"Карты",market:"Яндекс.Маркет","market.short":"Маркет",menia:"Яндекс.Мнения","menia.short":"Мнения",metrika:"Яндекс.Метрика","metrika.short":"Метрика",mobile:"Для мобильного","mobile.short":"Для мобильного",money:"Яндекс.Деньги","money.short":"Деньги",more:"ещё",music:"Яндекс.Музыка","music.short":"Музыка",news:"Яндекс.Новости","news.short":"Новости",otrs:"OTRS","partner.short":"РСЯ","passport.short":"Паспорт",pdd:"Почта для домена","pdd.short":"Почта для домена",planner:"Переговорки","postoffice.short":"Почтовый офис",probki:"Яндекс.Пробки","probki.short":"Пробки",rasp:"Яндекс.Расписания","rasp.short":"Расписания",realty:"Яндекс.Недвижимость","realty.short":"Недвижимость",slovari:"Яндекс.Словари","slovari.short":"Словари",soft:"Яндекс.Программы","soft.short":"Программы",sport:"Яндекс.Спорт","sport.short":"Спорт",staff:"Стафф",statface:"Статистика",storedevconsole:"Кабинет разработчика приложений Яндекс.Store","storedevconsole.short":"Кабинет разработчика Яндекс.Store",text:"Яндекс.Поиск","text.short":"Поиск",tovary:"Яндекс.Товары","tovary.short":"Товары",translate:"Яндекс.Перевод","translate.short":"Перевод",tv:"Яндекс.Телепрограмма","tv.short":"Телепрограмма",wdgt:"Яндекс.Виджеты","wdgt.short":"Виджеты",weather:"Яндекс.Погода","weather.short":"Погода",webmaster:"Яндекс.Вебмастер","webmaster.short":"Вебмастер",wiki:"Вики",work:"Яндекс.Работа","work.short":"Работа",yaca:"Яндекс.Каталог","yaca.short":"Каталог"},{lang:"ru"}),BEM.I18N.decl("logo_type_link",{yandex:"Яндекс"},{lang:"ru"}),BEM.I18N.decl("modal_for_favorites",{add:"Добавить","description-add":"Новости из таких источников показываются на сайте Яндекс.Новостей выше других","description-enter":function(t){return"Это нужно, чтобы добавить издание "+t.name+" в ваши источники"},enter:"Войти",error:"Ошибка",saved:"Добавлено","title-add":function(t){return"Добавить издание "+t.name+" в ваши источники?"},"title-enter":"Войдите в аккаунт на Яндексе"},{lang:"ru"}),BEM.I18N.decl("more",{"region-all":function(t){return"Все новости "+t.name+" в хронологическом порядке"},"rubric-all":function(t){return"Все "+t.name+" в хронологическом порядке"},"spec-all":function(t){return"Все новости рубрики «"+t.name+"» в хронологическом порядке"}},{lang:"ru"}),BEM.I18N.decl("nav-by-rubrics",{all:"Все",label:"Рубрики",more:function(t){return"ещё "+t.count},"more-nav":"Ещё"},{lang:"ru"}),BEM.I18N.decl("dbaW_QaBn7UH96Jd7",{description:function(t){return t.rubric+" в Яндекс.Новостях: события, персоны, цитаты, самые обсуждаемые и горячие сюжеты. Последние новости России и Украины — автоматическое обновление каждые 10 минут."},"export-description":"Яндекс.Новости на вашем сайте: виджеты новостей Яндекса для сайта, ленты новостей в формате rss — автоматическое обновление каждые 10 минут.","index-description":function(t){return"Последние новости в Яндекс.Новостях: Актуальные новости "+t.country+", регионов и областей, важные и свежие новости дня."},"index-title":function(t){return"Яндекс.Новости: Главные новости сегодня, самые свежие и последние новости "+t.country+" онлайн"},"page-title":function(t){return"Яндекс.Новости: "+t.page},"region-description":function(t){return"Новости "+t.region+": последние новости сегодня, самые свежие и актуальные новости "+t.region+" онлайн."},"region-title":function(t){return"Новости "+t.region+" — главные новости "+t.region+" сегодня в Яндекс.Новостях"},"rubric-description":function(t){return t.rubric+": все "+t.rubric_lower+" в Яндекс.Новостях. "+t.top+"."},"rubric-full-description":function(t){return t.rubric+": "+t.subrubrics+" в Яндекс.Новостях. "+t.top+"."},"rubric-spec-description":function(t){return t.rubric+": все новости рубрики «"+t.rubric+"» в Яндекс.Новостях. "+t.top+"."},"rubric-spec-title":function(t){return t.rubric+" — главные новости рубрики «"+t.rubric+"» сегодня в Яндекс.Новостях"},"rubric-title":function(t){return t.rubric+" сегодня в Яндекс.Новостях"},"story-inApp-page-title":"Сюжет","story-page-title":function(t){return t.text+": Яндекс.Новости"},"story-page-title-sport":function(t){return t.text+": Яндекс.Спорт"},"theme-page-description":function(t){return t.text+" - последние новости, самые свежие новости по теме на Яндекс.Новостях"},"theme-page-title":function(t){return t.text+" - последние новости на Яндекс.Новостях"}},{lang:"ru"}),BEM.I18N.decl("dbba3QKtt9g",{label:"Реклама"},{lang:"ru"}),BEM.I18N.decl("region-title",{"choose-another":"Выбрать другой регион","locale-news":"Узнать новости своего района",title:function(t){return"Новости "+t.rubric}},{lang:"ru"}),BEM.I18N.decl("search2",{"search-button-text":"Найти","search-input-label":"Запрос","search-service-label":"Поиск по сервису","search-web-label":"Поиск в интернете"},{lang:"ru"}),BEM.I18N.decl("settings",{close:"Закрыть","error-loading":"Ошибка загрузки настроек.","favorite-sources-description":"Добавьте издания, материалы которых вы хотите видеть в первую очередь:","favorite-sources-title":"Мои источники","ignore-sources-description":"Вы будете реже видеть материалы изданий из этого списка:","ignore-sources-title":"Нежелательные источники","langs-description":"Вы можете выбрать регион выпуска и язык новостных источников.","langs-title":"Язык новостей","need-auth-action":"Продолжить","need-auth-description":"Для доступа ко всем настройкам введите логин и пароль на Яндексе или зарегистрируйтесь.","personalization-description":"В первую очередь показывать в сюжете материалы изданий, которые я читаю чаще других.","personalization-title":"Персонализация",saved:"Сохранено"},{lang:"ru"}),BEM.I18N.decl("settings-tags",{add:"Добавить","add-source":"Добавить источник","error-duplicate-favorite":"Источник уже добавлен в мои источники.","error-duplicate-ignore":"Источник уже добавлен в нежелательные источники.","error-saving":"Ошибка сохранения источника.",more:function(t){return"Ещё "+t.count}},{lang:"ru"}),BEM.I18N.decl("sport-schedule",{hide:"Свернуть",show:function(t){return"Ещё "+t.count+" "+this.keyset("i-tanker__dynamic").key("plural",{count:t.count,one:"матч",some:"матча",many:"матчей"})}},{lang:"ru"}),BEM.I18N.decl("story",{"page-unavailable":"Не удалось отобразить сюжет","page-unavailable-text":"Вы можете поискать похожие сюжеты или почитать о других событиях.","date-updated":function(t){return this.keyset("i-tanker__dynamic").key("toggle",{condition:t.date,true:"Обновлено "+this.keyset("i-tanker__dynamic").key("toggle",{condition:t.today,true:"в ",false:""})+"\n"+t.date,false:""})},"source-and-more":function(t){return t.name+" и ещё "+t.count},"source-count":function(t){return t.count+" "+this.keyset("i-tanker__dynamic").key("plural",{count:t.count,one:"источник",some:"источника",many:"источников"})},"source-related_docs":function(t){return t.count+" "+this.keyset("i-tanker__dynamic").key("plural",{count:t.count,one:"сообщение в теме",some:"сообщения в теме",many:"сообщений в теме"})}},{lang:"ru"}),BEM.I18N.decl("suggest2",{fact:"Факты",group:"Группа подсказок",nah:"Вы искали",nav:"Сайт",on_other_devices:"На других устройствах",text:"Поиск",traffic:"Пробки",weather:"Погода"},{lang:"ru"}),BEM.I18N.decl("suggest2-item",{"quick-answer":"Быстрый ответ"},{lang:"ru"}),BEM.I18N.decl("ticker__text",{notifications:"Уведомлений"},{lang:"ru"}),BEM.I18N.decl("tooltip_for_favorites",{already:function(t){return t.name+" уже находится в списке ваших источников"},description:"Редактировать список ваших источников можно в настройках",dismiss:"Понятно"},{lang:"ru"}),BEM.I18N.decl("user2",{"add-account":"Добавить аккаунт","edit-accounts":"Редактировать список",enter:"Войти",exit:"Выйти",help:"Помощь",mail:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"новое письмо",some:"новых письма",many:"новых писем",none:"Нет новых писем"})},mail_compose:"Написать письмо",passport:"Управление аккаунтом",settings:"Настройки",upload_files:"Мой диск",ya_plus:"Получить Плюс",ya_plus_on:"активен"},{lang:"ru"}),BEM.I18N.decl("video-stack",{autoplay:"Автоплей видео"},{lang:"ru"}),BEM.I18N.decl("widget_for_weather",{day:"Днём",evening:"Вечером",feels:function(t){return"Ощущается как "+t.temp+"°"},morning:"Утром",night:"Ночью",title:"Погода в городе"},{lang:"ru"}),BEM.I18N.decl("yaplus",{be_plus:"Будьте в Плюсе",btn_left:"Не сейчас",btn_right:"Интересно",btn_right_enabled:"Подробнее",enable:"Включить",tooltip_descr:"Скидки в Такси, полный доступ к Музыке и многое другое",tooltip_descr_enabled:"Теперь у вас есть скидки в Такси, полный доступ к Музыке и многое другое",tooltip_header:"Подписка Яндекс.Плюс"},{lang:"ru"}),BEM.I18N.lang("ru"));